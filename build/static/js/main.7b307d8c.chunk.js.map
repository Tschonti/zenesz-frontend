{"version":3,"sources":["actions/types.js","util.js","reducers/playlistReducer.js","reducers/searchListReducer.js","reducers/authReducer.js","reducers/modalReducer.js","reducers/index.js","reducers/songsReducer.js","reducers/alertReducer.js","reducers/playlistListReducer.js","components/MyTooltip.js","components/MyLoader.js","components/ColorSelector.js","components/SearchBar.js","components/MyButton.js","api.js","history.js","actions/songActions.js","actions/playlistActions.js","actions/alertActions.js","components/screens/SongList.js","components/MyModal.js","actions/modalActions.js","components/screens/SongForm.js","components/screens/SongCreate.js","components/screens/SongEdit.js","components/screens/SongShow.js","actions/authActions.js","components/screens/Login.js","components/PlaylistItem.js","components/screens/PlaylistList.js","components/Footer.js","components/Header.js","components/PlaylistForm.js","components/Playlist.js","components/App.js","index.js"],"names":["FETCH_SONGS","UPDATE_WITH_ID","UPDATE_WITH_WRONG_ID","UPDATE_WITH_TERM","CANCEL_SEARCH","FETCH_SONG","CREATE_SONG","EDIT_SONG","DELETE_SONG","NEW_ALERT","REMOVE_ALERT","ADD_TO_PLAYLIST","REMOVE_FROM_PLAYLIST","PLAYLIST_NEXT","PLAYLIST_STEP","START_PLAYLIST","STOP_PLAYLIST","CLEAR_PLAYLIST","TOGGLE_VISIBILITY","MOVE_IN_PLAYLIST","SAVE_PLAYLIST","FETCH_PLAYLISTS","LOAD_PLAYLIST","UNLOAD_PLAYLIST","DELETE_PLAYLIST","REPLACE_PLAYLIST","REPLACE_PLAYLIST_IN_LIST","OPEN_MODAL","CLOSE_MODAL","LOGIN","LOGOUT","RECOVER_STATE","handleError","err","dispatch","response","status","type","payload","msg","statusText","console","error","setTimeout","setTimeoutToRemoveAlert","sortSongs","songs","field","sort","fEl","sEl","onlyUnique","value","index","self","indexOf","addToPlaylistReducer","playlist","newSongId","removeFromPlaylistReducer","idToRemove","remIdx","curIdx","currentIndex","length","clonedState","splice","removeFromPlaylistReducerNoIndex","filter","songId","moveInPlaylistReducer","up","otherIndex","temp","diff","moveInPlaylistReducerNoIndex","addPlacesToPlaylist","map","song","idx","place","removePlacesFromPlaylist","a","b","defaultState","active","visible","loaded","undefined","loadedName","list","validSearch","signedIn","dicsiToken","zeneszToken","open","id","combineReducers","state","action","_","mapKeys","omit","searchList","uniq","alert","form","formReducer","name","modifiable","modal","auth","dicsi","zenesz","playlistList","listOfIds","pl","MyTooltip","isMobile","effect","MyLoader","className","color","ColorSelector","props","val","onChange","e","setter","target","slice","style","backgroundColor","disabled","firstDisabled","defaultText","colors","renderOptions","SearchBar","useState","setValue","debouncedValue","setDebouncedValue","lyricsToo","setLyricsToo","chosenColor","setChosenColor","useEffect","timeOut","clearTimeout","isNaN","term","cancel","placeholder","tabIndex","checked","htmlFor","onClick","MyButton","icons","icon","tip","stopPropagation","text","db","axios","create","baseURL","dicsiDb","createBrowserHistory","fetchSongs","get","data","fetchSong","patchPlaylist","getState","localResult","playlistId","patch","headers","res","addToPlaylist","includes","removeFromPlaylist","playlistToRemoveFrom","find","playlistNext","next","history","push","stopPlaylist","clearPlaylist","delete","toggleVisibility","moveInPlaylist","playlistToMoveIn","loadPlaylist","newAlert","removeAlert","SongList","sortById","event","preventDefault","renderSmallButtons","isMobileOnly","renderSong","to","title","this","isEmpty","setState","empty","findId","searchSongs","cancelSearch","React","Component","connect","Object","values","colorSearch","inTitle","inLyrics","openModal","closeModal","Alert","onClose","severity","Modal","onOpen","trigger","generateTrigger","Header","header","Content","Description","children","Actions","Button","closeText","content","approveText","onApprove","negative","primary","renderInput","input","label","meta","wide","touched","autoComplete","renderError","renderColorPicker","change","renderTextArea","rows","reduxForm","validate","formValues","errors","lyrics","initialValues","colorOption","setColorOption","selectedColorDropdown","setSelectedColorDropdown","selectedColorPicker","setSelectedColorPicker","changeColorOption","opt","onSubmit","handleSubmit","Field","component","edit","v","renderSecondField","onDeleteClick","SongCreate","plVisible","biggestID","createSong","Math","max","formData","post","parseInt","split","join","desc","log","SongEdit","match","params","editSong","verses","deleteSong","ownProps","SMALL_FONT_SIZE","SongShow","fontSize","deleteModalActive","deletePassword","oneVerseModeActive","currentVerse","showButtons","twoColumnMode","showDesc","handleKeyDown","code","handleVerseChange","onSizeChange","increase","onDescChange","handleModeSwitch","forward","handleFontSizeReset","onPlaylistAdd","renderLine","line","numberOfSpaces","renderVerse","verse","lines","renderVerses","firstColumn","ceil","secondColumn","renderButtons","editButton","descButton","desktopButton","optionalButtons","renderTitle","marginLeft","height","width","borderRadius","renderDesc","prevProps","onKeyDown","logout","username","password","login","zeneszResponse","dicsiResponse","token","goBack","playlistStep","upDisabled","downDisabled","unmodifiable","PlaylistList","activePlaylist","fetchPlaylists","navigator","clipboard","writeText","date","Date","parse","toLocaleDateString","Accordion","fluid","styled","Title","handleClick","Icon","generateDateAdded","created_at","copyLink","authLink","rel","href","menuOpen","setMenuOpen","newSong","Playlist","renderSongList","el","extraButtons","savePlaylist","unloadPlaylist","startPlaylist","App","recoverState","path","exact","Login","render","store","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","save","states","debounce","reduxThunk","composeEnhancers","createStore","createStoreWithMiddleware","combinedReducer","load","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.7b307d8c.chunk.js","sourcesContent":["export const FETCH_SONGS = 'FETCH_SONGS'\r\nexport const UPDATE_WITH_ID = 'UPDATE_WITH_ID'\r\nexport const UPDATE_WITH_WRONG_ID = 'UPDATE_WITH_WRONG_ID'\r\nexport const UPDATE_WITH_TERM = 'UPDATE_WITH_TERM'\r\nexport const CANCEL_SEARCH = 'CANCEL_SEARCH'\r\nexport const FETCH_SONG = 'FETCH_SONG'\r\nexport const CREATE_SONG = 'CREATE_SONG'\r\nexport const EDIT_SONG = 'EDIT_SONG'\r\nexport const DELETE_SONG = 'DELETE_SONG'\r\n\r\nexport const NEW_ALERT = 'NEW_ALERT'\r\nexport const REMOVE_ALERT = 'REMOVE_ALERT'\r\n\r\nexport const ADD_TO_PLAYLIST = 'ADD_TO_PLAYLIST'\r\nexport const REMOVE_FROM_PLAYLIST = 'REMOVE_FROM_PLAYLIST'\r\nexport const PLAYLIST_NEXT = 'PLAYLIST_NEXT'\r\nexport const PLAYLIST_STEP = 'PLAYLIST_STEP'\r\nexport const START_PLAYLIST = 'START_PLAYLIST'\r\nexport const STOP_PLAYLIST = 'STOP_PLAYLIST'\r\nexport const CLEAR_PLAYLIST = 'CLEAR_PLAYLIST'\r\nexport const TOGGLE_VISIBILITY = 'TOGGLE_VISIBILITY'\r\nexport const MOVE_IN_PLAYLIST = 'MOVE_IN_PLAYLIST'\r\nexport const SAVE_PLAYLIST = 'SAVE_PLAYLIST'\r\nexport const FETCH_PLAYLISTS = 'FETCH_PLAYLISTS'\r\nexport const LOAD_PLAYLIST = 'LOAD_PLAYLIST'\r\nexport const UNLOAD_PLAYLIST = 'UNLOAD_PLAYLIST'\r\nexport const DELETE_PLAYLIST = 'DELETE_PLAYLIST'\r\nexport const REPLACE_PLAYLIST = 'REPLACE_PLAYLIST'\r\nexport const REPLACE_PLAYLIST_IN_LIST = 'REPLACE_PLAYLIST_IN_LIST'\r\n\r\nexport const OPEN_MODAL = 'OPEN_MODAL'\r\nexport const CLOSE_MODAL = 'CLOSE_MODAL'\r\n\r\nexport const LOGIN = 'LOGIN'\r\nexport const LOGOUT = 'LOGOUT'\r\n\r\nexport const RECOVER_STATE = 'RECOVER_STATE'\r\n","import { NEW_ALERT, REMOVE_ALERT } from './actions/types'\r\n\r\n\r\nconst setTimeoutToRemoveAlert = (dispatch) => {\r\n    setTimeout(() => dispatch({type: REMOVE_ALERT}), 5000)\r\n}\r\n\r\nexport const handleError = (err, dispatch) => {\r\n    if (!err.response) {\r\n        dispatch({type: NEW_ALERT, payload: {msg: 'Valami baj van', type: 'error'}})\r\n        console.error(err)\r\n    } else if (err.response.status === 401 || err.response.status === 403) {\r\n        dispatch({type: NEW_ALERT, payload: {msg: 'Nem vagy bejelentkezve', type: 'error'}})\r\n    } else if (err.response.status === 400) {\r\n        dispatch({type: NEW_ALERT, payload: {msg: 'Hibás felhasználónév vagy jelszó', type: 'error'}})\r\n    } else {\r\n        dispatch({type: NEW_ALERT, payload: {msg: `${err.response.status}: ${err.response.statusText}`, type: 'error'}})\r\n        console.error(err.response)\r\n    }\r\n    setTimeoutToRemoveAlert(dispatch)\r\n}\r\n\r\nexport const sortSongs = (songs, field) => {\r\n    songs.sort((fEl, sEl) => {\r\n        if (fEl[field] < sEl[field]) {\r\n            return -1\r\n        } else if (fEl[field] > sEl[field]) {\r\n            return 1\r\n        } return 0\r\n    })\r\n}\r\n\r\nexport const onlyUnique = (value, index, self) => {\r\n    return self.indexOf(value) === index && value\r\n}\r\n\r\nexport const addToPlaylistReducer = (playlist, newSongId) => {\r\n    return { ...playlist, songs: [ ...playlist.songs, newSongId]}\r\n}\r\n\r\nexport const removeFromPlaylistReducer = (playlist, idToRemove) => {\r\n    const remIdx = playlist.songs.indexOf(idToRemove)\r\n    if (remIdx === -1) {\r\n        return playlist\r\n    }\r\n    let curIdx = playlist.currentIndex\r\n    if ((remIdx < curIdx || remIdx === playlist.songs.length - 1) && curIdx > 0) {\r\n        curIdx -= 1\r\n    }\r\n    const clonedState = [...playlist.songs]\r\n    clonedState.splice(remIdx, 1)\r\n    return { ...playlist, songs: clonedState, currentIndex: curIdx }\r\n}\r\n\r\nexport const removeFromPlaylistReducerNoIndex = (playlist, idToRemove) => {\r\n    return { ...playlist, songs: playlist.songs.filter(songId => songId !== idToRemove)}\r\n}\r\n\r\nexport const moveInPlaylistReducer = (playlist, up, index) => {\r\n    if ((index === 0 && up) || (index === playlist.songs.length - 1 && !up)) {\r\n        return playlist\r\n    }\r\n    const otherIndex = up ? index - 1 : index + 1\r\n    const clonedState = {...playlist}\r\n    const temp = clonedState.songs[otherIndex]\r\n    clonedState.songs[otherIndex] = clonedState.songs[index]\r\n    clonedState.songs[index] = temp\r\n    let diff = 0\r\n    if (playlist.currentIndex === index) {\r\n        diff = up ? -1 : 1\r\n    } else if (playlist.currentIndex === otherIndex) {\r\n        diff = up ? 1 : -1\r\n    }\r\n    clonedState.currentIndex += diff\r\n    return clonedState\r\n}\r\n\r\nexport const moveInPlaylistReducerNoIndex = (playlist, up, index) => {\r\n    if ((index === 0 && up) || (index === playlist.songs.length - 1 && !up)) {\r\n        return playlist\r\n    }\r\n    const otherIndex = up ? index - 1 : index + 1\r\n    const clonedState = {...playlist}\r\n    const temp = clonedState.songs[otherIndex]\r\n    clonedState.songs[otherIndex] = clonedState.songs[index]\r\n    clonedState.songs[index] = temp\r\n    return clonedState\r\n}\r\n\r\nexport const addPlacesToPlaylist = (playlist) => {\r\n    return playlist.map((song, idx) => ({song: song, place: idx}))\r\n}\r\n\r\nexport const removePlacesFromPlaylist = (playlist) => {\r\n    return playlist.sort((a, b) => a.place - b.place).map(song => song.song)\r\n}","import { \r\n    ADD_TO_PLAYLIST,\r\n    REMOVE_FROM_PLAYLIST,\r\n    PLAYLIST_NEXT,\r\n    START_PLAYLIST,\r\n    STOP_PLAYLIST,\r\n    CLEAR_PLAYLIST,\r\n    TOGGLE_VISIBILITY,\r\n    MOVE_IN_PLAYLIST,\r\n    SAVE_PLAYLIST,\r\n    LOAD_PLAYLIST,\r\n    UNLOAD_PLAYLIST,\r\n    REPLACE_PLAYLIST,\r\n    PLAYLIST_STEP,\r\n    RECOVER_STATE,\r\n} from \"../actions/types\"\r\nimport {\r\n    addToPlaylistReducer,\r\n    removeFromPlaylistReducer,\r\n    moveInPlaylistReducer\r\n} from \"../util\"\r\n\r\nconst defaultState = {\r\n    songs: [],\r\n    currentIndex: 0,\r\n    active: false,\r\n    visible: false,\r\n    loaded: undefined,\r\n    loadedName: '',\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = defaultState, action) => {\r\n    switch(action.type) {\r\n        case ADD_TO_PLAYLIST:\r\n            return addToPlaylistReducer(state, action.payload)\r\n        case REMOVE_FROM_PLAYLIST:\r\n            return removeFromPlaylistReducer(state, action.payload)\r\n        case PLAYLIST_NEXT:\r\n            return { ...state, currentIndex: action.payload }\r\n        case START_PLAYLIST:\r\n            return { ...state, active: true}\r\n        case STOP_PLAYLIST:\r\n            return { ...state, active: false}\r\n        case CLEAR_PLAYLIST:\r\n            return { ...defaultState, visible: state.visible }\r\n        case TOGGLE_VISIBILITY:\r\n            return { ...state, visible: !state.visible}\r\n        case MOVE_IN_PLAYLIST:\r\n            return moveInPlaylistReducer(state, action.payload.up, action.payload.index)\r\n        case SAVE_PLAYLIST:\r\n            return {...state, songs: action.payload.songs, loaded: action.payload.id, loadedName: action.payload.name}\r\n        case LOAD_PLAYLIST:\r\n            return {\r\n                songs: action.payload.list.songs,\r\n                currentIndex: 0,\r\n                active: false,\r\n                visible: true,\r\n                loaded: action.payload.modifiable ? action.payload.list.id : undefined,\r\n                loadedName: action.payload.modifiable ? action.payload.list.name : '',\r\n            }\r\n        case UNLOAD_PLAYLIST:\r\n            return { ...defaultState, visible: true }\r\n        case REPLACE_PLAYLIST:\r\n            return action.payload\r\n        case PLAYLIST_STEP:\r\n            return { ...state, currentIndex: action.payload }\r\n        case RECOVER_STATE:\r\n            if (state.list && !state.songs) {\r\n                return {...state, songs: state.list}\r\n            }\r\n            return state\r\n        default:\r\n            return state\r\n    }\r\n}","import _ from 'lodash'\r\n\r\nimport { UPDATE_WITH_ID, UPDATE_WITH_WRONG_ID, UPDATE_WITH_TERM, CANCEL_SEARCH } from \"../actions/types\"\r\n\r\nconst defaultState = {\r\n    list: [],\r\n    validSearch: false\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = defaultState, action) => {\r\n    switch(action.type) {\r\n        case UPDATE_WITH_ID:\r\n            return { list: [action.payload.id], validSearch: true }\r\n        case UPDATE_WITH_WRONG_ID:\r\n            return { list: [], validSearch: true }\r\n        case UPDATE_WITH_TERM:\r\n            return { list: _.uniq(action.payload.map(song => song.id)), validSearch: true}\r\n        case CANCEL_SEARCH:\r\n            return defaultState\r\n        default:\r\n            return state\r\n    }\r\n}","import { LOGIN, LOGOUT } from \"../actions/types\"\r\n\r\nconst defaultState = {\r\n    signedIn: false,\r\n    dicsiToken: null,\r\n    zeneszToken: null,\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = defaultState, action) => {\r\n    switch(action.type) {\r\n        case LOGIN:\r\n            return { signedIn: true, dicsiToken: action.payload.dicsi, zeneszToken: action.payload.zenesz }\r\n        case LOGOUT:\r\n            return defaultState\r\n        default:\r\n            return state\r\n    }\r\n}","import { CLOSE_MODAL, OPEN_MODAL } from \"../actions/types\";\n\nconst defaultState = { open: false, id: undefined }\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default (state = defaultState, action) => {\n    switch(action.type) {\n        case OPEN_MODAL:\n            return { open: true, id: action.payload }\n        case CLOSE_MODAL:\n            return defaultState\n        default:\n            return state\n    }\n}","import { combineReducers } from 'redux'\r\nimport { reducer as formReducer } from \"redux-form\"\r\n\r\nimport songsReducer from './songsReducer'\r\nimport alertReducer from './alertReducer'\r\nimport playlistReducer from './playlistReducer'\r\nimport playlistListReducer from './playlistListReducer'\r\nimport searchListReducer from './searchListReducer'\r\nimport authReducer from './authReducer'\r\nimport modalReducer from './modalReducer'\r\n\r\nexport default combineReducers({\r\n    songs: songsReducer,\r\n    searchList: searchListReducer,\r\n    alert: alertReducer,\r\n    form: formReducer,\r\n    playlist: playlistReducer,\r\n    modal: modalReducer,\r\n    auth: authReducer,\r\n    playlistList: playlistListReducer,\r\n})","import _ from 'lodash'\r\nimport { FETCH_SONGS, FETCH_SONG, CREATE_SONG, EDIT_SONG, DELETE_SONG } from \"../actions/types\"\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = {}, action) => {\r\n    switch (action.type) {\r\n        case FETCH_SONGS:\r\n            return {..._.mapKeys(action.payload, 'id')}\r\n        case FETCH_SONG:\r\n            return {...state, [action.payload.id]: action.payload}\r\n        case CREATE_SONG:\r\n            return {...state, [action.payload.id]: action.payload}\r\n        case EDIT_SONG:\r\n            return {...state, [action.payload.id]: action.payload}\r\n        case DELETE_SONG:\r\n            return _.omit(state, action.payload)\r\n        default:\r\n            return state\r\n    }\r\n}","import { NEW_ALERT, REMOVE_ALERT } from \"../actions/types\"\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = {}, action) => {\r\n    switch(action.type) {\r\n        case NEW_ALERT:\r\n            return action.payload\r\n        case REMOVE_ALERT:\r\n            return {}\r\n        default:\r\n            return state\r\n    }\r\n}","import { FETCH_PLAYLISTS, REPLACE_PLAYLIST, REPLACE_PLAYLIST_IN_LIST, DELETE_PLAYLIST, DELETE_SONG, SAVE_PLAYLIST } from \"../actions/types\"\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default (state = {list: [], loaded: false }, action) => {\n    switch(action.type) {\n        case FETCH_PLAYLISTS:\n            return { list: action.payload, loaded: true }\n        case REPLACE_PLAYLIST:\n        case REPLACE_PLAYLIST_IN_LIST:\n            const listOfIds = state.list.map(pl => pl.id)\n            const idx = listOfIds.indexOf(action.payload.loaded)\n            if (idx === -1) {\n                return state\n            }\n            const clonedState = {...state}\n            clonedState.list[idx].songs = action.payload.songs\n            return clonedState\n        case DELETE_PLAYLIST:\n            return { ...state, list: state.list.filter(pl => pl.id !== action.payload) }\n        case DELETE_SONG:\n            return { ...state, list: state.list.map(pl => ({...pl, songs: pl.songs.filter(songId => songId !== action.payload)}))}\n        case SAVE_PLAYLIST:\n            return { ...state, list: [...state.list, action.payload]}\n        default:\n            return state\n    }\n}","import ReactTooltip from 'react-tooltip'\r\nimport { isMobile } from 'react-device-detect'\r\n\r\nconst MyTooltip = () => {\r\n    if (isMobile) {\r\n        return null\r\n    }\r\n    return <ReactTooltip effect=\"solid\" />\r\n}\r\n\r\nexport default MyTooltip\r\n","import React from 'react'\r\nimport Loader from \"react-loader-spinner\"\r\n\r\nimport '../styles.css'\r\n\r\nconst MyLoader = () => {\r\n    return (\r\n        <div className=\"loader-container\">\r\n            <Loader\r\n                type=\"Oval\"\r\n                color=\"#999897\"\r\n                visible\r\n            />\r\n            <p className=\"big-text\">Betöltés...</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MyLoader","import React from 'react'\r\n\r\nconst ColorSelector = props => {\r\n\r\n    const renderOptions = colors => {\r\n        if (!colors) {\r\n            return\r\n        }\r\n        return (\r\n            colors.map(color => (\r\n                <option key={color} value={'#' + color} style={{backgroundColor: '#' + color}}>\r\n                    {'#' + color}\r\n                </option>\r\n            ))\r\n        )\r\n    }\r\n    return (\r\n        <select className=\"ui dropdown\" name=\"color\" value={'#' + props.val} onChange={(e) => props.setter(e.target.value.slice(1))} style={{backgroundColor: props.val ? '#' + props.val : 'white'}}>\r\n            <option disabled={props.firstDisabled} value=\"#\" style={{backgroundColor: 'white'}}>{props.defaultText}</option>\r\n            {renderOptions(props.colors)}\r\n        </select>\r\n    )\r\n}\r\n\r\nexport default ColorSelector","import React, { useState, useEffect } from 'react'\r\n\r\nimport ColorSelector from './ColorSelector'\r\n\r\nconst SearchBar = props => {\r\n    const [value, setValue] = useState('')\r\n    const [debouncedValue, setDebouncedValue] = useState('')\r\n    const [lyricsToo, setLyricsToo] = useState(false)\r\n    const [chosenColor, setChosenColor] = useState('')\r\n\r\n    useEffect(() => {\r\n        const timeOut = setTimeout(() => {\r\n            setDebouncedValue(value)\r\n        }, 350)\r\n        return () => {\r\n            clearTimeout(timeOut)\r\n        }\r\n    }, [value])\r\n\r\n    useEffect(() => {\r\n        if (debouncedValue) {\r\n            if (isNaN(debouncedValue)) {\r\n                props.term(debouncedValue, lyricsToo, chosenColor)\r\n            } else {\r\n                props.id(debouncedValue)\r\n            }\r\n        } else {\r\n            if (chosenColor) {\r\n                props.term(debouncedValue, lyricsToo, chosenColor)\r\n            } else {\r\n                props.cancel()\r\n            }\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [debouncedValue])\r\n\r\n    useEffect(() => {\r\n        if (value) {\r\n            if (isNaN(value)) {\r\n                props.term(value, lyricsToo, chosenColor)\r\n            }\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [lyricsToo])\r\n\r\n    useEffect(() => {\r\n        props.term(value, lyricsToo, chosenColor)\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [chosenColor])\r\n\r\n    const cancelSearch = () => {\r\n        setValue('')\r\n        setLyricsToo(false)\r\n        setChosenColor('')\r\n        props.cancel()\r\n    }\r\n\r\n    return (\r\n        <div className=\"ui form\">\r\n            <div className=\"inline fields centered-container\">\r\n                <div className=\"ten wide field\">\r\n                    <label>Keresés</label>\r\n                    <input value={value} onChange={(e) => setValue(e.target.value)} placeholder=\"Írd be egy ének sorszámát vagy címének, szövegének egy részletét!\"/>\r\n                </div>\r\n                <div className=\"three wide field\">\r\n                    <div className=\"ui checkbox my-check\">\r\n                        <input id=\"lyricsCheckbox\" type=\"checkbox\" tabIndex=\"0\" checked={lyricsToo} onChange={() => setLyricsToo(!lyricsToo)} />\r\n                        <label htmlFor=\"lyricsCheckbox\">dalszövegben is</label>\r\n                    </div>\r\n                </div>\r\n                <div className=\"three wide field\">\r\n                    <ColorSelector val={chosenColor} setter={setChosenColor} defaultText=\"Minden dal\" colors={props.colors} firstDisabled={false} />\r\n                    <i data-tip=\"Keresés elvetése\" className=\"icon bigger-icon times circle gray pointer\" onClick={cancelSearch}></i>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchBar","import React from 'react'\r\n\r\nconst MyButton = props => {\r\n    const handleClick = (e) => {\r\n        e.stopPropagation()\r\n        props.onClick()\r\n    }\r\n\r\n    const icons = props.icons.map((icon, idx) => <i key={idx} className={`icon ${icon}`}></i>)\r\n    return (\r\n        <button data-tip={props.tip} aria-label={props.tip} className={`ui button my-button icon ${props.color}`} onClick={handleClick} disabled={props.disabled} >{icons}{props.text}</button>\r\n    )\r\n}\r\n\r\nexport default MyButton","import axios from 'axios'\r\n\r\nexport const db = axios.create({\r\n    baseURL: 'https://zenesz-api.herokuapp.com/'\r\n})\r\n\r\nexport const dicsiDb = axios.create({\r\n    baseURL: 'https://dicsi-api.herokuapp.com/'\r\n})","import { createBrowserHistory } from 'history'\r\n\r\nexport default createBrowserHistory()","import {\r\n    FETCH_SONGS,\r\n    FETCH_SONG,\r\n    CREATE_SONG,\r\n    EDIT_SONG,\r\n    DELETE_SONG,\r\n    REMOVE_FROM_PLAYLIST,\r\n    UPDATE_WITH_ID,\r\n    UPDATE_WITH_WRONG_ID,\r\n    UPDATE_WITH_TERM,\r\n    CANCEL_SEARCH, \r\n    CLOSE_MODAL} from './types'\r\nimport { db } from '../api'\r\nimport history from '../history'\r\nimport { handleError } from '../util'\r\n\r\nexport const fetchSongs = () => async dispatch => {\r\n    try {\r\n        const response = await db.get('/songs/?format=json')\r\n        dispatch({type: FETCH_SONGS, payload: response.data})\r\n    } catch (err) {\r\n        handleError(err, dispatch)\r\n    }\r\n}\r\n\r\nexport const fetchSong = id => async dispatch => {\r\n    try {\r\n        const response = await db.get(`/songs/${id}/?format=json`)\r\n        dispatch({type: FETCH_SONG, payload: response.data})\r\n    } catch (err) {\r\n        handleError(err, dispatch)\r\n    }\r\n}\r\n\r\nexport const findId = (id) => async dispatch => {\r\n    try {\r\n        const response = await db.get(`/songs/${id}/?format=json`)\r\n        dispatch({type: UPDATE_WITH_ID, payload: response.data})\r\n    } catch (err) {\r\n        if (err.response) {\r\n            if (err.response.status === 404) {\r\n                dispatch({type: UPDATE_WITH_WRONG_ID})\r\n            } else {\r\n                handleError(err, dispatch)\r\n            }\r\n        } else {\r\n            handleError(err, dispatch)\r\n        }\r\n    }\r\n}\r\n\r\nexport const searchSongs = (term, lyricsToo, color) => async dispatch => {\r\n    try {\r\n        if (term === '' && color === '') {\r\n            dispatch({type: CANCEL_SEARCH})\r\n        } else {\r\n            if (term === '') {\r\n                term = '---noval---'\r\n            }\r\n            const colorSearch = color ? color + '/' : ''\r\n            const inTitle = await db.get(`/search-title/${term}/${colorSearch}`)\r\n            if (lyricsToo) {\r\n                const inLyrics = await db.get(`/search-lyrics/${term}/${colorSearch}`)\r\n                dispatch({type: UPDATE_WITH_TERM, payload: [...inTitle.data, ...inLyrics.data]})\r\n            } else {\r\n                dispatch({type: UPDATE_WITH_TERM, payload: inTitle.data})\r\n            }\r\n        }\r\n\r\n    } catch (err) {\r\n        handleError(err, dispatch)\r\n    }\r\n}\r\n\r\nexport const cancelSearch = () => {\r\n    return { type: CANCEL_SEARCH}\r\n}\r\n\r\nexport const createSong = formData => async (dispatch, getState) => {\r\n    try {\r\n        const color = formData.color ? formData.color.slice(1) : ''\r\n        const response = await db.post('/songs/', {\r\n            id: parseInt(formData.id),\r\n            title: formData.title,\r\n            lyrics: formData.lyrics.split('\\n\\n').join('###'),\r\n            desc: formData.desc || '',\r\n            color: color,\r\n        }, { headers: {'Authorization': `Token ${getState().auth.zeneszToken}` }})\r\n        dispatch({type: CREATE_SONG, payload: response.data})\r\n        history.push(`/zenesz/songs/${formData.id}`)\r\n    } catch (err) {\r\n        console.log(err.response)\r\n        handleError(err, dispatch)\r\n    }\r\n\r\n}\r\n\r\nexport const editSong = (id, formData) => async (dispatch, getState) => {\r\n    try {\r\n        const response = await db.patch(`/songs/${id}/`, {\r\n            title: formData.title,\r\n            lyrics: formData.lyrics.split('\\n\\n').join('###'),\r\n            desc: formData.desc || '',\r\n            color: formData.color.slice(1)\r\n        }, { headers: {'Authorization': `Token ${getState().auth.zeneszToken}` }})\r\n        dispatch({type: EDIT_SONG, payload: response.data})\r\n        history.push(`/zenesz/songs/${id}`)\r\n    } catch (err) {\r\n        handleError(err, dispatch)\r\n    }\r\n}\r\n\r\nexport const deleteSong = (id) => async (dispatch, getState) => {\r\n    try {\r\n        await db.delete(`/songs/${id}/`,\r\n            { headers: {'Authorization': `Token ${getState().auth.zeneszToken}` }})\r\n        if (getState().playlist.list.includes(id)) {\r\n            dispatch({ type: REMOVE_FROM_PLAYLIST, payload: id })\r\n        }\r\n        dispatch({type: DELETE_SONG, payload: id})\r\n        dispatch({type: CLOSE_MODAL})\r\n        history.push('/zenesz/')\r\n    } catch(err) {\r\n        handleError(err, dispatch)\r\n    }\r\n}","import {\r\n    ADD_TO_PLAYLIST,\r\n    REMOVE_FROM_PLAYLIST,\r\n    PLAYLIST_NEXT,\r\n    START_PLAYLIST,\r\n    STOP_PLAYLIST,\r\n    CLEAR_PLAYLIST,\r\n    TOGGLE_VISIBILITY,\r\n    MOVE_IN_PLAYLIST,\r\n    SAVE_PLAYLIST,\r\n    FETCH_PLAYLISTS,\r\n    LOAD_PLAYLIST,\r\n    UNLOAD_PLAYLIST,\r\n    REPLACE_PLAYLIST,\r\n    REPLACE_PLAYLIST_IN_LIST,\r\n    NEW_ALERT,\r\n    DELETE_PLAYLIST,\r\n    CLOSE_MODAL,\r\n    PLAYLIST_STEP,\r\n    RECOVER_STATE\r\n} from './types'\r\nimport {\r\n    addToPlaylistReducer,\r\n    removeFromPlaylistReducer,\r\n    removeFromPlaylistReducerNoIndex,\r\n    moveInPlaylistReducer,\r\n    moveInPlaylistReducerNoIndex,\r\n    removePlacesFromPlaylist,\r\n    addPlacesToPlaylist\r\n} from \"../util\"\r\nimport { dicsiDb } from '../api'\r\nimport { handleError } from '../util'\r\nimport history from '../history'\r\n\r\nconst patchPlaylist = async (dispatch, getState, localResult, playlistId) => {\r\n    try {\r\n        const res = await dicsiDb.patch(`/playlists/${playlistId}/`, {\r\n            songs: addPlacesToPlaylist(localResult.songs)\r\n        }, { headers: {'Authorization': `Token ${getState().auth.dicsiToken}` }})\r\n        if (getState().playlist.loaded === playlistId) {\r\n            dispatch({ type: REPLACE_PLAYLIST, payload: { ...localResult, songs: removePlacesFromPlaylist(res.data.songs) }})\r\n        } else {\r\n            dispatch({ type: REPLACE_PLAYLIST_IN_LIST, payload: {loaded: playlistId, songs: removePlacesFromPlaylist(res.data.songs) }})\r\n        }\r\n    } catch (err) {\r\n        handleError(err, dispatch)\r\n    }\r\n}\r\n\r\nexport const addToPlaylist = id => async (dispatch, getState) => {\r\n    if (getState().playlist.songs.includes(id)) {\r\n        dispatch({ type: NEW_ALERT, payload: {msg: 'Ez a dal már fent van a lejátszási listán', type: 'error'}})\r\n    } else {\r\n        if (!getState().playlist.loaded) {\r\n            dispatch({ type: ADD_TO_PLAYLIST, payload: id })\r\n        } else {\r\n            const localResult = addToPlaylistReducer(getState().playlist, id)\r\n            await patchPlaylist(dispatch, getState, localResult, getState().playlist.loaded)\r\n        }\r\n    }\r\n}\r\n\r\nexport const removeFromPlaylist = (songId, playlistId) => async (dispatch, getState) => {\r\n    if (!getState().playlist.loaded && !playlistId) {\r\n        dispatch({ type: REMOVE_FROM_PLAYLIST, payload: songId })\r\n    } else {\r\n        let localResult = ''\r\n        if (getState().playlist.loaded === playlistId) {\r\n            localResult = removeFromPlaylistReducer(getState().playlist, songId)\r\n        } else {\r\n            const playlistToRemoveFrom = getState().playlistList.list.find(pl => pl.id === playlistId)\r\n            localResult = removeFromPlaylistReducerNoIndex(playlistToRemoveFrom, songId)\r\n        }\r\n        await patchPlaylist(dispatch, getState, localResult, playlistId)\r\n    }\r\n}\r\n\r\nexport const playlistNext = (next, state) => {\r\n    if (!state.active) {\r\n        return\r\n    }\r\n    if (next) {\r\n        if (state.currentIndex === state.songs.length - 1) {\r\n            history.push(`/zenesz/songs/${state.songs[0]}`)\r\n            return { type: PLAYLIST_NEXT, payload: 0 }\r\n        } else {\r\n            history.push(`/zenesz/songs/${state.songs[state.currentIndex + 1]}`)\r\n            return { type: PLAYLIST_NEXT, payload: state.currentIndex + 1 }\r\n        }\r\n    } else {\r\n        if (state.currentIndex < 1) {\r\n            history.push(`/zenesz/songs/${state.songs[state.songs.length - 1]}`)\r\n            return { type: PLAYLIST_NEXT, payload: state.songs.length - 1 }\r\n        } else {\r\n            history.push(`/zenesz/songs/${state.songs[state.currentIndex - 1]}`)\r\n            return { type: PLAYLIST_NEXT, payload: state.currentIndex - 1 }\r\n        }\r\n    }\r\n}\r\n\r\nexport const playlistStep = (idx) => {\r\n    return { type: PLAYLIST_STEP, payload: idx }\r\n}\r\n\r\nexport const startPlaylist = (state) => {\r\n    history.push(`/zenesz/songs/${state.songs[state.currentIndex]}`)\r\n    return {type: START_PLAYLIST}\r\n}\r\nexport const stopPlaylist = () => {\r\n    return {type: STOP_PLAYLIST}\r\n}\r\n\r\nexport const clearPlaylist = (id) => async (dispatch, getState) => {\r\n    if (!getState().playlist.loaded && !id) {\r\n        dispatch({type: CLEAR_PLAYLIST})\r\n        dispatch({type: CLOSE_MODAL})\r\n    } else {\r\n        try {\r\n            await dicsiDb.delete(`/playlists/${id}/`,\r\n                { headers: {'Authorization': `Token ${getState().auth.dicsiToken}` }})\r\n            if (id === getState().playlist.loaded) {\r\n                dispatch({type: CLEAR_PLAYLIST})\r\n            }\r\n            dispatch({type: DELETE_PLAYLIST, payload: id})\r\n            dispatch({type: CLOSE_MODAL})\r\n        } catch(err)  {\r\n            handleError(err, dispatch)\r\n        }\r\n    } \r\n}\r\n\r\nexport const toggleVisibility = () => {\r\n    return { type: TOGGLE_VISIBILITY }\r\n}\r\n\r\nexport const moveInPlaylist = (index, up, playlistId) => async (dispatch, getState) => {\r\n    if (!getState().playlist.loaded && !playlistId) {\r\n        dispatch({ type: MOVE_IN_PLAYLIST, payload: {index, up} })\r\n    } else {\r\n        let localResult = ''\r\n        if (getState().playlist.loaded === playlistId) {\r\n            localResult = moveInPlaylistReducer(getState().playlist, up, index)\r\n        } else {\r\n            const playlistToMoveIn = getState().playlistList.list.find(pl => pl.id === playlistId)\r\n            localResult = moveInPlaylistReducerNoIndex(playlistToMoveIn, up, index)\r\n        }\r\n        await patchPlaylist(dispatch, getState, localResult, playlistId)\r\n    }\r\n}\r\n\r\nexport const savePlaylist = formData => async (dispatch, getState) => {\r\n    try {\r\n        const response = await dicsiDb.post('/playlists/', {\r\n            name: formData.name,\r\n            songs: addPlacesToPlaylist(getState().playlist.songs)\r\n        }, { headers: {'Authorization': `Token ${getState().auth.dicsiToken}` }})\r\n            dispatch({type: CLOSE_MODAL})\r\n            dispatch({type: SAVE_PLAYLIST, payload: {...response.data, songs: removePlacesFromPlaylist(response.data.songs)}})\r\n    } catch (err) {\r\n        handleError(err, dispatch)\r\n    }\r\n}\r\n\r\nexport const fetchPlaylists = () => async dispatch => {\r\n    try {\r\n        const response = await dicsiDb.get('/playlists/?format=json')\r\n        dispatch({type: FETCH_PLAYLISTS, payload: response.data.map(pl => ({...pl, songs: removePlacesFromPlaylist(pl.songs)}))})\r\n    } catch (err) {\r\n        handleError(err, dispatch)\r\n    }\r\n}\r\n\r\nexport const loadPlaylist = (id, modifiable) => async dispatch => {\r\n    try {\r\n        const response = await dicsiDb.get(`/playlists/${id}?format=json`)\r\n        dispatch({type: LOAD_PLAYLIST, payload: {list: {...response.data, songs: removePlacesFromPlaylist(response.data.songs)}, modifiable}})\r\n    } catch (err) {\r\n        handleError(err, dispatch)\r\n    }\r\n}\r\n\r\nexport const unloadPlaylist = () => {\r\n    return {type: UNLOAD_PLAYLIST}\r\n}\r\n\r\nexport const recoverState = () => {\r\n    return { type: RECOVER_STATE }\r\n}\r\n","import { NEW_ALERT, REMOVE_ALERT } from './types'\r\n\r\nexport const newAlert = (msg, type) => {\r\n    return {type: NEW_ALERT, payload: {msg, type}}\r\n}\r\n\r\nexport const removeAlert = () => {\r\n    return {type: REMOVE_ALERT}\r\n}\r\n","import React from 'react'\r\nimport { connect }  from 'react-redux'\r\nimport _ from 'lodash'\r\nimport { isMobileOnly } from 'react-device-detect'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport '../../styles.css'\r\nimport { sortSongs, onlyUnique } from '../../util'\r\n\r\nimport MyTooltip from '../MyTooltip'\r\nimport MyLoader from '../MyLoader'\r\nimport SearchBar from '../SearchBar'\r\nimport MyButton from '../MyButton'\r\n\r\nimport { fetchSongs,  searchSongs, findId, cancelSearch } from '../../actions/songActions'\r\nimport { addToPlaylist, removeFromPlaylist, playlistNext, stopPlaylist, toggleVisibility } from '../../actions/playlistActions'\r\nimport { removeAlert } from '../../actions/alertActions'\r\n\r\nclass SongList extends React.Component {\r\n    state = {\r\n        loaded: false,\r\n        sortById: true,\r\n        colors: [],\r\n    }\r\n    componentDidMount() {\r\n        this.props.removeAlert()\r\n        this.props.fetchSongs()\r\n        this.props.stopPlaylist()\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (!this.state.loaded && !_.isEmpty(this.props.songs)) {\r\n            this.setState({ colors: this.props.songs.map(song => song.color).filter(onlyUnique), loaded: true})\r\n        }\r\n    }\r\n\r\n    addToPlaylist = (event, id) => {\r\n        event.preventDefault()\r\n        this.props.addToPlaylist(id)\r\n        event.stopPropagation()\r\n    }\r\n    removeFromPlaylist = (event, id) => {\r\n        event.preventDefault()\r\n        this.props.removeFromPlaylist(id)\r\n        event.stopPropagation()\r\n    }\r\n\r\n    renderSmallButtons = song => {\r\n        const modifiable = !this.props.playlist.loaded || this.props.signedIn\r\n        if ((this.props.playlist.visible || isMobileOnly) && modifiable) {\r\n            return this.props.playlist.songs.includes(song.id) ? (\r\n                <i \r\n                    data-tip=\"Eltávolítás a lejátszási listáról\" \r\n                    className=\"icon bigger-icon minus circle red\" \r\n                    onClick={(e) => this.removeFromPlaylist(e, song.id)}>\r\n                </i>\r\n            ) : (\r\n                <i \r\n                    data-tip=\"Hozzáadás a lejátszási listához\" \r\n                    className=\"icon bigger-icon plus circle green\" \r\n                    onClick={(e) => this.addToPlaylist(e, song.id)}>\r\n                </i>\r\n            )\r\n        }\r\n    }\r\n\r\n    renderSong = (song, idx) => (\r\n        <div style={{ backgroundColor: '#' + song.color }} className={`column pointer hover-grey my-bottom-border ${idx % 3 !== 0 && !isMobileOnly ? 'left-border' : ''}`} key={song.id} >\r\n            <Link to={`/zenesz/songs/${song.id}`} className=\"notLinkStyle\">\r\n                <div className=\"content right-left\">\r\n                    <div className='next-to'>\r\n                        <h3 className=\"header my-header-text\">{song.id}. {song.title}</h3>\r\n                    </div>\r\n                    {this.renderSmallButtons(song)}\r\n                </div>\r\n            </Link>\r\n        </div>\r\n    )\r\n\r\n    render() {\r\n        if (_.isEmpty(this.props.songs) && !this.state.loaded) {\r\n            return (\r\n                <MyLoader />\r\n            )\r\n        }\r\n\r\n        if (!this.state.sortById) {\r\n            sortSongs(this.props.songs, 'title')\r\n        } else {\r\n            sortSongs(this.props.songs, 'id')\r\n        }\r\n\r\n        const { searchList } = this.props\r\n        let songs = []\r\n        if (searchList.validSearch) {\r\n            songs = searchList.list.map((id, idx) => this.renderSong(this.props.songs.find(song => song.id === id), idx))\r\n        } else {\r\n            songs = this.props.songs.map((song, idx) => this.renderSong(song, idx))\r\n        }\r\n\r\n        const empty = songs.length === 0 ? <p className=\"big-text centered-text\">Nincs találat!</p> : null\r\n        return (\r\n            <div className=\"ui container\">\r\n                <MyTooltip />\r\n                <div className={`ui ${isMobileOnly ? '' : 'stackable grid'}`}>\r\n                    <div className=\"twelve wide column\">\r\n                        <SearchBar id={this.props.findId} term={this.props.searchSongs} cancel={this.props.cancelSearch} colors={this.state.colors}/>\r\n                    </div>\r\n                    <div className=\"four wide column \">\r\n                        <div className=\"centered-container\">\r\n                            <MyButton color=\"blue\" onClick={() => this.setState({ sortById: true})} icons={[\"sort numeric down\"]} tip=\"Énekek rendezése sorszám szerint\" disabled={this.state.sortById || this.props.searchList.validSearch}/>\r\n                            <MyButton color=\"blue\" onClick={() => this.setState({ sortById: false})} icons={[\"sort alphabet down\"]} tip=\"Énekek rendezése cím szerint\" disabled={!this.state.sortById || this.props.searchList.validSearch}/>\r\n                            <MyButton color=\"green\" onClick={this.props.toggleVisibility} icons={[\"play circle\"]} text=\" Lejátszási lista\"/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"ui stackable three column grid\">\r\n                    {songs}\r\n                </div>\r\n                {empty}\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        songs: Object.values(state.songs),\r\n        searchList: state.searchList,\r\n        playlist: state.playlist,\r\n        signedIn: state.auth.signedIn\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    fetchSongs,\r\n    removeAlert,\r\n    searchSongs,\r\n    findId,\r\n    addToPlaylist,\r\n    removeFromPlaylist,\r\n    playlistNext,\r\n    stopPlaylist,\r\n    cancelSearch,\r\n    toggleVisibility\r\n})(SongList)","import React from 'react'\r\nimport Alert from '@material-ui/lab/Alert'\r\nimport { connect } from 'react-redux'\r\nimport { Button, Modal } from 'semantic-ui-react'\r\n\r\nimport '../styles.css'\r\nimport { removeAlert } from '../actions/alertActions'\r\nimport { openModal, closeModal } from '../actions/modalActions'\r\n\r\nconst MyModal = props => {\r\n  const alert = props.alert.msg ?\r\n    <Alert onClose={() => {props.removeAlert()}} severity={props.alert.type} >\r\n        {props.alert.msg}\r\n    </Alert>\r\n    : null\r\n\r\n  return (\r\n    <Modal\r\n      onClose={props.closeModal}\r\n      onOpen={() => props.openModal(props.id)}\r\n      open={props.modal.open && props.modal.id === props.id}\r\n      trigger={props.generateTrigger()}\r\n    >\r\n      <Modal.Header>{props.header}</Modal.Header>\r\n      <Modal.Content>\r\n        <Modal.Description>\r\n            {props.children}\r\n        </Modal.Description>\r\n      </Modal.Content>\r\n      <Modal.Actions>\r\n        <div className=\"centered\">\r\n            {alert}\r\n        </div>\r\n        <Button onClick={props.closeModal}>\r\n          {props.closeText}\r\n        </Button>\r\n        <Button\r\n          content={props.approveText}\r\n          onClick={() => {props.onApprove()}}\r\n          negative={props.negative}\r\n          primary={props.primary}\r\n        />\r\n      </Modal.Actions>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n      alert: state.alert,\r\n      modal: state.modal\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, {removeAlert, openModal, closeModal})(MyModal)","import { CLOSE_MODAL, OPEN_MODAL } from \"./types\"\n\nexport const openModal = (id) => {\n    return { type: OPEN_MODAL, payload: id }\n}\n\nexport const closeModal = () => {\n    return { type: CLOSE_MODAL }\n}","import React, { useState } from 'react'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { Link } from 'react-router-dom'\r\nimport { isMobileOnly } from 'react-device-detect'\r\n\r\nimport MyTooltip from '../MyTooltip'\r\nimport MyModal from './../MyModal'\r\nimport ColorSelector from './../ColorSelector'\r\n\r\nconst renderInput = ({ input, label, meta, type, disabled, wide, tip }) => {\r\n    return (\r\n        <div className={`${wide} field ${meta.error && meta.touched ? 'error' : ''}`}>\r\n            <label>{label}</label>\r\n            <input {...input} type={type} autoComplete=\"off\" disabled={disabled} data-tip={tip} />\r\n            {renderError(meta)}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst renderColorPicker = ({ type, disabled, val, setter, change }) => (\r\n    <input value={val} type={type} autoComplete=\"off\" disabled={disabled} id=\"colorPicker\" onChange={(e) => {setter(e.target.value); change('color', e.target.value)}} />\r\n)\r\n\r\nconst renderTextArea = ({ input, label, meta, tip, rows }) => {\r\n    return (\r\n        <div className={`field ${meta.error && meta.touched ? 'error' : ''}`}>\r\n            <label>{label}</label>\r\n            <textarea className=\"roboto\" {...input} autoComplete=\"off\" data-tip={tip} rows={rows}/>\r\n            {renderError(meta)}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst renderError = ({ error, touched }) => {\r\n    if (touched && error) {\r\n        return (\r\n            <div className=\"ui error message\">\r\n                <div className=\"header\">\r\n                    {error}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst SongForm = props => {\r\n    const onSubmit = formValues => {\r\n        props.onSubmit(formValues)\r\n    }\r\n\r\n    const buttons = () => {\r\n        if (!props.edit) {\r\n            return <button className=\"ui button primary\">Mentés</button>\r\n        }\r\n        return (\r\n            <div className=\"ui segment\">\r\n                <div className=\"ui two column very relaxed grid\">\r\n                    <div className=\"column\">\r\n                        <button className={`ui button primary ${isMobileOnly ? 'my-bigger-button' : ''}`}>Mentés</button>\r\n                        <Link to={`/zenesz/songs/${props.id}`} className={`ui button grey ${isMobileOnly ? 'my-bigger-button' : ''}`}>Mégse</Link>\r\n                    </div>\r\n                    <div className=\"column jobbra\">\r\n                        <MyModal\r\n                            header=\"Biztosan törlöd ezt az éneket?\"\r\n                            generateTrigger={() => <button type=\"button\" className={`ui button negative ${isMobileOnly ? 'my-bigger-button' : ''}`}>Ének törlése</button>}\r\n                            closeText=\"Mégse\"\r\n                            approveText=\"Törlés\"\r\n                            onApprove={props.onDeleteClick}\r\n                        >\r\n                            {`Biztosan törlöd a(z) ${props.initialValues.title} éneket? Ezt később nem tudod visszavonni!`}\r\n                        </MyModal>\r\n                    </div>\r\n                </div>\r\n                <div className=\"ui vertical divider\">\r\n                    vagy\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    const [colorOption, setColorOption] = useState(props.initialValues.color ? 'existing' : 'none')\r\n    const [selectedColorDropdown, setSelectedColorDropdown] = useState(props.initialValues.color ? props.initialValues.color.slice(1) : '')\r\n    const [selectedColorPicker, setSelectedColorPicker] = useState(props.initialValues.color ? props.initialValues.color : '')\r\n\r\n    const renderSecondField = () => {\r\n        switch(colorOption) {\r\n            case 'existing': return <Field name='color' component={ColorSelector} colors={props.colors} val={selectedColorDropdown} setter={(v) => {setSelectedColorDropdown(v); props.change('color', '#' + v)}} defaultText=\"Válassz egy színt\" firstDisabled={true} />\r\n            case 'new': return <Field name=\"color\" component={renderColorPicker} change={props.change} type=\"color\" val={selectedColorPicker} setter={setSelectedColorPicker} />\r\n            default: return\r\n        }\r\n    }\r\n\r\n    const changeColorOption = opt => {\r\n        switch(opt) {\r\n            case 'existing': props.change('color', '#' + selectedColorDropdown); break\r\n            case 'new': props.change('color', selectedColorPicker); break\r\n            default: props.change('color', '')\r\n        }\r\n        setColorOption(opt)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <form className=\"ui form error\" onSubmit={props.handleSubmit(onSubmit)}>\r\n                <MyTooltip />\r\n                <div className=\"fields\">\r\n                    <Field wide=\"three wide\" tip=\"Az ének sorszáma. Egyedi, később nem változtatható\" name=\"id\" component={renderInput} label=\"Sorszám\" type=\"number\" props={{ disabled: props.edit}}/>\r\n                    <Field wide=\"thirteen wide\" name=\"title\" component={renderInput} label=\"Cím\" type=\"text\"/>\r\n                </div>\r\n                <label>Szín</label>\r\n                <div className='fields'>\r\n                    <div className='three wide field'>\r\n                        <div className=\"ui form\">\r\n                            <div className=\"grouped fields\">\r\n                                <div className=\"field\">\r\n                                    <div className=\"ui radio checkbox\" >\r\n                                        <input type=\"radio\" name=\"color\" checked={colorOption === 'none'} id=\"none\" onChange={() => changeColorOption('none')} />\r\n                                        <label className='pointer' htmlFor=\"none\">Nincs szín</label>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"field\">\r\n                                    <div className=\"ui radio checkbox\">\r\n                                        <input type=\"radio\" name=\"color\" checked={colorOption === 'existing'} id=\"existing\" onChange={() => changeColorOption('existing')} />\r\n                                        <label className='pointer' htmlFor=\"existing\">Létező szín</label>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"field\">\r\n                                    <div className=\"ui radio checkbox\">\r\n                                        <input type=\"radio\" name=\"color\" checked={colorOption === 'new'} id=\"new\" onChange={() => changeColorOption('new')} />\r\n                                        <label className='pointer' htmlFor=\"new\">Új szín</label>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div className='thirteen wide field'>\r\n                        {renderSecondField()}\r\n                    </div>\r\n                </div>\r\n                <Field tip=\"Az alkalmazás dupla sorközöknél bontja versszakokra a szöveget.\" rows={10} name=\"lyrics\" component={renderTextArea} label=\"Dalszöveg\"/>\r\n                <Field name=\"desc\" component={renderTextArea} label=\"Megjegyzés (opcionális)\" rows={2}/>\r\n                {buttons()}\r\n            </form>\r\n            {props.children}\r\n        </>\r\n    )\r\n}\r\n\r\nconst validate = formValues => {\r\n    const errors = {}\r\n    if (!formValues.id) {\r\n        errors.id = 'Add meg az ének sorszámát!'\r\n    }\r\n    if (!formValues.title) {\r\n        errors.title = 'Add meg az ének címét!'\r\n    }\r\n    if (!formValues.lyrics) {\r\n        errors.lyrics = 'Add meg a dalszöveget!'\r\n    }\r\n    return errors\r\n}\r\n\r\nexport default reduxForm({\r\n    form: 'songForm',\r\n    validate\r\n})(SongForm)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport _ from 'lodash'\r\n\r\nimport SongForm from './SongForm'\r\nimport MyLoader from '../MyLoader'\r\n\r\nimport { createSong, fetchSongs } from '../../actions/songActions'\r\nimport { stopPlaylist, toggleVisibility,  } from '../../actions/playlistActions'\r\nimport { onlyUnique } from '../../util'\r\n\r\nclass SongCreate extends React.Component {\r\n    state = {\r\n        loaded: false,\r\n        colors: [],\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.fetchSongs()\r\n        this.props.stopPlaylist()\r\n        if (this.props.plVisible) {\r\n            this.props.toggleVisibility()\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (!this.state.loaded && !_.isEmpty(this.props.songs)) {\r\n            this.setState({ loaded: true, colors: this.props.songs.map(song => song.color).filter(onlyUnique)})\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.props.biggestID > 0) {\r\n            return (\r\n                <div className=\"ui container\">\r\n                    <h2 className=\"ui header\">\r\n                        Új ének felvétele\r\n                    </h2>\r\n                    <SongForm onSubmit={this.props.createSong} initialValues={{ id: this.props.biggestID + 1}} colors={this.state.colors}/>\r\n                </div>\r\n            )\r\n        } else {\r\n            return <MyLoader />\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        plVisible: state.playlist.visible,\r\n        biggestID: Math.max(...Object.values(state.songs).map(song => song.id)),\r\n        songs: Object.values(state.songs),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { createSong, stopPlaylist, toggleVisibility, fetchSongs })(SongCreate)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport SongForm from './SongForm'\r\n\r\nimport { editSong, fetchSongs, fetchSong, deleteSong } from '../../actions/songActions'\r\nimport { stopPlaylist, toggleVisibility } from '../../actions/playlistActions'\r\nimport MyLoader from '../MyLoader'\r\nimport { onlyUnique } from '../../util'\r\n\r\n\r\nclass SongEdit extends React.Component {\r\n    state = {\r\n        loaded: false,\r\n        colors: [],\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.fetchSong(this.props.match.params.id)\r\n        this.props.fetchSongs()\r\n        this.props.stopPlaylist()\r\n        if (this.props.plVisible) {\r\n            this.props.toggleVisibility()\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (!this.state.loaded && this.props.songs.length > 1) {\r\n            this.setState({ loaded: true, colors: this.props.songs.map(song => song.color).filter(onlyUnique)})\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.song) {\r\n            return <MyLoader />\r\n        }\r\n        const song = this.props.song\r\n        return (\r\n            <div className=\"ui container\">\r\n                <h2 className=\"ui header\">\r\n                    Ének szerkesztése\r\n                </h2>\r\n                <SongForm\r\n                    onSubmit={(formValues) => this.props.editSong(this.props.match.params.id, formValues)}\r\n                    initialValues={{id: song.id, title: song.title, lyrics: song.verses.join('\\n\\n'), desc: song.desc, color: song.color ? '#' + song.color : ''}}\r\n                    edit id={song.id} onDeleteClick={() => this.props.deleteSong(parseInt(this.props.match.params.id))} colors={this.state.colors}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n        song: state.songs[ownProps.match.params.id],\r\n        songs: Object.values(state.songs),\r\n        plVisible: state.playlist.visible,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { editSong, fetchSongs, fetchSong, stopPlaylist, toggleVisibility, deleteSong })(SongEdit)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { isMobileOnly } from 'react-device-detect'\r\n\r\nimport '../../styles.css'\r\n\r\nimport { fetchSong } from '../../actions/songActions'\r\nimport { addToPlaylist, toggleVisibility } from '../../actions/playlistActions'\r\nimport { removeAlert } from '../../actions/alertActions'\r\n\r\nimport MyLoader from '../MyLoader'\r\nimport MyButton from '../MyButton'\r\nimport MyTooltip from '../MyTooltip'\r\n\r\nconst SMALL_FONT_SIZE = 18\r\nconst BIG_FONT_SIZE = 60\r\n\r\nclass SongShow extends React.Component {\r\n    state = {\r\n        fontSize: SMALL_FONT_SIZE,\r\n        deleteModalActive: false,\r\n        deletePassword: '',\r\n        oneVerseModeActive: false,\r\n        currentVerse: 0,\r\n        showButtons: !isMobileOnly,\r\n        twoColumnMode: false,\r\n        showDesc: false,\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.removeAlert()\r\n        this.props.fetchSong(this.props.match.params.id)\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.song && this.props.song) {\r\n            if (prevProps.song.id !== this.props.song.id) {\r\n                this.setState({ currentVerse: 0})\r\n            }\r\n        }\r\n    }\r\n\r\n    handleKeyDown = (e) => {\r\n        switch(e.code) {\r\n            case 'ArrowRight':\r\n                this.handleVerseChange(true)\r\n                break\r\n            case 'ArrowLeft':\r\n                this.handleVerseChange(false)\r\n                break\r\n            default:\r\n        }\r\n    }\r\n\r\n    onSizeChange = (increase) => {\r\n        if (increase && this.state.fontSize < 70) {\r\n            this.setState({fontSize: this.state.fontSize + 3})\r\n        } else if (!increase && this.state.fontSize > 8) {\r\n            this.setState({fontSize: this.state.fontSize - 3})\r\n        }\r\n    }\r\n\r\n    onDescChange = () => {\r\n        this.setState({ showDesc: !this.state.showDesc})\r\n    }\r\n\r\n    handleModeSwitch = () => {\r\n        if (this.state.oneVerseModeActive) {\r\n            this.setState({oneVerseModeActive: false, fontSize: SMALL_FONT_SIZE})\r\n        } else {\r\n            this.setState({oneVerseModeActive: true, fontSize: BIG_FONT_SIZE})\r\n        }\r\n    }\r\n\r\n    handleVerseChange = forward => {\r\n        if (forward) {\r\n            this.setState({currentVerse: (this.state.currentVerse + 1) % this.props.song.verses.length})\r\n        } else {\r\n            if (this.state.currentVerse === 0) {\r\n                this.setState({currentVerse: (this.props.song.verses.length - 1)})\r\n            } else {\r\n                this.setState({currentVerse: (this.state.currentVerse - 1) % this.props.song.verses.length})\r\n            }\r\n        }\r\n    }\r\n\r\n    handleFontSizeReset = () => {\r\n        if (this.state.oneVerseModeActive) {\r\n            this.setState({ fontSize: BIG_FONT_SIZE })\r\n        } else {\r\n            this.setState({ fontSize: SMALL_FONT_SIZE })\r\n        }\r\n    }\r\n\r\n    onPlaylistAdd = () => {\r\n        this.props.addToPlaylist(parseInt(this.props.match.params.id))\r\n        if (!this.props.plVisible) {\r\n            this.props.toggleVisibility()\r\n        }\r\n    }\r\n\r\n    renderLine = (line, idx) => {\r\n        const numberOfSpaces = (line.match(/ {3}/g) || []).length\r\n        return <span className={`${numberOfSpaces > 0 ? 'blue' : ''}`} key={idx}>{line}<br/></span>\r\n    }\r\n\r\n    renderVerse = (verse, idx) => {\r\n        const lines = verse.split('\\n').map((line, idx) => this.renderLine(line, idx))\r\n        return (\r\n            <p style={{fontSize: `${this.state.fontSize}px`}} className=\"my-p\" key={idx}>\r\n                {lines}\r\n            </p>\r\n        )\r\n    }\r\n\r\n    renderVerses = () => {\r\n        if (!this.state.oneVerseModeActive) {\r\n            if (this.state.twoColumnMode) {\r\n                const firstColumn = this.props.song.verses.map((verse, idx) => {\r\n                    if (idx + 1 <= Math.ceil(this.props.song.verses.length / 2)) {\r\n                        return this.renderVerse(verse, idx)\r\n                    } else {\r\n                        return null\r\n                    }\r\n                })\r\n                const secondColumn = this.props.song.verses.map((verse, idx) => {\r\n                    if (idx + 1 > Math.ceil(this.props.song.verses.length / 2)) {\r\n                        return this.renderVerse(verse, idx)\r\n                    } else {\r\n                        return null\r\n                    }\r\n                })\r\n                return (\r\n                    <div className=\"ui container grid nowrap roboto\">\r\n                        <div className=\"eight wide column\">\r\n                            {firstColumn}\r\n                        </div>\r\n                        <div className=\"eight wide column nowrap roboto\">\r\n                            {secondColumn}\r\n                        </div>\r\n                    </div>\r\n                )\r\n            } else {\r\n                return <div className=\"ui container nowrap roboto\"> {this.props.song.verses.map((verse, idx) => {\r\n                    return this.renderVerse(verse, idx)\r\n                })}</div>\r\n            }\r\n        }\r\n        if (!this.props.song.verses[this.state.currentVerse]) {\r\n            return <MyLoader />\r\n        }\r\n        const lines = this.props.song.verses[this.state.currentVerse].split('\\n').map((line, idx) => this.renderLine(line, idx))\r\n        return (\r\n            <div>\r\n                <p style={{fontSize: `${this.state.fontSize}px`}}>\r\n                    {lines}\r\n                </p>\r\n            </div>\r\n        )\r\n\r\n    }\r\n\r\n    renderButtons = () => {\r\n        const editButton = this.props.signedIn ? <Link data-tip=\"Ének szerkeztése vagy törlése\" className=\"ui button my-button icon yellow\" to={`/zenesz/songs/edit/${this.props.match.params.id}`}><i className=\"icon edit\"></i></Link> : null\r\n        const descButton = this.props.song.desc ? <MyButton tip=\"Megjegyzés megjelenítése\" color=\"olive\" onClick={() => this.onDescChange()} icons={[\"sticky note outline\" ]} /> : null\r\n        const desktopButton = !isMobileOnly && this.state.showButtons ? /*(\r\n            <>\r\n                <MyButton tip=\"Előző versszak\" disabled={!this.state.oneVerseModeActive} color=\"teal\" onClick={() => this.handleVerseChange(false)} icons={[\" step backward icon\" ]} />\r\n                <MyButton tip=\"Egyversszak mód be- és kikapcsolása\" color=\"green\" onClick={this.handleModeSwitch} icons={[\"play\" ]} />\r\n                <MyButton tip=\"Következő vesszak\" disabled={!this.state.oneVerseModeActive} color=\"teal\" onClick={() => this.handleVerseChange(true)} icons={[\" step forward icon\" ]} />\r\n            </>\r\n        )*/null : null\r\n        const optionalButtons = this.state.showButtons ? (\r\n            <>\r\n                <Link data-tip=\"Vissza a kereséshez\" className=\"ui button my-button icon grey\" to=\"/zenesz/\"><i className=\"icon search\"></i></Link>\r\n                {editButton}\r\n                <MyButton tip={`${this.state.twoColumnMode ? \"Egy\" : \"Két\"} hasáb`} color=\"primary\" onClick={() => this.setState({twoColumnMode: !this.state.twoColumnMode})} disabled={this.state.oneVerseModeActive} icons={[`${this.state.twoColumnMode ? 'align justify' : 'columns'}`]} />\r\n                {descButton}\r\n                <MyButton tip=\"Betűméret csökkentése\" color=\"primary\" onClick={() => this.onSizeChange(false)} icons={[\"font\", \"arrow down\" ]} />\r\n                <MyButton tip=\"Betűméret növelése\" color=\"primary\" onClick={() => this.onSizeChange(true)} icons={[\"font\", \"arrow up \" ]} />\r\n                <MyButton tip=\"Betűméret visszaállítása\" color=\"primary\" onClick={this.handleFontSizeReset} icons={[\"font\", \"undo\" ]} />\r\n                <MyButton tip=\"Hozzáadás a lejátszási listához\" color=\"green\" onClick={this.onPlaylistAdd } icons={[\"plus\" ]} />\r\n                <MyButton color=\"green\" onClick={this.props.toggleVisibility} icons={[\"play circle\"]} text=\" Lejátszási lista\"/>\r\n            </>\r\n        ) : null\r\n        return (\r\n            <>\r\n                {optionalButtons}\r\n                {desktopButton}\r\n            </>\r\n        )\r\n    }\r\n\r\n    renderTitle = () => {\r\n        if (isMobileOnly) {\r\n            return (\r\n                <>\r\n                    {this.renderButtons()}\r\n                    <div className=\"right-left\">\r\n                        <div>\r\n                            <h2 className=\"vert-centered\">{this.props.song.id}. {this.props.song.title} </h2>\r\n                            <div style={{marginLeft:'10px', height: '30px', width: '30px', borderRadius: '100%', backgroundColor: '#' + this.props.song.color}}></div>\r\n                        </div>\r\n                        <MyButton color=\"gray\" onClick={()=>this.setState({showButtons: !this.state.showButtons})} icons={[\"bars\"]} tip=\"Gombok elrejtése/előhozása\"/>\r\n                    </div>\r\n                    <div className=\"ui divider\"></div>\r\n                </>\r\n            )\r\n        }\r\n        return (\r\n            <>\r\n                <div className=\"right-left m-top\">\r\n                <div className='next-to'>\r\n                            <h2 className=\"vert-centered\">{this.props.song.id}. {this.props.song.title} </h2>\r\n                            <div style={{marginLeft:'10px', height: '30px', width: '30px', borderRadius: '100%', backgroundColor: '#' + this.props.song.color}}></div>\r\n                        </div>\r\n                    <h2 className=\"vert-centered\">{this.state.oneVerseModeActive ? `${this.state.currentVerse + 1}/${this.props.song.verses.length}` : ''}</h2>\r\n                    <div>\r\n                        <MyButton color=\"gray\" onClick={()=>this.setState({showButtons: !this.state.showButtons})} icons={[\"bars\"]} tip=\"Gombok elrejtése/előhozása\"/>\r\n                        {this.renderButtons()}\r\n                    </div>\r\n                </div>\r\n                <div className=\"ui divider\"></div>\r\n            </>\r\n\r\n        )\r\n    }\r\n\r\n\r\n    renderDesc = () => {\r\n        const lines = this.props.song.desc.split('\\n').map((line, idx) => <span key={idx}>{line}<br/></span>)\r\n        return this.state.showDesc ? (\r\n                <div className=\"comment\">\r\n                    <div className=\"right-left\">\r\n                        <h3>Megjegyzések</h3>\r\n                        <i className=\"red icon close pointer\" onClick={() => this.setState({showDesc: false})}></i>\r\n                    </div>\r\n                    <p>{lines}</p>\r\n                </div>\r\n            ) : null\r\n    }\r\n\r\n    render() {\r\n        if (this.props.song) {\r\n            return (\r\n                <>\r\n                    <MyTooltip />\r\n                    <div className=\"ui container\" onKeyDown={this.handleKeyDown}>\r\n                            {this.renderTitle()}\r\n                            {this.renderVerses()}\r\n                            {this.renderDesc()}\r\n                    </div>\r\n                </>\r\n            )\r\n        }\r\n        return <MyLoader />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n        song: state.songs[ownProps.match.params.id],\r\n        plVisible: state.playlist.visible,\r\n        signedIn: state.auth.signedIn\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchSong, removeAlert, addToPlaylist, toggleVisibility })(SongShow)","import { db, dicsiDb } from '../api'\r\nimport history from '../history'\r\nimport { handleError } from '../util'\r\nimport { LOGIN, LOGOUT } from './types'\r\n\r\nexport const login = ({ username, password }) => async dispatch => {\r\n    try {\r\n        const zeneszResponse = await db.post('/api-token-auth/', { username, password })\r\n        const dicsiResponse = await dicsiDb.post('/api-token-auth/', { username, password })\r\n        dispatch({ type: LOGIN, payload: {dicsi: dicsiResponse.data.token, zenesz: zeneszResponse.data.token }})\r\n        history.goBack()\r\n    } catch (err) {\r\n        handleError(err, dispatch)\r\n    }\r\n}\r\n\r\nexport const logout = () => {\r\n    return { type: LOGOUT }\r\n}","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Field, reduxForm } from 'redux-form'\r\n\r\nimport { login } from '../../actions/authActions'\r\n\r\nconst renderInput = ({ input, label, meta, type }) => {\r\n    return (\r\n        <div className={`field ${meta.error && meta.touched ? 'error' : ''}`}>\r\n            <label>{label}</label>\r\n            <input {...input} type={type} autoComplete=\"off\" />\r\n            {renderError(meta)}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst renderError = ({ error, touched }) => {\r\n    if (touched && error) {\r\n        return (\r\n            <div className=\"ui error message\">\r\n                <div className=\"header\">\r\n                    {error}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst Login = (props) => {\r\n\r\n    const onSubmit = (formValues) => {\r\n        props.login(formValues)\r\n    }\r\n\r\n    return (\r\n        <div className=\"ui container\">\r\n            <form className=\"ui form error\" onSubmit={props.handleSubmit(onSubmit)}>\r\n                <Field name=\"username\" component={renderInput} label=\"Felhasználónév\" type=\"text\" />\r\n                <Field name=\"password\" component={renderInput} label=\"Jelszó\" type=\"password\"/>\r\n                <button className=\"ui button primary\">Bejelentkezés</button>\r\n            </form>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nconst validate = formValues => {\r\n    const errors = {}\r\n    if (!formValues.username) {\r\n        errors.username = 'Add meg a felhasználónevet!'\r\n    }\r\n    if (!formValues.password) {\r\n        errors.password = 'Add meg a jelszót!'\r\n    }\r\n    return errors\r\n}\r\n\r\nexport default reduxForm({\r\n    form: 'authForm',\r\n    validate\r\n})(connect(null, { login })(Login))","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\n\nimport { moveInPlaylist, removeFromPlaylist, playlistStep } from '../actions/playlistActions'\n\nconst PlaylistItem = props => {\n    const upDisabled = props.idx === 0\n    const downDisabled = props.idx === props.length - 1\n    const handleClick = () => {\n        if (props.playlist) {\n            props.playlistStep(props.idx)\n        }\n    }\n\n    if (props.song) {\n        return (\n            <div className={`item my-item ${props.currentIndex === props.idx ? 'activeInPlaylist' : ''}`}>\n                <h5 className=\"header\">\n                    {!props.unmodifiable && (\n                        <>\n                            <i className={`${upDisabled ? 'grey' : 'pointer'} icon caret up bigger-icon`} onClick={() => props.moveInPlaylist(props.idx, true, props.playlistId)}></i>\n                            <i className={`${downDisabled ? 'grey' : 'pointer'} icon caret down bigger-icon`} onClick={() => props.moveInPlaylist(props.idx, false, props.playlistId)}></i>\n                        </>\n                    )}\n                    <Link to={`/zenesz/songs/${props.song.id}`} onClick={handleClick} className=\"notLinkStyle pointer\">{props.song.id}. {props.song.title}</Link>\n    \n                    {!props.unmodifiable && (\n                        <div className=\"right floated\">\n                            <i className=\"icon minus circle red pointer\" onClick={() => props.removeFromPlaylist(props.song.id, props.playlistId)}></i>\n                        </div>\n                    )}\n                </h5>\n            </div>\n        )\n    } else {\n        return (\n            <div className={'item my-item redBackground'}>\n                Ez a dal a zenészben nem található!\n            </div>\n        )\n    }\n    \n\n}\n\nexport default connect(null, {moveInPlaylist, removeFromPlaylist, playlistStep})(PlaylistItem)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Accordion, Icon } from 'semantic-ui-react'\nimport _ from 'lodash'\nimport { isMobileOnly } from 'react-device-detect'\n\nimport { fetchSongs } from '../../actions/songActions'\nimport { fetchPlaylists, loadPlaylist, clearPlaylist } from '../../actions/playlistActions'\nimport MyLoader from '../MyLoader'\nimport MyTooltip from '../MyTooltip'\nimport MyModal from '../MyModal'\nimport PlaylistItem from '../PlaylistItem'\nimport MyButton from '../MyButton'\nimport { newAlert } from '../../actions/alertActions'\n\nclass PlaylistList extends React.Component {\n    state = {\n        activePlaylist: -1,\n    }\n\n    componentDidMount() {\n        this.props.fetchSongs()\n        this.props.fetchPlaylists()\n    }\n\n    handleClick(idx) {\n        this.setState({ activePlaylist: this.state.activePlaylist === idx ? -1 : idx })\n    }\n\n    copyLink(id) {\n        navigator.clipboard.writeText(`https://okgy.hu/dicsi/playlists/${id}`)\n        this.props.newAlert('A lejátszási lista linkje a vágólapra másolva', 'success')\n    }\n\n    generateDateAdded(date) {\n        return (\n            <p>Létrehozva: {new Date(Date.parse(date)).toLocaleDateString('hu-HU')}</p>\n        )\n    }\n\n    render() {\n        if (this.props.playlistList.loaded) {\n            return (\n                <div className=\"ui container\">\n                    <MyTooltip />\n                    <h2>Lejátszási listák</h2>\n                    {(this.props.playlistList.list && this.props.playlistList.list.length > 0 && !_.isEmpty(this.props.songs)) ? (\n                    <Accordion fluid styled>\n                        {this.props.playlistList.list.map(playlist => (\n                            <div key={playlist.id}>\n                                <Accordion.Title\n                                    active={this.state.activePlaylist === playlist.id}\n                                    onClick={() => this.handleClick(playlist.id)}\n                                >\n                                    <div className='right-left'>\n                                        <h3>\n                                            <Icon name='dropdown' />\n                                            {playlist.name}\n                                        </h3>\n                                        { !isMobileOnly && this.generateDateAdded(playlist.created_at) }\n                                    </div>\n                                </Accordion.Title>\n                                <Accordion.Content active={this.state.activePlaylist === playlist.id}>\n                                    { isMobileOnly && this.generateDateAdded(playlist.created_at) }\n                                    <MyButton tip=\"Betöltés\" color=\"green\" onClick={() => this.props.loadPlaylist(playlist.id, true)} icons={[\"play circle\"]} />\n                                    <MyButton tip=\"Megosztás\" color=\"purple\" onClick={() => this.copyLink(playlist.id)} icons={[\"share alternate\"]} />\n                                    <MyButton tip=\"Duplikálás\" color=\"blue\" onClick={() => this.props.loadPlaylist(playlist.id, false)} icons={[\"copy\"]} />\n                                    {this.props.signedIn && (\n                                        <MyModal\n                                            header=\"Biztosan törlöd a lejátszási listát?\"\n                                            generateTrigger={() => <MyButton tip=\"Törlés\" color=\"red\" icons={[\"trash alternate\"]} />}\n                                            closeText=\"Mégse\"\n                                            approveText=\"Törlés\"\n                                            onApprove={() => this.props.clearPlaylist(playlist.id)}\n                                            negative\n                                            id={playlist.id}\n                                        >\n                                            Biztosan törlöd a lejátszási listát az adatbázisból? Ezt később nem tudod visszavonni! \n                                        </MyModal>\n                                    )}\n                                    <div className=\"ui relaxed divided ordered list\">\n                                        {playlist.songs.length > 0 ? playlist.songs.map((songId, idx) => (\n                                            <PlaylistItem key={idx} song={this.props.songs[songId]} idx={idx} length={playlist.songs.length} unmodifiable={!this.props.signedIn} playlistId={playlist.id} />\n                                        )) : <p className=\"centered-text\">A lejátszási lista üres</p>}\n                                    </div>\n                                </Accordion.Content>\n                            </div>\n                        ))}\n                    </Accordion>\n                    ) : (\n                        <p className=\"big-text centered-text\">Nincs találat!</p>\n                    )}\n                </div>\n            )\n        }\n        return <MyLoader />\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        songs: state.songs,\n        playlistList: state.playlistList,\n        signedIn: state.auth.signedIn,\n    }\n}\n\nexport default connect(mapStateToProps, {fetchPlaylists, fetchSongs, loadPlaylist, newAlert, clearPlaylist})(PlaylistList)","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\n\r\nimport '../styles.css'\r\nimport { logout } from '../actions/authActions'\r\n\r\nconst Footer = (props) => {\r\n\r\n    const authLink = props.signedIn\r\n    // eslint-disable-next-line\r\n    ? <a className=\"header-link pointer\" onClick={() => props.logout()}>Kijelentkezés</a>\r\n    : <Link to=\"/zenesz/login\" className=\"header-link centered-text\">Admin bejelentkezés</Link>\r\n\r\n    return (\r\n        <div className=\"footer-container centered-container two-column small-text\">\r\n            <p className=\"centered-text\">Készítette: Fekete Sámuel&nbsp;\r\n            <a target=\"_blank\" rel=\"noreferrer\" href=\"https://github.com/Tschonti/zenesz-frontend\"><i aria-label=\"Forráskód a Github-on\" className=\"icon github\"></i></a><br/>&nbsp;az&nbsp;\r\n            <a target=\"_blank\" rel=\"noreferrer\" href=\"https://okgy.hu/\">Örömhír Keresztény Gyülekezet</a> számára</p>\r\n            {authLink}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return { signedIn: state.auth.signedIn }\r\n}\r\n\r\nexport default connect(mapStateToProps, { logout })(Footer)","import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Alert from '@material-ui/lab/Alert'\r\nimport { connect } from 'react-redux'\r\nimport { isMobileOnly } from 'react-device-detect'\r\n\r\nimport '../styles.css'\r\nimport { removeAlert } from '../actions/alertActions'\r\nimport { logout } from '../actions/authActions'\r\n\r\n\r\nconst Header = (props) => {\r\n    const [menuOpen, setMenuOpen] = useState(false)\r\n    const alert = props.alert.msg ?\r\n        <Alert onClose={() => {props.removeAlert()}} severity={props.alert.type} >\r\n            {props.alert.msg}\r\n        </Alert>\r\n        : null\r\n        const authLink = props.signedIn\r\n        ? <p className=\"item header-link\" onClick={() => {props.logout();setMenuOpen(!menuOpen)}}>Kijelentkezés</p>\r\n        : <Link to=\"/zenesz/login\" className=\"item header-link\" onClick={() => setMenuOpen(!menuOpen)}>Admin bejelentkezés</Link>\r\n\r\n    const newSong = props.signedIn ? <Link to=\"/zenesz/songs/new\" className=\"item header-link\" onClick={() => setMenuOpen(false)}>Új ének</Link> : null\r\n\r\n    if (isMobileOnly) {\r\n        return (\r\n            <div className=\"ui secondary vertical menu my-mobile-header\">\r\n                <div className=\"right-left\">\r\n                    <Link to=\"/zenesz\" className=\"item\" onClick={() => setMenuOpen(false)}>\r\n                        <h2>ÖKGY akkordos dicsik</h2>\r\n                    </Link>\r\n                    <div className='vert-centered'>\r\n                        <i className=\"icon bars\" onClick={() => setMenuOpen(!menuOpen)}></i>\r\n                    </div>\r\n                </div>\r\n                {menuOpen && (\r\n                    <div >\r\n                        <Link to=\"/zenesz\" className=\"item header-link\" onClick={() => setMenuOpen(false)}>Énekek listája</Link>\r\n                        {newSong}\r\n                        <Link to=\"/zenesz/playlists\" className=\"item header-link\" onClick={() => setMenuOpen(false)}>Lejátszási listák</Link>\r\n                        {authLink}\r\n                    </div>\r\n                )}\r\n                <div className=\"centered\">\r\n                    {alert}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    return (\r\n        <div className=\"ui secondary pointing menu my-header\">\r\n            <Link to=\"/zenesz\" className=\"item \">\r\n                <h2>ÖKGY akkordos dicsik</h2>\r\n            </Link>\r\n            <Link to=\"/zenesz\" className=\"item header-link\">Énekek listája</Link>\r\n            {newSong}\r\n            <Link to=\"/zenesz/playlists\" className=\"item header-link\">Lejátszási listák</Link>\r\n            <div className=\"centered\">\r\n                {alert}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        alert: state.alert,\r\n        signedIn: state.auth.signedIn\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { removeAlert, logout })(Header)","import React from 'react'\nimport { Field, reduxForm } from 'redux-form'\n\nimport MyButton from './MyButton'\nimport MyModal from './MyModal'\n\nconst renderInput = ({ input, label, meta, type }) => {\n    return (\n        <div className={`${meta.error && meta.touched ? 'error' : ''}`}>\n            <label>{label}</label>\n            <input {...input} type={type} autoComplete=\"off\" />\n            {renderError(meta)}\n        </div>\n    )\n}\n\nconst renderError = ({ error, touched }) => {\n    if (touched && error) {\n        return (\n            <div className=\"ui error message\">\n                <div className=\"header\">\n                    {error}\n                </div>\n            </div>\n        )\n    }\n}\n\nconst PlaylistForm = props => {\n    const onSubmit = formValues => {\n        props.onSubmit(formValues)\n    }\n\n    return (\n        <MyModal\n            header=\"Lejátszási lista mentése\"\n            generateTrigger={() => <MyButton disabled={props.disabled} tip=\"Lejátszási lista mentése\" color=\"purple\" icons={[\"save\"]} />}\n            closeText={'Mégse'}\n            approveText={'Mentés'}\n            onApprove={props.handleSubmit(onSubmit)}\n            primary\n            id={2}\n        >\n            <form className=\"ui form error\" onSubmit={props.handleSubmit(onSubmit)}>\n                <Field label=\"Lejátszási lista neve\" name=\"name\" type=\"text\" component={renderInput} />\n            </form>\n        </MyModal>\n    )\n\n}\n\nconst validate = formValues => {\n    const errors = {}\n    if (!formValues.name) {\n        errors.name = 'Add meg a lejátszási lista nevét!'\n    }\n    return errors\n}\n\nexport default reduxForm({\n    form: 'playlistForm',\n    validate\n})(PlaylistForm)","import React from 'react'\r\nimport { connect }  from 'react-redux'\r\nimport _ from 'lodash'\r\n\r\nimport { fetchSongs } from '../actions/songActions'\r\nimport {\r\n    playlistNext,\r\n    startPlaylist,\r\n    clearPlaylist,\r\n    removeFromPlaylist,\r\n    toggleVisibility,\r\n    moveInPlaylist,\r\n    savePlaylist,\r\n    unloadPlaylist,\r\n} from '../actions/playlistActions'\r\nimport { newAlert } from '../actions/alertActions'\r\n\r\nimport MyButton from './MyButton'\r\nimport MyTooltip from './MyTooltip'\r\nimport MyModal from './MyModal'\r\nimport PlaylistItem from './PlaylistItem'\r\nimport PlaylistForm from './PlaylistForm'\r\n\r\nclass Playlist extends React.Component {\r\n    state = {\r\n        open: true,\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.fetchSongs()\r\n    }\r\n\r\n    renderSongList = (modifiable) => {\r\n        if (_.isEmpty(this.props.songs) || !this.state.open || !this.props.playlist.songs) {\r\n            return null\r\n        }\r\n        const list = this.props.playlist.songs.map((songId, idx) => {\r\n            const song = this.props.songs.find(el => el.id === songId)\r\n            return <PlaylistItem key={idx} song={song} idx={idx} length={this.props.playlist.songs.length} currentIndex={this.props.playlist.currentIndex} unmodifiable={!modifiable} playlist playlistId={this.props.playlist.loaded} />\r\n        })\r\n\r\n        const empty = list.length > 0 ? '' : (<p className=\"centered-text\">A lejátszási lista üres</p>)\r\n        return (\r\n            <>\r\n                <div className=\"ui relaxed divided ordered list\">\r\n                    {list}\r\n                </div>\r\n                {empty}\r\n            </>\r\n        )\r\n    }\r\n\r\n    onClose = (e) => {\r\n        this.props.toggleVisibility()\r\n        e.stopPropagation()\r\n    }\r\n\r\n    copyLink(id) {\r\n        navigator.clipboard.writeText(`https://okgy.hu/dicsi/playlists/${id}`)\r\n        this.props.newAlert('A lejátszási lista linkje a vágólapra másolva', 'success')\r\n    }\r\n\r\n    render() {\r\n        //TODO dupla tool-tip\r\n        if (!this.props.playlist.visible || !this.props.playlist.songs) {\r\n            return null\r\n        }\r\n\r\n        const currentIndex = this.props.playlist.songs.length === 0 ? 0 : this.props.playlist.currentIndex + 1\r\n        const extraButtons = this.state.open ? (\r\n            <div className=\"right-left pointer\" onClick={() => this.setState({open: !this.state.open})}>\r\n                <i className={`icon ${this.state.open ? 'minus' : 'plus'}`}></i>\r\n                <i className=\"red icon close\" onClick={this.onClose}></i>\r\n            </div>\r\n        ) : null\r\n        const modifiable = !this.props.playlist.loaded || this.props.signedIn\r\n        return (\r\n            <>\r\n                <div className=\"playlist-container\">\r\n                    <MyTooltip />\r\n                    <div className=\"right-left pointer\" onClick={() => this.setState({open: !this.state.open})}>\r\n                        <h3>{this.props.playlist.loaded ? this.props.playlist.loadedName : 'Lejátszási lista'} {`${currentIndex}/${this.props.playlist.songs.length}`}</h3>\r\n                        <div>\r\n                            <i className={`icon ${this.state.open ? 'minus' : 'plus'}`}></i>&nbsp;&nbsp;\r\n                            <i className=\"red icon close\" onClick={this.onClose}></i>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"centered-container\">\r\n                    {this.props.signedIn && !this.props.playlist.loaded && (\r\n                            <PlaylistForm onSubmit={(formData) => this.props.savePlaylist(formData)} disabled={this.props.playlist.songs.length === 0} />\r\n                        )}\r\n                        {this.props.playlist.loaded ? (\r\n                            <>\r\n                                <MyButton tip=\"Üres listára váltás\" color=\"orange\" onClick={this.props.unloadPlaylist} icons={[\"file outline\"]} />\r\n                                <MyButton tip=\"Megosztás\" color=\"purple\" onClick={() => this.copyLink(this.props.playlist.loaded )} icons={[\"share alternate\"]} />\r\n                            </>\r\n\r\n                        ) : (\r\n                            <MyModal\r\n                                header=\"Biztosan törlöd a lejátszási listát?\"\r\n                                generateTrigger={() => <MyButton disabled={this.props.playlist.songs.length === 0 && !this.props.playlist.loaded} tip=\"Lejátszási lista törlése\" color=\"negative\" icons={[\"trash alternate\"]} />}\r\n                                closeText=\"Mégse\"\r\n                                approveText=\"Törlés\"\r\n                                onApprove={this.props.clearPlaylist}\r\n                                negative\r\n                                id={1}\r\n                            >\r\n                                Biztosan üríted a lejátszási listát? Ezt később nem tudod visszavonni!\r\n                            </MyModal>\r\n                        )}\r\n                        <MyButton disabled={!this.props.playlist.active} tip=\"Előző ének\" color=\"blue\" onClick={() => this.props.playlistNext(false, this.props.playlist)} icons={[\"backward\"]} />\r\n                        <MyButton disabled={this.props.playlist.active || this.props.playlist.songs.length === 0} tip=\"Lejátszási lista indítása\" color=\"green\" onClick={() => this.props.startPlaylist(this.props.playlist)} icons={[\"play\"]} />\r\n                        <MyButton disabled={!this.props.playlist.active} tip=\"Következő ének\" color=\"blue\" onClick={() => this.props.playlistNext(true, this.props.playlist)} icons={[\"forward\"]} />\r\n                    </div>\r\n                    {this.renderSongList(modifiable)}\r\n                    {extraButtons}\r\n                </div>\r\n            </>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        songs: Object.values(state.songs),\r\n        playlist: state.playlist,\r\n        signedIn: state.auth.signedIn\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    fetchSongs,\r\n    playlistNext,\r\n    startPlaylist,\r\n    clearPlaylist,\r\n    removeFromPlaylist,\r\n    toggleVisibility,\r\n    moveInPlaylist,\r\n    savePlaylist,\r\n    unloadPlaylist,\r\n    newAlert,\r\n})(Playlist)","import React from 'react'\r\nimport { connect }  from 'react-redux'\r\nimport { Router, Route, Switch } from 'react-router-dom'\r\n\r\nimport SongList from './screens/SongList'\r\nimport SongCreate from './screens/SongCreate'\r\nimport SongEdit from './screens/SongEdit'\r\nimport SongShow from './screens/SongShow'\r\nimport Login from './screens/Login'\r\nimport PlaylistList from './screens/PlaylistList'\r\n\r\nimport Footer from './Footer'\r\nimport Header from './Header'\r\nimport Playlist from './Playlist'\r\n\r\nimport history from '../history'\r\nimport { loadPlaylist, recoverState} from '../actions/playlistActions'\r\n\r\n\r\nclass App extends React.Component {\r\n    componentDidMount() {\r\n        this.props.recoverState()\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div>\r\n                <Router history={history}>\r\n                    <Header />\r\n                    <Switch>\r\n                        <Route path=\"/zenesz/\" exact component={SongList} />\r\n                        <Route path=\"/zenesz/songs/new\" exact component={SongCreate} />\r\n                        <Route path=\"/zenesz/songs/edit/:id\" exact component={SongEdit} />\r\n                        <Route path=\"/zenesz/songs/:id\" exact component={SongShow} />\r\n                        <Route path=\"/zenesz/login\" exact component={Login} />\r\n                        <Route path=\"/zenesz/playlists\" exact component={PlaylistList} />\r\n                        <Route path=\"/zenesz/playlists/:id\" exact render={({match}) => {\r\n                            this.props.loadPlaylist(match.params.id, true)\r\n                            history.push('/zenesz/')\r\n                        }} />\r\n                    </Switch>\r\n                    <Footer />\r\n                    <Playlist />\r\n                </Router>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default connect(null, { loadPlaylist, recoverState })(App)","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport { createStore, applyMiddleware, compose } from 'redux'\r\nimport reduxThunk from 'redux-thunk'\r\nimport { save, load } from \"redux-localstorage-simple\"\r\nimport 'semantic-ui-css/semantic.min.css'\r\n\r\nimport combinedReducer from './reducers'\r\nimport App from './components/App'\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst createStoreWithMiddleware  =composeEnhancers(applyMiddleware(save({ states: [\"playlist\"], debounce: 500}), reduxThunk))(createStore)\r\nconst store = createStoreWithMiddleware(combinedReducer, load({ states: [\"playlist\"]}))\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById('root'))"],"sourceRoot":""}