{"version":3,"sources":["actions/types.js","reducers/playlistReducer.js","reducers/searchListReducer.js","reducers/authReducer.js","reducers/index.js","reducers/songsReducer.js","reducers/alertReducer.js","util.js","components/MyTooltip.js","components/MyLoader.js","components/ColorSelector.js","components/SearchBar.js","components/MyButton.js","api.js","history.js","actions/songActions.js","actions/playlistActions.js","actions/alertActions.js","components/screens/SongList.js","components/MyModal.js","components/screens/SongForm.js","components/screens/SongCreate.js","components/screens/SongEdit.js","components/screens/SongShow.js","components/screens/Login.js","actions/authActions.js","components/Footer.js","components/Header.js","components/Playlist.js","components/App.js","index.js"],"names":["FETCH_SONGS","UPDATE_WITH_ID","UPDATE_WITH_WRONG_ID","UPDATE_WITH_TERM","CANCEL_SEARCH","FETCH_SONG","CREATE_SONG","EDIT_SONG","DELETE_SONG","NEW_ALERT","REMOVE_ALERT","ADD_TO_PLAYLIST","REMOVE_FROM_PLAYLIST","PLAYLIST_NEXT","START_PLAYLIST","STOP_PLAYLIST","CLEAR_PLAYLIST","TOGGLE_VISIBILITY","MOVE_IN_PLAYLIST","LOGIN","LOGOUT","defaultState","list","currentIndex","active","visible","validSearch","signedIn","token","combineReducers","songs","state","action","type","_","mapKeys","payload","id","omit","searchList","uniq","map","song","alert","form","formReducer","playlist","remIdx","indexOf","curIdx","length","clonedState","splice","index","up","otherIndex","anotherClonedState","temp","diff","auth","handleError","err","dispatch","response","status","msg","statusText","console","error","setTimeout","setTimeoutToRemoveAlert","sortSongs","field","sort","fEl","sEl","onlyUnique","value","self","MyTooltip","isMobile","effect","MyLoader","className","color","ColorSelector","props","name","val","onChange","e","setter","target","slice","style","backgroundColor","disabled","firstDisabled","defaultText","colors","renderOptions","SearchBar","useState","setValue","debouncedValue","setDebouncedValue","lyricsToo","setLyricsToo","chosenColor","setChosenColor","useEffect","timeOut","clearTimeout","isNaN","term","cancel","placeholder","tabIndex","checked","htmlFor","onClick","MyButton","icons","icon","idx","tip","text","db","axios","create","baseURL","createBrowserHistory","fetchSongs","a","get","data","fetchSong","deleteSong","getState","delete","headers","includes","parseInt","history","push","addToPlaylist","removeFromPlaylist","playlistNext","next","stopPlaylist","toggleVisibility","removeAlert","SongList","loaded","sortById","event","stopPropagation","renderSmallButtons","plVisible","isMobileOnly","preventDefault","renderSong","to","title","this","isEmpty","setState","filter","empty","find","findId","searchSongs","cancelSearch","React","Component","connect","Object","values","colorSearch","inTitle","inLyrics","Alert","onClose","severity","open","setOpen","Modal","onOpen","trigger","children","Header","header","Content","Description","content","Actions","Button","closeText","approveText","onApprove","negative","renderInput","input","label","meta","wide","touched","autoComplete","renderError","renderColorPicker","change","renderTextArea","rows","reduxForm","validate","formValues","errors","lyrics","initialValues","colorOption","setColorOption","selectedColorDropdown","setSelectedColorDropdown","selectedColorPicker","setSelectedColorPicker","changeColorOption","opt","onSubmit","handleSubmit","Field","component","edit","v","renderSecondField","onDeleteClick","SongCreate","biggestID","createSong","Math","max","formData","post","split","join","desc","log","SongEdit","match","params","editSong","verses","ownProps","patch","SMALL_FONT_SIZE","SongShow","fontSize","deleteModalActive","deletePassword","oneVerseModeActive","currentVerse","showButtons","twoColumnMode","showDesc","handleKeyDown","code","handleVerseChange","onSizeChange","increase","onDescChange","handleModeSwitch","forward","handleFontSizeReset","onPlaylistAdd","renderLine","line","numberOfSpaces","renderVerse","verse","lines","renderVerses","firstColumn","ceil","secondColumn","renderButtons","editButton","descButton","desktopButton","optionalButtons","renderTitle","marginLeft","height","width","borderRadius","renderDesc","prevProps","onKeyDown","username","password","login","goBack","logout","authLink","rel","href","newSong","Playlist","upDisabled","downDisabled","moveInPlaylist","renderSongList","songId","el","onClear","clearPlaylist","extraButtons","startPlaylist","App","path","exact","Login","store","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","save","states","debounce","reduxThunk","composeEnhancers","createStore","createStoreWithMiddleware","combinedReducer","load","ReactDOM","render","document","getElementById"],"mappings":"qPAAaA,EAAc,cACdC,EAAiB,iBACjBC,EAAuB,uBACvBC,EAAmB,mBACnBC,EAAgB,gBAChBC,EAAa,aACbC,EAAc,cACdC,EAAY,YACZC,EAAc,cAEdC,EAAY,YACZC,EAAe,eAEfC,EAAkB,kBAClBC,EAAuB,uBACvBC,EAAgB,gBAChBC,EAAiB,iBACjBC,EAAgB,gBAChBC,EAAiB,iBACjBC,EAAoB,oBACpBC,EAAmB,mBAEnBC,EAAQ,QACRC,EAAS,S,QCdhBC,EAAe,CACjBC,KAAM,GACNC,aAAc,EACdC,QAAQ,EACRC,SAAS,GCTPJ,EAAe,CACjBC,KAAM,GACNI,aAAa,GCJXL,EAAe,CACjBM,UAAU,EACVC,MAAO,MCKIC,cAAgB,CAC3BC,MCNW,WAAyB,IAAxBC,EAAuB,uDAAf,GAAIC,EAAW,uCACnC,OAAQA,EAAOC,MACX,KAAKjC,EACD,OAAO,eAAIkC,IAAEC,QAAQH,EAAOI,QAAS,OACzC,KAAK/B,EAEL,KAAKC,EAEL,KAAKC,EACD,OAAO,2BAAIwB,GAAX,kBAAmBC,EAAOI,QAAQC,GAAKL,EAAOI,UAClD,KAAK5B,EACD,OAAO0B,IAAEI,KAAKP,EAAOC,EAAOI,SAChC,QACI,OAAOL,IDNfQ,WFDW,WAAmC,IAAlCR,EAAiC,uDAAzBV,EAAcW,EAAW,uCAC7C,OAAOA,EAAOC,MACV,KAAKhC,EACD,MAAO,CAAEqB,KAAM,CAACU,EAAOI,QAAQC,IAAKX,aAAa,GACrD,KAAKxB,EACD,MAAO,CAAEoB,KAAM,GAAII,aAAa,GACpC,KAAKvB,EACD,MAAO,CAAEmB,KAAMY,IAAEM,KAAKR,EAAOI,QAAQK,KAAI,SAAAC,GAAI,OAAIA,EAAKL,OAAMX,aAAa,GAC7E,KAAKtB,EACD,OAAOiB,EACX,QACI,OAAOU,IETfY,METW,WAAyB,IAAxBZ,EAAuB,uDAAf,GAAIC,EAAW,uCACnC,OAAOA,EAAOC,MACV,KAAKxB,EACD,OAAOuB,EAAOI,QAClB,KAAK1B,EACD,MAAO,GACX,QACI,OAAOqB,IFGfa,KAAMC,IACNC,SHGW,WAAmC,IAAlCf,EAAiC,uDAAzBV,EAAcW,EAAW,uCAC7C,OAAOA,EAAOC,MACV,KAAKtB,EACD,OAAO,2BAAIoB,GAAX,IAAkBT,KAAK,GAAD,mBAAMS,EAAMT,MAAZ,CAAkBU,EAAOI,YACnD,KAAKxB,EACD,IAAMmC,EAAShB,EAAMT,KAAK0B,QAAQhB,EAAOI,SACzC,IAAgB,IAAZW,EACA,OAAOhB,EAEX,IAAIkB,EAASlB,EAAMR,cACfwB,EAASE,GAAUF,IAAWhB,EAAMT,KAAK4B,OAAS,KAClDD,GAAU,GAEd,IAAME,EAAW,YAAOpB,EAAMT,MAE9B,OADA6B,EAAYC,OAAOL,EAAQ,GACpB,2BAAKhB,GAAZ,IAAmBT,KAAM6B,EAAa5B,aAAc0B,IACxD,KAAKpC,EACD,OAAO,2BAAKkB,GAAZ,IAAmBR,aAAcS,EAAOI,UAC5C,KAAKtB,EACD,OAAO,2BAAKiB,GAAZ,IAAmBP,QAAQ,IAC/B,KAAKT,EACD,OAAO,2BAAKgB,GAAZ,IAAmBP,QAAQ,IAC/B,KAAKR,EACD,OAAO,2BAAKe,GAAZ,IAAmBT,KAAM,GAAIC,aAAc,EAAGC,QAAQ,IAC1D,KAAKP,EACD,OAAO,2BAAKc,GAAZ,IAAmBN,SAAUM,EAAMN,UACvC,KAAKP,EACD,GAA8B,IAAzBc,EAAOI,QAAQiB,OAAerB,EAAOI,QAAQkB,IAAQtB,EAAOI,QAAQiB,QAAUtB,EAAMT,KAAK4B,OAAS,IAAMlB,EAAOI,QAAQkB,GACxH,OAAOvB,EAEX,IAAMwB,EAAavB,EAAOI,QAAQkB,GAAKtB,EAAOI,QAAQiB,MAAQ,EAAIrB,EAAOI,QAAQiB,MAAQ,EACnFG,EAAkB,eAAOzB,GACzB0B,EAAOD,EAAmBlC,KAAKiC,GACrCC,EAAmBlC,KAAKiC,GAAcC,EAAmBlC,KAAKU,EAAOI,QAAQiB,OAC7EG,EAAmBlC,KAAKU,EAAOI,QAAQiB,OAASI,EAChD,IAAIC,EAAO,EAOX,OANI3B,EAAMR,eAAiBS,EAAOI,QAAQiB,MACtCK,EAAO1B,EAAOI,QAAQkB,IAAM,EAAI,EACzBvB,EAAMR,eAAiBgC,IAC9BG,EAAO1B,EAAOI,QAAQkB,GAAK,GAAK,GAEpCE,EAAmBjC,cAAgBmC,EAC5BF,EACX,QACI,OAAOzB,IG9Cf4B,KDPW,WAAmC,IAAlC5B,EAAiC,uDAAzBV,EAAcW,EAAW,uCAC7C,OAAOA,EAAOC,MACV,KAAKd,EACD,MAAO,CAAEQ,UAAU,EAAMC,MAAOI,EAAOI,SAC3C,KAAKhB,EACD,OAAOC,EACX,QACI,OAAOU,M,wDIRN6B,G,MAAc,SAACC,EAAKC,GACxBD,EAAIE,SAG0B,MAAxBF,EAAIE,SAASC,QAA0C,MAAxBH,EAAIE,SAASC,OACnDF,EAAS,CAAC7B,KAAMxB,EAAW2B,QAAS,CAAC6B,IAAK,yBAA0BhC,KAAM,WAC3C,MAAxB4B,EAAIE,SAASC,OACpBF,EAAS,CAAC7B,KAAMxB,EAAW2B,QAAS,CAAC6B,IAAK,kDAAoChC,KAAM,YAEpF6B,EAAS,CAAC7B,KAAMxB,EAAW2B,QAAS,CAAC6B,IAAI,GAAD,OAAKJ,EAAIE,SAASC,OAAlB,aAA6BH,EAAIE,SAASG,YAAcjC,KAAM,WACtGkC,QAAQC,MAAMP,EAAIE,YARlBD,EAAS,CAAC7B,KAAMxB,EAAW2B,QAAS,CAAC6B,IAAK,iBAAkBhC,KAAM,WAClEkC,QAAQC,MAAMP,IAPU,SAACC,GAC7BO,YAAW,kBAAMP,EAAS,CAAC7B,KAAMvB,MAAgB,KAejD4D,CAAwBR,KAGfS,EAAY,SAACzC,EAAO0C,GAC7B1C,EAAM2C,MAAK,SAACC,EAAKC,GACb,OAAID,EAAIF,GAASG,EAAIH,IACT,EACDE,EAAIF,GAASG,EAAIH,GACjB,EACF,MAIJI,EAAa,SAACC,EAAOxB,EAAOyB,GACrC,OAAOA,EAAK9B,QAAQ6B,KAAWxB,GAASwB,G,gBCvB7BE,GAPG,WACd,OAAIC,WACO,KAEJ,cAAC,IAAD,CAAcC,OAAO,W,qBCWjBC,GAbE,WACb,OACI,sBAAKC,UAAU,mBAAf,UACI,cAAC,KAAD,CACIlD,KAAK,OACLmD,MAAM,UACN3D,SAAO,IAEX,mBAAG0D,UAAU,WAAb,mC,SCWGE,GAtBO,SAAAC,GAclB,OACI,yBAAQH,UAAU,cAAcI,KAAK,QAAQV,MAAO,IAAMS,EAAME,IAAKC,SAAU,SAACC,GAAD,OAAOJ,EAAMK,OAAOD,EAAEE,OAAOf,MAAMgB,MAAM,KAAKC,MAAO,CAACC,gBAAiBT,EAAME,IAAM,IAAMF,EAAME,IAAM,SAApL,UACI,wBAAQQ,SAAUV,EAAMW,cAAepB,MAAM,IAAIiB,MAAO,CAACC,gBAAiB,SAA1E,SAAqFT,EAAMY,cAd7E,SAAAC,GAClB,GAAKA,EAGL,OACIA,EAAO1D,KAAI,SAAA2C,GAAK,OACZ,wBAAoBP,MAAO,IAAMO,EAAOU,MAAO,CAACC,gBAAiB,IAAMX,GAAvE,SACK,IAAMA,GADEA,MAShBgB,CAAcd,EAAMa,YC6DlBE,GA5EG,SAAAf,GACd,MAA0BgB,mBAAS,IAAnC,oBAAOzB,EAAP,KAAc0B,EAAd,KACA,EAA4CD,mBAAS,IAArD,oBAAOE,EAAP,KAAuBC,EAAvB,KACA,EAAkCH,oBAAS,GAA3C,oBAAOI,EAAP,KAAkBC,EAAlB,KACA,EAAsCL,mBAAS,IAA/C,oBAAOM,EAAP,KAAoBC,EAApB,KAEAC,qBAAU,WACN,IAAMC,EAAU1C,YAAW,WACvBoC,EAAkB5B,KACnB,KACH,OAAO,WACHmC,aAAaD,MAElB,CAAClC,IAEJiC,qBAAU,WACFN,EACIS,MAAMT,GACNlB,EAAM4B,KAAKV,EAAgBE,EAAWE,GAEtCtB,EAAMjD,GAAGmE,GAGTI,EACAtB,EAAM4B,KAAKV,EAAgBE,EAAWE,GAEtCtB,EAAM6B,WAIf,CAACX,IAEJM,qBAAU,WACFjC,GACIoC,MAAMpC,IACNS,EAAM4B,KAAKrC,EAAO6B,EAAWE,KAItC,CAACF,IAEJI,qBAAU,WACNxB,EAAM4B,KAAKrC,EAAO6B,EAAWE,KAE9B,CAACA,IASJ,OACI,qBAAKzB,UAAU,UAAf,SACI,sBAAKA,UAAU,mCAAf,UACI,sBAAKA,UAAU,iBAAf,UACI,+CACA,uBAAON,MAAOA,EAAOY,SAAU,SAACC,GAAD,OAAOa,EAASb,EAAEE,OAAOf,QAAQuC,YAAY,uGAEhF,qBAAKjC,UAAU,mBAAf,SACI,sBAAKA,UAAU,uBAAf,UACI,uBAAO9C,GAAG,iBAAiBJ,KAAK,WAAWoF,SAAS,IAAIC,QAASZ,EAAWjB,SAAU,kBAAMkB,GAAcD,MAC1G,uBAAOa,QAAQ,iBAAf,qCAGR,sBAAKpC,UAAU,mBAAf,UACI,cAAC,GAAD,CAAeK,IAAKoB,EAAajB,OAAQkB,EAAgBX,YAAY,aAAaC,OAAQb,EAAMa,OAAQF,eAAe,IACvH,mBAAG,WAAS,yBAAmBd,UAAU,6CAA6CqC,QAtBjF,WACjBjB,EAAS,IACTI,GAAa,GACbE,EAAe,IACfvB,EAAM6B,qBC5CCM,GARE,SAAAnC,GAEb,IAAMoC,EAAQpC,EAAMoC,MAAMjF,KAAI,SAACkF,EAAMC,GAAP,OAAe,mBAAazC,UAAS,eAAUwC,IAAxBC,MACrD,OACI,yBAAQ,WAAUtC,EAAMuC,IAAK,aAAYvC,EAAMuC,IAAK1C,UAAS,mCAA8BG,EAAMF,OAASoC,QAASlC,EAAMkC,QAASxB,SAAUV,EAAMU,SAAlJ,UAA8J0B,EAAOpC,EAAMwC,S,uCCJtKC,G,QAAKC,EAAMC,OAAO,CAC3BC,QAAS,sC,SCDEC,kBCaFC,GAAa,2DAAM,WAAMtE,GAAN,gBAAAuE,EAAA,+EAEDN,GAAGO,IAAI,uBAFN,OAElBvE,EAFkB,OAGxBD,EAAS,CAAC7B,KAAMjC,EAAaoC,QAAS2B,EAASwE,OAHvB,gDAKxB3E,EAAY,EAAD,GAAME,GALO,yDAAN,uDASb0E,GAAY,SAAAnG,GAAE,gDAAI,WAAMyB,GAAN,gBAAAuE,EAAA,+EAEAN,GAAGO,IAAH,iBAAiBjG,EAAjB,kBAFA,OAEjB0B,EAFiB,OAGvBD,EAAS,CAAC7B,KAAM5B,EAAY+B,QAAS2B,EAASwE,OAHvB,gDAKvB3E,EAAY,EAAD,GAAME,GALM,yDAAJ,uDAuFd2E,GAAa,SAACpG,GAAD,gDAAQ,WAAOyB,EAAU4E,GAAjB,UAAAL,EAAA,+EAEpBN,GAAGY,OAAH,iBAAoBtG,EAApB,KACF,CAAEuG,QAAS,CAAC,cAAgB,SAAhB,OAA0BF,IAAW/E,KAAK/B,UAHhC,OAItB8G,IAAW5F,SAASxB,KAAKuH,SAASC,SAASzG,KAC3CyB,EAAS,CAAE7B,KAAMrB,EAAsBwB,QAAS0G,SAASzG,KAE7DyB,EAAS,CAAC7B,KAAMzB,EAAa4B,QAASC,IACtC0G,GAAQC,KAAK,YARa,gDAU1BpF,EAAY,EAAD,GAAME,GAVS,yDAAR,yDCrGbmF,GAAgB,SAAA5G,GACzB,MAAO,CAAEJ,KAAMtB,EAAiByB,QAASC,IAGhC6G,GAAqB,SAAA7G,GAC9B,MAAO,CAAEJ,KAAMrB,EAAsBwB,QAASC,IAGrC8G,GAAe,SAACC,EAAMrH,GAC/B,GAAKA,EAAMP,OAGX,OAAI4H,EACIrH,EAAMR,eAAiBQ,EAAMT,KAAK4B,OAAS,GAC3C6F,GAAQC,KAAR,wBAA8BjH,EAAMT,KAAK,KAClC,CAAEW,KAAMpB,EAAeuB,QAAS,KAEvC2G,GAAQC,KAAR,wBAA8BjH,EAAMT,KAAKS,EAAMR,aAAe,KACvD,CAAEU,KAAMpB,EAAeuB,QAASL,EAAMR,aAAe,IAG5DQ,EAAMR,aAAe,GACrBwH,GAAQC,KAAR,wBAA8BjH,EAAMT,KAAKS,EAAMT,KAAK4B,OAAS,KACtD,CAAEjB,KAAMpB,EAAeuB,QAASL,EAAMT,KAAK4B,OAAS,KAE3D6F,GAAQC,KAAR,wBAA8BjH,EAAMT,KAAKS,EAAMR,aAAe,KACvD,CAAEU,KAAMpB,EAAeuB,QAASL,EAAMR,aAAe,KAS3D8H,GAAe,WACxB,MAAO,CAACpH,KAAMlB,IAOLuI,GAAmB,WAC5B,MAAO,CAAErH,KAAMhB,IChDNsI,GAAc,WACvB,MAAO,CAACtH,KAAMvB,ICWZ8I,G,4MACFzH,MAAQ,CACJ0H,QAAQ,EACRC,UAAU,EACVvD,OAAQ,I,EAcZ8C,cAAgB,SAACU,EAAOtH,GACpB,EAAKiD,MAAM2D,cAAc5G,GACzBsH,EAAMC,mB,EAEVV,mBAAqB,SAACS,EAAOtH,GACzB,EAAKiD,MAAM4D,mBAAmB7G,GAC9BsH,EAAMC,mB,EAGVC,mBAAqB,SAAAnH,GACjB,GAAI,EAAK4C,MAAMwE,WAAaC,eACxB,OACI,sBAAK5E,UAAU,aAAf,UACI,mBACI,WAAS,iDACTA,UAAU,qCACVqC,QAAS,SAAC9B,GAAOA,EAAEsE,iBAAiB,EAAKf,cAAcvD,EAAGhD,EAAKL,OAJvE,WAMI,mBACI,WAAS,yDACT8C,UAAU,oCACVqC,QAAS,SAAC9B,GAAOA,EAAEsE,iBAAiB,EAAKd,mBAAmBxD,EAAGhD,EAAKL,W,EAOxF4H,WAAa,SAACvH,EAAMkF,GAAP,OACT,qBAAK9B,MAAO,CAAEC,gBAAiB,IAAMrD,EAAK0C,OAASD,UAAS,qDAAgDyC,EAAM,IAAM,GAAMmC,eAA+B,GAAhB,eAA7I,SACI,cAAC,IAAD,CAAMG,GAAE,wBAAmBxH,EAAKL,IAAM8C,UAAU,eAAhD,SACI,sBAAKA,UAAU,qBAAf,UACI,qBAAKA,UAAU,UAAf,SACI,qBAAIA,UAAU,wBAAd,UAAuCzC,EAAKL,GAA5C,KAAkDK,EAAKyH,WAE1D,EAAKN,mBAAmBnH,SANmIA,EAAKL,K,uDAzCjL,WACI+H,KAAK9E,MAAMiE,cACXa,KAAK9E,MAAM8C,aACXgC,KAAK9E,MAAM+D,iB,gCAGf,WACSe,KAAKrI,MAAM0H,QAAWvH,IAAEmI,QAAQD,KAAK9E,MAAMxD,QAC5CsI,KAAKE,SAAS,CAAEnE,OAAQiE,KAAK9E,MAAMxD,MAAMW,KAAI,SAAAC,GAAI,OAAIA,EAAK0C,SAAOmF,OAAO3F,GAAa6E,QAAQ,M,oBA6CrG,WAAU,IAAD,OACL,GAAIvH,IAAEmI,QAAQD,KAAK9E,MAAMxD,SAAWsI,KAAKrI,MAAM0H,OAC3C,OACI,cAAC,GAAD,IAIHW,KAAKrI,MAAM2H,SAGZnF,EAAU6F,KAAK9E,MAAMxD,MAAO,MAF5ByC,EAAU6F,KAAK9E,MAAMxD,MAAO,SAKhC,IAAQS,EAAe6H,KAAK9E,MAApB/C,WACJT,EAAQ,GAON0I,EAAyB,KAL3B1I,EADAS,EAAWb,YACHa,EAAWjB,KAAKmB,KAAI,SAACJ,EAAIuF,GAAL,OAAa,EAAKqC,WAAW,EAAK3E,MAAMxD,MAAM2I,MAAK,SAAA/H,GAAI,OAAIA,EAAKL,KAAOA,KAAKuF,MAEhGwC,KAAK9E,MAAMxD,MAAMW,KAAI,SAACC,EAAMkF,GAAP,OAAe,EAAKqC,WAAWvH,EAAMkF,OAGlD1E,OAAe,mBAAGiC,UAAU,yBAAb,+BAA2D,KAC9F,OACI,sBAAKA,UAAU,eAAf,UACI,cAAC,GAAD,IACA,sBAAKA,UAAS,aAAQ4E,eAAe,GAAK,kBAA1C,UACI,qBAAK5E,UAAU,qBAAf,SACI,cAAC,GAAD,CAAW9C,GAAI+H,KAAK9E,MAAMoF,OAAQxD,KAAMkD,KAAK9E,MAAMqF,YAAaxD,OAAQiD,KAAK9E,MAAMsF,aAAczE,OAAQiE,KAAKrI,MAAMoE,WAExH,qBAAKhB,UAAU,oBAAf,SACI,sBAAKA,UAAU,qBAAf,UACI,cAAC,GAAD,CAAUC,MAAM,OAAOoC,QAAS,kBAAM,EAAK8C,SAAS,CAAEZ,UAAU,KAAQhC,MAAO,CAAC,qBAAsBG,IAAI,4CAAmC7B,SAAUoE,KAAKrI,MAAM2H,UAAYU,KAAK9E,MAAM/C,WAAWb,cACpM,cAAC,GAAD,CAAU0D,MAAM,OAAOoC,QAAS,kBAAM,EAAK8C,SAAS,CAAEZ,UAAU,KAAShC,MAAO,CAAC,sBAAuBG,IAAI,wCAA+B7B,UAAWoE,KAAKrI,MAAM2H,UAAYU,KAAK9E,MAAM/C,WAAWb,cACnM,cAAC,GAAD,CAAU0D,MAAM,QAAQoC,QAAS4C,KAAK9E,MAAMgE,iBAAkB5B,MAAO,CAAC,eAAgBI,KAAK,oCAIvG,qBAAK3C,UAAU,iCAAf,SACKrD,IAEJ0I,S,GAnGMK,IAAMC,WAkHdC,gBARS,SAAAhJ,GACpB,MAAO,CACHD,MAAOkJ,OAAOC,OAAOlJ,EAAMD,OAC3BS,WAAYR,EAAMQ,WAClBuH,UAAW/H,EAAMe,SAASrB,WAIM,CACpC2G,cACAmB,eACAoB,YHrFuB,SAACzD,EAAMR,EAAWtB,GAAlB,gDAA4B,WAAMtB,GAAN,oBAAAuE,EAAA,kEAElC,KAATnB,GAAyB,KAAV9B,EAF4B,gBAG3CtB,EAAS,CAAC7B,KAAM7B,IAH2B,6BAK9B,KAAT8G,IACAA,EAAO,eAELgE,EAAc9F,EAAQA,EAAQ,IAAM,GARC,SASrB2C,GAAGO,IAAH,wBAAwBpB,EAAxB,YAAgCgE,IATX,UASrCC,EATqC,QAUvCzE,EAVuC,kCAWhBqB,GAAGO,IAAH,yBAAyBpB,EAAzB,YAAiCgE,IAXjB,QAWjCE,EAXiC,OAYvCtH,EAAS,CAAC7B,KAAM9B,EAAkBiC,QAAQ,GAAD,mBAAM+I,EAAQ5C,MAAd,YAAuB6C,EAAS7C,SAZlC,wBAcvCzE,EAAS,CAAC7B,KAAM9B,EAAkBiC,QAAS+I,EAAQ5C,OAdZ,0DAmB/C3E,EAAY,EAAD,GAAME,GAnB8B,0DAA5B,uDGsFvB4G,OHvGkB,SAACrI,GAAD,gDAAQ,WAAMyB,GAAN,gBAAAuE,EAAA,+EAECN,GAAGO,IAAH,iBAAiBjG,EAAjB,kBAFD,OAEhB0B,EAFgB,OAGtBD,EAAS,CAAC7B,KAAMhC,EAAgBmC,QAAS2B,EAASwE,OAH5B,gDAKlB,KAAIxE,UACwB,MAAxB,KAAIA,SAASC,OACbF,EAAS,CAAC7B,KAAM/B,IAKpB0D,EAAY,EAAD,GAAME,GAZC,yDAAR,uDGwGlBmF,iBACAC,sBACAC,gBACAE,gBACAuB,aHpEwB,WACxB,MAAO,CAAE3I,KAAM7B,IGoEfkJ,qBAVWyB,CAWZvB,I,kDC1FYuB,gBANS,SAAAhJ,GACpB,MAAO,CACHY,MAAOZ,EAAMY,SAImB,CAAC4G,gBAA1BwB,EA7CC,SAAAzF,GACd,IAAM3C,EAAQ2C,EAAM3C,MAAMsB,IACxB,cAACoH,GAAA,EAAD,CAAOC,QAAS,WAAOhG,EAAMiE,eAAgBgC,SAAUjG,EAAM3C,MAAMV,KAAnE,SACKqD,EAAM3C,MAAMsB,MAEf,KAEJ,EAAwBqC,oBAAS,GAAjC,oBAAOkF,EAAP,KAAaC,EAAb,KAEA,OACE,eAACC,GAAA,EAAD,CACEJ,QAAS,kBAAMG,GAAQ,IACvBE,OAAQ,kBAAMF,GAAQ,IACtBD,KAAMA,EACNI,QAAStG,EAAMuG,SAJjB,UAME,cAACH,GAAA,EAAMI,OAAP,UAAexG,EAAMyG,SACrB,cAACL,GAAA,EAAMM,QAAP,UACE,cAACN,GAAA,EAAMO,YAAP,UACK3G,EAAM4G,YAGb,eAACR,GAAA,EAAMS,QAAP,WACE,qBAAKhH,UAAU,WAAf,SACKxC,IAEL,cAACyJ,GAAA,EAAD,CAAS5E,QAAS,kBAAMiE,GAAQ,IAAhC,SACGnG,EAAM+G,YAET,cAACD,GAAA,EAAD,CACEF,QAAS5G,EAAMgH,YACf9E,QAAS,WAAOlC,EAAMiH,aACtBC,UAAQ,aC/BZC,GAAc,SAAC,GAAuD,IAArDC,EAAoD,EAApDA,MAAOC,EAA6C,EAA7CA,MAAOC,EAAsC,EAAtCA,KAAM3K,EAAgC,EAAhCA,KAAM+D,EAA0B,EAA1BA,SAAU6G,EAAgB,EAAhBA,KAAMhF,EAAU,EAAVA,IAC7D,OACI,sBAAK1C,UAAS,UAAK0H,EAAL,kBAAmBD,EAAKxI,OAASwI,EAAKE,QAAU,QAAU,IAAxE,UACI,gCAAQH,IACR,iDAAWD,GAAX,IAAkBzK,KAAMA,EAAM8K,aAAa,MAAM/G,SAAUA,EAAU,WAAU6B,KAC9EmF,GAAYJ,OAKnBK,GAAoB,SAAC,GAAD,IAAGhL,EAAH,EAAGA,KAAM+D,EAAT,EAASA,SAAUR,EAAnB,EAAmBA,IAAKG,EAAxB,EAAwBA,OAAQuH,EAAhC,EAAgCA,OAAhC,OACtB,uBAAOrI,MAAOW,EAAKvD,KAAMA,EAAM8K,aAAa,MAAM/G,SAAUA,EAAU3D,GAAG,cAAcoD,SAAU,SAACC,GAAOC,EAAOD,EAAEE,OAAOf,OAAQqI,EAAO,QAASxH,EAAEE,OAAOf,WAGxJsI,GAAiB,SAAC,GAAuC,IAArCT,EAAoC,EAApCA,MAAOC,EAA6B,EAA7BA,MAAOC,EAAsB,EAAtBA,KAAM/E,EAAgB,EAAhBA,IAAKuF,EAAW,EAAXA,KAC/C,OACI,sBAAKjI,UAAS,gBAAWyH,EAAKxI,OAASwI,EAAKE,QAAU,QAAU,IAAhE,UACI,gCAAQH,IACR,kDAAUxH,UAAU,UAAauH,GAAjC,IAAwCK,aAAa,MAAM,WAAUlF,EAAKuF,KAAMA,KAC/EJ,GAAYJ,OAKnBI,GAAc,SAAC,GAAwB,IAAtB5I,EAAqB,EAArBA,MACnB,GADwC,EAAd0I,SACX1I,EACX,OACI,qBAAKe,UAAU,mBAAf,SACI,qBAAKA,UAAU,SAAf,SACKf,OA6HNiJ,gBAAU,CACrBzK,KAAM,WACN0K,SAhBa,SAAAC,GACb,IAAMC,EAAS,GAUf,OATKD,EAAWlL,KACZmL,EAAOnL,GAAK,uCAEXkL,EAAWpD,QACZqD,EAAOrD,MAAQ,mCAEdoD,EAAWE,SACZD,EAAOC,OAAS,6BAEbD,IAGIH,EAtHE,SAAA/H,GACb,IAiCA,EAAsCgB,mBAAShB,EAAMoI,cAActI,MAAQ,WAAa,QAAxF,oBAAOuI,EAAP,KAAoBC,EAApB,KACA,EAA0DtH,mBAAShB,EAAMoI,cAActI,MAAQE,EAAMoI,cAActI,MAAMS,MAAM,GAAK,IAApI,oBAAOgI,EAAP,KAA8BC,EAA9B,KACA,EAAsDxH,mBAAShB,EAAMoI,cAActI,MAAQE,EAAMoI,cAActI,MAAQ,IAAvH,oBAAO2I,EAAP,KAA4BC,EAA5B,KAUMC,EAAoB,SAAAC,GACtB,OAAOA,GACH,IAAK,WAAY5I,EAAM4H,OAAO,QAAS,IAAMW,GAAwB,MACrE,IAAK,MAAOvI,EAAM4H,OAAO,QAASa,GAAsB,MACxD,QAASzI,EAAM4H,OAAO,QAAS,IAEnCU,EAAeM,IAGnB,OACI,qCACI,uBAAM/I,UAAU,gBAAgBgJ,SAAU7I,EAAM8I,cAxDvC,SAAAb,GACbjI,EAAM6I,SAASZ,MAuDX,UACI,cAAC,GAAD,IACA,sBAAKpI,UAAU,SAAf,UACI,cAACkJ,GAAA,EAAD,CAAOxB,KAAK,aAAahF,IAAI,yEAAqDtC,KAAK,KAAK+I,UAAW7B,GAAaE,MAAM,aAAU1K,KAAK,SAASqD,MAAO,CAAEU,SAAUV,EAAMiJ,QAC3K,cAACF,GAAA,EAAD,CAAOxB,KAAK,gBAAgBtH,KAAK,QAAQ+I,UAAW7B,GAAaE,MAAM,SAAM1K,KAAK,YAEtF,4CACA,sBAAKkD,UAAU,SAAf,UACI,qBAAKA,UAAU,mBAAf,SACI,qBAAKA,UAAU,UAAf,SACI,sBAAKA,UAAU,iBAAf,UACI,qBAAKA,UAAU,QAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,uBAAOlD,KAAK,QAAQsD,KAAK,QAAQ+B,QAAyB,SAAhBqG,EAAwBtL,GAAG,OAAOoD,SAAU,kBAAMwI,EAAkB,WAC9G,uBAAO9I,UAAU,UAAUoC,QAAQ,OAAnC,gCAGR,qBAAKpC,UAAU,QAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,uBAAOlD,KAAK,QAAQsD,KAAK,QAAQ+B,QAAyB,aAAhBqG,EAA4BtL,GAAG,WAAWoD,SAAU,kBAAMwI,EAAkB,eACtH,uBAAO9I,UAAU,UAAUoC,QAAQ,WAAnC,yCAGR,qBAAKpC,UAAU,QAAf,SACI,sBAAKA,UAAU,oBAAf,UACI,uBAAOlD,KAAK,QAAQsD,KAAK,QAAQ+B,QAAyB,QAAhBqG,EAAuBtL,GAAG,MAAMoD,SAAU,kBAAMwI,EAAkB,UAC5G,uBAAO9I,UAAU,UAAUoC,QAAQ,MAAnC,uCAQpB,qBAAKpC,UAAU,sBAAf,SArDU,WACtB,OAAOwI,GACH,IAAK,WAAY,OAAO,cAACU,GAAA,EAAD,CAAO9I,KAAK,QAAQ+I,UAAWjJ,GAAec,OAAQb,EAAMa,OAAQX,IAAKqI,EAAuBlI,OAAQ,SAAC6I,GAAOV,EAAyBU,GAAIlJ,EAAM4H,OAAO,QAAS,IAAMsB,IAAKtI,YAAY,0BAAoBD,eAAe,IACrP,IAAK,MAAO,OAAO,cAACoI,GAAA,EAAD,CAAO9I,KAAK,QAAQ+I,UAAWrB,GAAmBC,OAAQ5H,EAAM4H,OAAQjL,KAAK,QAAQuD,IAAKuI,EAAqBpI,OAAQqI,IAC1I,QAAS,QAkDIS,QAGT,cAACJ,GAAA,EAAD,CAAOxG,IAAI,iFAAkEuF,KAAM,GAAI7H,KAAK,SAAS+I,UAAWnB,GAAgBR,MAAM,iBACtI,cAAC0B,GAAA,EAAD,CAAO9I,KAAK,OAAO+I,UAAWnB,GAAgBR,MAAM,gCAA0BS,KAAM,IA1FvF9H,EAAMiJ,KAIP,sBAAKpJ,UAAU,aAAf,UACI,sBAAKA,UAAU,kCAAf,UACI,sBAAKA,UAAU,SAAf,UACI,wBAAQA,UAAS,4BAAuB4E,eAAe,mBAAqB,IAA5E,uBACA,cAAC,IAAD,CAAMG,GAAE,wBAAmB5E,EAAMjD,IAAM8C,UAAS,yBAAoB4E,eAAe,mBAAqB,IAAxG,yBAEJ,qBAAK5E,UAAU,gBAAf,SACI,cAAC,GAAD,CACI4G,OAAO,0CACPG,QAAO,qCAA0B5G,EAAMoI,cAAcvD,MAA9C,yDACPkC,UAAU,WACVC,YAAY,eACZC,UAAWjH,EAAMoJ,cALrB,SAOI,wBAAQzM,KAAK,SAASkD,UAAS,6BAAwB4E,eAAe,mBAAqB,IAA3F,0CAIZ,qBAAK5E,UAAU,sBAAf,qBArBG,wBAAQA,UAAU,oBAAlB,0BA4FNG,EAAMuG,eCrIb8C,G,4MACF5M,MAAQ,CACJ0H,QAAQ,EACRtD,OAAQ,I,uDAGZ,WACIiE,KAAK9E,MAAM8C,aACXgC,KAAK9E,MAAM+D,eACPe,KAAK9E,MAAMwE,WACXM,KAAK9E,MAAMgE,qB,gCAInB,WACSc,KAAKrI,MAAM0H,QAAWvH,IAAEmI,QAAQD,KAAK9E,MAAMxD,QAC5CsI,KAAKE,SAAS,CAAEb,QAAQ,EAAMtD,OAAQiE,KAAK9E,MAAMxD,MAAMW,KAAI,SAAAC,GAAI,OAAIA,EAAK0C,SAAOmF,OAAO3F,O,oBAI9F,WACI,OAAIwF,KAAK9E,MAAMsJ,UAAY,EAEnB,sBAAKzJ,UAAU,eAAf,UACI,oBAAIA,UAAU,YAAd,wCAGA,cAAC,GAAD,CAAUgJ,SAAU/D,KAAK9E,MAAMuJ,WAAYnB,cAAe,CAAErL,GAAI+H,KAAK9E,MAAMsJ,UAAY,GAAIzI,OAAQiE,KAAKrI,MAAMoE,YAI/G,cAAC,GAAD,Q,GA/BM0E,IAAMC,WA4ChBC,gBARS,SAAAhJ,GACpB,MAAO,CACH+H,UAAW/H,EAAMe,SAASrB,QAC1BmN,UAAWE,KAAKC,IAAL,MAAAD,KAAI,YAAQ9D,OAAOC,OAAOlJ,EAAMD,OAAOW,KAAI,SAAAC,GAAI,OAAIA,EAAKL,QACnEP,MAAOkJ,OAAOC,OAAOlJ,EAAMD,UAIK,CAAE+M,WNsBhB,SAAAG,GAAQ,gDAAI,WAAOlL,EAAU4E,GAAjB,kBAAAL,EAAA,sEAExBjD,EAAQ4J,EAAS5J,MAAQ4J,EAAS5J,MAAMS,MAAM,GAAK,GAF3B,SAGPkC,GAAGkH,KAAK,UAAW,CACtC5M,GAAIyG,SAASkG,EAAS3M,IACtB8H,MAAO6E,EAAS7E,MAChBsD,OAAQuB,EAASvB,OAAOyB,MAAM,QAAQC,KAAK,OAC3CC,KAAMJ,EAASI,MAAQ,GACvBhK,MAAOA,GACR,CAAEwD,QAAS,CAAC,cAAgB,SAAhB,OAA0BF,IAAW/E,KAAK/B,UAT3B,OAGxBmC,EAHwB,OAU9BD,EAAS,CAAC7B,KAAM3B,EAAa8B,QAAS2B,EAASwE,OAC/CQ,GAAQC,KAAR,wBAA8BgG,EAAS3M,KAXT,gDAa9B8B,QAAQkL,IAAI,KAAItL,UAChBH,EAAY,EAAD,GAAME,GAda,yDAAJ,yDMtBoBuF,gBAAcC,oBAAkBlB,eAAvE2C,CAAqF4D,IC5C9FW,G,4MACFvN,MAAQ,CACJ0H,QAAQ,EACRtD,OAAQ,I,uDAGZ,WACIiE,KAAK9E,MAAMkD,UAAU4B,KAAK9E,MAAMiK,MAAMC,OAAOnN,IAC7C+H,KAAK9E,MAAM8C,aACXgC,KAAK9E,MAAM+D,eACPe,KAAK9E,MAAMwE,WACXM,KAAK9E,MAAMgE,qB,gCAInB,YACSc,KAAKrI,MAAM0H,QAAUW,KAAK9E,MAAMxD,MAAMoB,OAAS,GAChDkH,KAAKE,SAAS,CAAEb,QAAQ,EAAMtD,OAAQiE,KAAK9E,MAAMxD,MAAMW,KAAI,SAAAC,GAAI,OAAIA,EAAK0C,SAAOmF,OAAO3F,O,oBAI9F,WAAU,IAAD,OACL,IAAKwF,KAAK9E,MAAM5C,KACZ,OAAO,cAAC,GAAD,IAEX,IAAMA,EAAO0H,KAAK9E,MAAM5C,KACxB,OACI,sBAAKyC,UAAU,eAAf,UACI,oBAAIA,UAAU,YAAd,qCAGA,cAAC,GAAD,CACIgJ,SAAU,SAACZ,GAAD,OAAgB,EAAKjI,MAAMmK,SAAS,EAAKnK,MAAMiK,MAAMC,OAAOnN,GAAIkL,IAC1EG,cAAe,CAACrL,GAAIK,EAAKL,GAAI8H,MAAOzH,EAAKyH,MAAOsD,OAAQ/K,EAAKgN,OAAOP,KAAK,QAASC,KAAM1M,EAAK0M,KAAMhK,MAAO1C,EAAK0C,MAAQ,IAAM1C,EAAK0C,MAAQ,IAC1ImJ,MAAI,EAAClM,GAAIK,EAAKL,GAAIqM,cAAe,kBAAM,EAAKpJ,MAAMmD,WAAW,EAAKnD,MAAMiK,MAAMC,OAAOnN,KAAK8D,OAAQiE,KAAKrI,MAAMoE,gB,GAlC1G0E,IAAMC,WAiDdC,gBARS,SAAChJ,EAAO4N,GAC5B,MAAO,CACHjN,KAAMX,EAAMD,MAAM6N,EAASJ,MAAMC,OAAOnN,IACxCP,MAAOkJ,OAAOC,OAAOlJ,EAAMD,OAC3BgI,UAAW/H,EAAMe,SAASrB,WAIM,CAAEgO,SPoClB,SAACpN,EAAI2M,GAAL,gDAAkB,WAAOlL,EAAU4E,GAAjB,gBAAAL,EAAA,+EAEXN,GAAG6H,MAAH,iBAAmBvN,EAAnB,KAA0B,CAC7C8H,MAAO6E,EAAS7E,MAChBsD,OAAQuB,EAASvB,OAAOyB,MAAM,QAAQC,KAAK,OAC3CC,KAAMJ,EAASI,MAAQ,GACvBhK,MAAO4J,EAAS5J,MAAMS,MAAM,IAC7B,CAAE+C,QAAS,CAAC,cAAgB,SAAhB,OAA0BF,IAAW/E,KAAK/B,UAPvB,OAE5BmC,EAF4B,OAQlCD,EAAS,CAAC7B,KAAM1B,EAAW6B,QAAS2B,EAASwE,OAC7CQ,GAAQC,KAAR,wBAA8B3G,IATI,gDAWlCuB,EAAY,EAAD,GAAME,GAXiB,yDAAlB,yDOpC4BsE,cAAYI,aAAWa,gBAAcC,oBAAkBb,eAA5FsC,CAA0GuE,IC7CnHO,GAAkB,GAGlBC,G,4MACF/N,MAAQ,CACJgO,SAAUF,GACVG,mBAAmB,EACnBC,eAAgB,GAChBC,oBAAoB,EACpBC,aAAc,EACdC,aAAcrG,eACdsG,eAAe,EACfC,UAAU,G,EAgBdC,cAAgB,SAAC7K,GACb,OAAOA,EAAE8K,MACL,IAAK,aACD,EAAKC,mBAAkB,GACvB,MACJ,IAAK,YACD,EAAKA,mBAAkB,K,EAMnCC,aAAe,SAACC,GACRA,GAAY,EAAK5O,MAAMgO,SAAW,GAClC,EAAKzF,SAAS,CAACyF,SAAU,EAAKhO,MAAMgO,SAAW,KACvCY,GAAY,EAAK5O,MAAMgO,SAAW,GAC1C,EAAKzF,SAAS,CAACyF,SAAU,EAAKhO,MAAMgO,SAAW,K,EAIvDa,aAAe,WACX,EAAKtG,SAAS,CAAEgG,UAAW,EAAKvO,MAAMuO,Y,EAG1CO,iBAAmB,WACX,EAAK9O,MAAMmO,mBACX,EAAK5F,SAAS,CAAC4F,oBAAoB,EAAOH,SAAUF,KAEpD,EAAKvF,SAAS,CAAC4F,oBAAoB,EAAMH,SAvD/B,M,EA2DlBU,kBAAoB,SAAAK,GACZA,EACA,EAAKxG,SAAS,CAAC6F,cAAe,EAAKpO,MAAMoO,aAAe,GAAK,EAAK7K,MAAM5C,KAAKgN,OAAOxM,SAEpD,IAA5B,EAAKnB,MAAMoO,aACX,EAAK7F,SAAS,CAAC6F,aAAe,EAAK7K,MAAM5C,KAAKgN,OAAOxM,OAAS,IAE9D,EAAKoH,SAAS,CAAC6F,cAAe,EAAKpO,MAAMoO,aAAe,GAAK,EAAK7K,MAAM5C,KAAKgN,OAAOxM,U,EAKhG6N,oBAAsB,WACd,EAAKhP,MAAMmO,mBACX,EAAK5F,SAAS,CAAEyF,SAzEN,KA2EV,EAAKzF,SAAS,CAAEyF,SAAUF,M,EAIlCmB,cAAgB,WACZ,EAAK1L,MAAM2D,cAAcH,SAAS,EAAKxD,MAAMiK,MAAMC,OAAOnN,KACrD,EAAKiD,MAAMwE,WACZ,EAAKxE,MAAMgE,oB,EAInB2H,WAAa,SAACC,EAAMtJ,GAChB,IAAMuJ,GAAkBD,EAAK3B,MAAM,UAAY,IAAIrM,OACnD,OAAO,uBAAMiC,UAAS,UAAKgM,EAAiB,EAAI,OAAS,IAAlD,UAAmED,EAAK,yBAAXtJ,I,EAGxEwJ,YAAc,SAACC,EAAOzJ,GAClB,IAAM0J,EAAQD,EAAMnC,MAAM,MAAMzM,KAAI,SAACyO,EAAMtJ,GAAP,OAAe,EAAKqJ,WAAWC,EAAMtJ,MACzE,OACI,mBAAG9B,MAAO,CAACiK,SAAS,GAAD,OAAK,EAAKhO,MAAMgO,SAAhB,OAA+B5K,UAAU,OAA5D,SACKmM,GADmE1J,I,EAMhF2J,aAAe,WACX,IAAK,EAAKxP,MAAMmO,mBAAoB,CAChC,GAAI,EAAKnO,MAAMsO,cAAe,CAC1B,IAAMmB,EAAc,EAAKlM,MAAM5C,KAAKgN,OAAOjN,KAAI,SAAC4O,EAAOzJ,GACnD,OAAIA,EAAM,GAAKkH,KAAK2C,KAAK,EAAKnM,MAAM5C,KAAKgN,OAAOxM,OAAS,GAC9C,EAAKkO,YAAYC,EAAOzJ,GAExB,QAGT8J,EAAe,EAAKpM,MAAM5C,KAAKgN,OAAOjN,KAAI,SAAC4O,EAAOzJ,GACpD,OAAIA,EAAM,EAAIkH,KAAK2C,KAAK,EAAKnM,MAAM5C,KAAKgN,OAAOxM,OAAS,GAC7C,EAAKkO,YAAYC,EAAOzJ,GAExB,QAGf,OACI,sBAAKzC,UAAU,kCAAf,UACI,qBAAKA,UAAU,oBAAf,SACKqM,IAEL,qBAAKrM,UAAU,kCAAf,SACKuM,OAKb,OAAO,sBAAKvM,UAAU,6BAAf,cAA8C,EAAKG,MAAM5C,KAAKgN,OAAOjN,KAAI,SAAC4O,EAAOzJ,GACpF,OAAO,EAAKwJ,YAAYC,EAAOzJ,SAI3C,IAAK,EAAKtC,MAAM5C,KAAKgN,OAAO,EAAK3N,MAAMoO,cACnC,OAAO,cAAC,GAAD,IAEX,IAAMmB,EAAQ,EAAKhM,MAAM5C,KAAKgN,OAAO,EAAK3N,MAAMoO,cAAcjB,MAAM,MAAMzM,KAAI,SAACyO,EAAMtJ,GAAP,OAAe,EAAKqJ,WAAWC,EAAMtJ,MACnH,OACI,8BACI,mBAAG9B,MAAO,CAACiK,SAAS,GAAD,OAAK,EAAKhO,MAAMgO,SAAhB,OAAnB,SACKuB,O,EAOjBK,cAAgB,WACZ,IAAMC,EAAa,EAAKtM,MAAM3D,SAAW,cAAC,IAAD,CAAM,WAAS,4CAAgCwD,UAAU,kCAAkC+E,GAAE,6BAAwB,EAAK5E,MAAMiK,MAAMC,OAAOnN,IAA7I,SAAmJ,mBAAG8C,UAAU,gBAA0B,KAC7N0M,EAAa,EAAKvM,MAAM5C,KAAK0M,KAAO,cAAC,GAAD,CAAUvH,IAAI,oCAA2BzC,MAAM,QAAQoC,QAAS,kBAAM,EAAKoJ,gBAAgBlJ,MAAO,CAAC,yBAA8B,KACrKoK,IAAiB/H,gBAAgB,EAAKhI,MAAMqO,YAM/C,MACG2B,EAAkB,EAAKhQ,MAAMqO,YAC/B,qCACI,cAAC,IAAD,CAAM,WAAS,yBAAsBjL,UAAU,gCAAgC+E,GAAG,WAAlF,SAA6F,mBAAG/E,UAAU,kBACzGyM,EACD,cAAC,GAAD,CAAU/J,IAAG,UAAK,EAAK9F,MAAMsO,cAAgB,MAAQ,SAAxC,aAAuDjL,MAAM,UAAUoC,QAAS,kBAAM,EAAK8C,SAAS,CAAC+F,eAAgB,EAAKtO,MAAMsO,iBAAiBrK,SAAU,EAAKjE,MAAMmO,mBAAoBxI,MAAO,CAAC,GAAD,OAAI,EAAK3F,MAAMsO,cAAgB,gBAAkB,cAC9PwB,EACD,cAAC,GAAD,CAAUhK,IAAI,sCAAwBzC,MAAM,UAAUoC,QAAS,kBAAM,EAAKkJ,cAAa,IAAQhJ,MAAO,CAAC,OAAQ,gBAC/G,cAAC,GAAD,CAAUG,IAAI,mCAAqBzC,MAAM,UAAUoC,QAAS,kBAAM,EAAKkJ,cAAa,IAAOhJ,MAAO,CAAC,OAAQ,eAC3G,cAAC,GAAD,CAAUG,IAAI,4CAA2BzC,MAAM,UAAUoC,QAAS,EAAKuJ,oBAAqBrJ,MAAO,CAAC,OAAQ,UAC5G,cAAC,GAAD,CAAUG,IAAI,iDAAkCzC,MAAM,QAAQoC,QAAS,EAAKwJ,cAAgBtJ,MAAO,CAAC,UACpG,cAAC,GAAD,CAAUtC,MAAM,QAAQoC,QAAS,EAAKlC,MAAMgE,iBAAkB5B,MAAO,CAAC,eAAgBI,KAAK,+BAE/F,KACJ,OACI,qCACKiK,EACAD,M,EAKbE,YAAc,WACV,OAAIjI,eAEI,qCACK,EAAK4H,gBACN,sBAAKxM,UAAU,aAAf,UACI,gCACI,qBAAIA,UAAU,gBAAd,UAA+B,EAAKG,MAAM5C,KAAKL,GAA/C,KAAqD,EAAKiD,MAAM5C,KAAKyH,MAArE,OACA,qBAAKrE,MAAO,CAACmM,WAAW,OAAQC,OAAQ,OAAQC,MAAO,OAAQC,aAAc,OAAQrM,gBAAiB,IAAM,EAAKT,MAAM5C,KAAK0C,YAEhI,cAAC,GAAD,CAAUA,MAAM,OAAOoC,QAAS,kBAAI,EAAK8C,SAAS,CAAC8F,aAAc,EAAKrO,MAAMqO,eAAe1I,MAAO,CAAC,QAASG,IAAI,6CAEpH,qBAAK1C,UAAU,kBAKvB,qCACI,sBAAKA,UAAU,mBAAf,UACA,sBAAKA,UAAU,UAAf,UACY,qBAAIA,UAAU,gBAAd,UAA+B,EAAKG,MAAM5C,KAAKL,GAA/C,KAAqD,EAAKiD,MAAM5C,KAAKyH,MAArE,OACA,qBAAKrE,MAAO,CAACmM,WAAW,OAAQC,OAAQ,OAAQC,MAAO,OAAQC,aAAc,OAAQrM,gBAAiB,IAAM,EAAKT,MAAM5C,KAAK0C,YAEpI,oBAAID,UAAU,gBAAd,SAA+B,EAAKpD,MAAMmO,mBAAX,UAAmC,EAAKnO,MAAMoO,aAAe,EAA7D,YAAkE,EAAK7K,MAAM5C,KAAKgN,OAAOxM,QAAW,KACnI,gCACI,cAAC,GAAD,CAAUkC,MAAM,OAAOoC,QAAS,kBAAI,EAAK8C,SAAS,CAAC8F,aAAc,EAAKrO,MAAMqO,eAAe1I,MAAO,CAAC,QAASG,IAAI,0CAC/G,EAAK8J,sBAGd,qBAAKxM,UAAU,mB,EAO3BkN,WAAa,WACT,IAAMf,EAAQ,EAAKhM,MAAM5C,KAAK0M,KAAKF,MAAM,MAAMzM,KAAI,SAACyO,EAAMtJ,GAAP,OAAe,iCAAiBsJ,EAAK,yBAAXtJ,MAC7E,OAAO,EAAK7F,MAAMuO,SACV,sBAAKnL,UAAU,UAAf,UACI,sBAAKA,UAAU,aAAf,UACI,iDACA,mBAAGA,UAAU,yBAAyBqC,QAAS,kBAAM,EAAK8C,SAAS,CAACgG,UAAU,UAElF,4BAAIgB,OAER,M,uDAlNZ,WACIlH,KAAK9E,MAAMiE,cACXa,KAAK9E,MAAMkD,UAAU4B,KAAK9E,MAAMiK,MAAMC,OAAOnN,M,gCAGjD,SAAmBiQ,GACXA,EAAU5P,MACN4P,EAAU5P,KAAKL,KAAO+H,KAAK9E,MAAM5C,KAAKL,IACtC+H,KAAKE,SAAS,CAAE6F,aAAc,M,oBA6M1C,WACI,OAAI/F,KAAK9E,MAAM5C,KAEP,qCACI,cAAC,GAAD,IACA,sBAAKyC,UAAU,eAAeoN,UAAWnI,KAAKmG,cAA9C,UACSnG,KAAK4H,cACL5H,KAAKmH,eACLnH,KAAKiI,mBAKnB,cAAC,GAAD,Q,GA9OQxH,IAAMC,WA0PdC,gBARS,SAAChJ,EAAO4N,GAC5B,MAAO,CACHjN,KAAMX,EAAMD,MAAM6N,EAASJ,MAAMC,OAAOnN,IACxCyH,UAAW/H,EAAMe,SAASrB,QAC1BE,SAAUI,EAAM4B,KAAKhC,YAIW,CAAE6G,aAAWC,cAAYc,eAAaN,iBAAeK,qBAA9EyB,CAAkG+E,ICtQ3GrD,GAAc,SAAC,GAAkC,IAAhCC,EAA+B,EAA/BA,MAAOC,EAAwB,EAAxBA,MAAOC,EAAiB,EAAjBA,KAAM3K,EAAW,EAAXA,KACvC,OACI,sBAAKkD,UAAS,gBAAWyH,EAAKxI,OAASwI,EAAKE,QAAU,QAAU,IAAhE,UACI,gCAAQH,IACR,iDAAWD,GAAX,IAAkBzK,KAAMA,EAAM8K,aAAa,SAC1CC,GAAYJ,OAKnBI,GAAc,SAAC,GAAwB,IAAtB5I,EAAqB,EAArBA,MACnB,GADwC,EAAd0I,SACX1I,EACX,OACI,qBAAKe,UAAU,mBAAf,SACI,qBAAKA,UAAU,SAAf,SACKf,OAoCNiJ,gBAAU,CACrBzK,KAAM,WACN0K,SAba,SAAAC,GACb,IAAMC,EAAS,GAOf,OANKD,EAAWiF,WACZhF,EAAOgF,SAAW,qCAEjBjF,EAAWkF,WACZjF,EAAOiF,SAAW,yBAEfjF,IAGIH,CAGZtC,YAAQ,KAAM,CAAE2H,MCvDE,SAAC,GAAD,IAAGF,EAAH,EAAGA,SAAUC,EAAb,EAAaA,SAAb,gDAA4B,WAAM3O,GAAN,gBAAAuE,EAAA,+EAElBN,GAAGkH,KAAK,mBAAoB,CAAEuD,WAAUC,aAFtB,OAEnC1O,EAFmC,OAGzCD,EAAS,CAAE7B,KAAMd,EAAOiB,QAAS2B,EAASwE,KAAK3G,QAC/CmH,GAAQ4J,SAJiC,gDAMzC/O,EAAY,EAAD,GAAME,GANwB,yDAA5B,wDDuDlBiH,EAhCW,SAACzF,GAMX,OACI,qBAAKH,UAAU,eAAf,SACI,uBAAMA,UAAU,gBAAgBgJ,SAAU7I,EAAM8I,cANvC,SAACb,GACdjI,EAAMoN,MAAMnF,MAKR,UACI,cAACc,GAAA,EAAD,CAAO9I,KAAK,WAAW+I,UAAW7B,GAAaE,MAAM,0BAAiB1K,KAAK,SAC3E,cAACoM,GAAA,EAAD,CAAO9I,KAAK,WAAW+I,UAAW7B,GAAaE,MAAM,YAAS1K,KAAK,aACnE,wBAAQkD,UAAU,oBAAlB,uCEZD4F,gBAJS,SAAAhJ,GACpB,MAAO,CAAEJ,SAAUI,EAAM4B,KAAKhC,YAGM,CAAEiR,ODZpB,WAClB,MAAO,CAAE3Q,KAAMb,KCWJ2J,EApBA,SAACzF,GAEZ,IAAMuN,EAAWvN,EAAM3D,SACrB,cAAC,IAAD,CAAMwD,UAAU,cAAcqC,QAAS,kBAAMlC,EAAMsN,UAAnD,8BACA,cAAC,IAAD,CAAM1I,GAAG,gBAAgB/E,UAAU,4BAAnC,oCAEF,OACI,sBAAKA,UAAU,4DAAf,UACI,oBAAGA,UAAU,gBAAb,mDACA,mBAAGS,OAAO,SAASkN,IAAI,aAAaC,KAAK,8CAAzC,SAAuF,mBAAG,aAAW,8BAAwB5N,UAAU,kBAAsB,uBAD7J,aAEA,mBAAGS,OAAO,SAASkN,IAAI,aAAaC,KAAK,mBAAzC,0DAFA,oBAGCF,QCoBE9H,gBAPS,SAAAhJ,GACpB,MAAO,CACHY,MAAOZ,EAAMY,MACbhB,SAAUI,EAAM4B,KAAKhC,YAIW,CAAE4H,gBAA3BwB,EA5BA,SAACzF,GACZ,IAAM3C,EAAQ2C,EAAM3C,MAAMsB,IACtB,cAACoH,GAAA,EAAD,CAAOC,QAAS,WAAOhG,EAAMiE,eAAgBgC,SAAUjG,EAAM3C,MAAMV,KAAnE,SACKqD,EAAM3C,MAAMsB,MAEf,KACAkG,EAAQJ,eAAe,qBAAK5E,UAAU,eAAf,qCAA2D,yDAElF6N,EAAU1N,EAAM3D,SAAW,cAAC,IAAD,CAAMuI,GAAG,oBAAoB/E,UAAU,mBAAvC,2BAA2E,KAC5G,OACI,sBAAKA,UAAU,uCAAf,UACI,cAAC,IAAD,CAAM+E,GAAG,UAAU/E,UAAU,QAA7B,SAAsCgF,IACtC,cAAC,IAAD,CAAMD,GAAG,UAAU/E,UAAU,mBAA7B,kCACC6N,EACD,qBAAK7N,UAAU,WAAf,SACKxC,UCPXsQ,G,4MACFlR,MAAQ,CACJyJ,MAAM,G,EAOVvB,WAAa,SAACvH,EAAMkF,GAChB,IAAMsL,EAAqB,IAARtL,EACbuL,EAAevL,IAAQ,EAAKtC,MAAMxC,SAASxB,KAAK4B,OAAS,EAC/D,OACI,qBAAKiC,UAAS,uBAAkB,EAAKG,MAAMxC,SAASvB,eAAiBqG,EAAM,SAAW,IAAtF,SACI,qBAAIzC,UAAU,SAAd,UACI,mBAAGA,UAAS,UAAK+N,EAAa,OAAS,UAA3B,8BAAkE1L,QAAS,kBAAM,EAAKlC,MAAM8N,eAAexL,GAAK,MAC5H,mBAAGzC,UAAS,UAAKgO,EAAe,OAAS,UAA7B,gCAAsE3L,QAAS,kBAAM,EAAKlC,MAAM8N,eAAexL,GAAK,MAChI,eAAC,IAAD,CAAMsC,GAAE,wBAAmBxH,EAAKL,IAAM8C,UAAU,uBAAhD,UAAwEzC,EAAKL,GAA7E,KAAmFK,EAAKyH,SAExF,qBAAKhF,UAAU,gBAAf,SACI,mBAAGA,UAAU,gCAAgCqC,QAAS,kBAAM,EAAKlC,MAAM4D,mBAAmBxG,EAAKL,aAPVuF,I,EAczGyL,eAAiB,WACb,GAAInR,IAAEmI,QAAQ,EAAK/E,MAAMxD,SAAW,EAAKC,MAAMyJ,KAC3C,OAAO,KAEX,IAAMlK,EAAO,EAAKgE,MAAMxC,SAASxB,KAAKmB,KAAI,SAAC6Q,EAAQ1L,GAC/C,IAAMlF,EAAO,EAAK4C,MAAMxD,MAAM2I,MAAK,SAAA8I,GAAE,OAAIA,EAAGlR,KAAOiR,KACnD,OAAO5Q,EAAO,EAAKuH,WAAWvH,EAAMkF,GAAO,QAGzC4C,EAAQlJ,EAAK4B,OAAS,EAAI,GAAM,mBAAGiC,UAAU,gBAAb,8CACtC,OACI,qCACI,qBAAKA,UAAU,kCAAf,SACK7D,IAEJkJ,M,EAMbgJ,QAAU,WACN,EAAKlO,MAAMmO,gBACX,EAAKnO,MAAMgE,oB,EAGfgC,QAAU,SAAC5F,GACP,EAAKJ,MAAMgE,mBACX5D,EAAEkE,mB,uDAlDN,WACIQ,KAAK9E,MAAM8C,e,oBAoDf,WAAU,IAAD,OAEL,IAAKgC,KAAK9E,MAAMxC,SAASrB,QACrB,OAAO,KAGX,IAAMF,EAAmD,IAApC6I,KAAK9E,MAAMxC,SAASxB,KAAK4B,OAAe,EAAIkH,KAAK9E,MAAMxC,SAASvB,aAAe,EAC9FmS,EAAetJ,KAAKrI,MAAMyJ,KAC5B,sBAAKrG,UAAU,qBAAqBqC,QAAS,kBAAM,EAAK8C,SAAS,CAACkB,MAAO,EAAKzJ,MAAMyJ,QAApF,UACI,mBAAGrG,UAAS,eAAUiF,KAAKrI,MAAMyJ,KAAO,QAAU,UAClD,mBAAGrG,UAAU,iBAAiBqC,QAAS4C,KAAKkB,aAEhD,KACJ,OACI,mCACI,sBAAKnG,UAAU,qBAAf,UACI,cAAC,GAAD,IACA,sBAAKA,UAAU,qBAAqBqC,QAAS,kBAAM,EAAK8C,SAAS,CAACkB,MAAO,EAAKzJ,MAAMyJ,QAApF,UACI,mEAAyBjK,EAAzB,YAAyC6I,KAAK9E,MAAMxC,SAASxB,KAAK4B,WAClE,gCACI,mBAAGiC,UAAS,eAAUiF,KAAKrI,MAAMyJ,KAAO,QAAU,UADtD,WAEI,mBAAGrG,UAAU,iBAAiBqC,QAAS4C,KAAKkB,gBAGpD,sBAAKnG,UAAU,qBAAf,UACI,cAAC,GAAD,CACI4G,OAAO,sDACPG,QAAS,gGACTG,UAAW,WACXC,YAAa,eACbC,UAAWnC,KAAKoJ,QALpB,SAOI,cAAC,GAAD,CAAUxN,SAA8C,IAApCoE,KAAK9E,MAAMxC,SAASxB,KAAK4B,OAAc2E,IAAI,uCAA2BzC,MAAM,WAAWsC,MAAO,CAAC,uBAEvH,cAAC,GAAD,CAAU1B,UAAWoE,KAAK9E,MAAMxC,SAAStB,OAAQqG,IAAI,0BAAazC,MAAM,OAAOoC,QAAS,kBAAM,EAAKlC,MAAM6D,cAAa,EAAO,EAAK7D,MAAMxC,WAAW4E,MAAO,CAAC,cAC3J,cAAC,GAAD,CAAU1B,SAAUoE,KAAK9E,MAAMxC,SAAStB,QAA8C,IAApC4I,KAAK9E,MAAMxC,SAASxB,KAAK4B,OAAc2E,IAAI,wCAA4BzC,MAAM,QAAQoC,QAAS,kBAAM,EAAKlC,MAAMqO,cAAc,EAAKrO,MAAMxC,WAAW4E,MAAO,CAAC,UAC7M,cAAC,GAAD,CAAU1B,UAAWoE,KAAK9E,MAAMxC,SAAStB,OAAQqG,IAAI,4BAAiBzC,MAAM,OAAOoC,QAAS,kBAAM,EAAKlC,MAAM6D,cAAa,EAAM,EAAK7D,MAAMxC,WAAW4E,MAAO,CAAC,gBAEjK0C,KAAKiJ,iBACLK,W,GAjGE7I,IAAMC,WAgHdC,gBAPS,SAAAhJ,GACpB,MAAO,CACHD,MAAOkJ,OAAOC,OAAOlJ,EAAMD,OAC3BgB,SAAUf,EAAMe,YAIgB,CACpCsF,cACAe,gBACAwK,cZ5FyB,SAAC5R,GAE1B,OADAgH,GAAQC,KAAR,wBAA8BjH,EAAMT,KAAKS,EAAMR,gBACxC,CAACU,KAAMnB,IY2Fd2S,cZrFyB,WACzB,MAAO,CAACxR,KAAMjB,IYqFdkI,sBACAI,oBACA8J,eZhF0B,SAAC/P,EAAOC,GAClC,MAAO,CAAErB,KAAMf,EAAkBkB,QAAS,CAACiB,QAAOC,SYwEvCyH,CAQZkI,ICtGYW,GApBH,WACR,OACI,8BACI,eAAC,IAAD,CAAQ7K,QAASA,GAAjB,UACI,cAAC,GAAD,IACA,eAAC,IAAD,WACI,cAAC,IAAD,CAAO8K,KAAK,WAAWC,OAAK,EAACxF,UAAW9E,KACxC,cAAC,IAAD,CAAOqK,KAAK,oBAAoBC,OAAK,EAACxF,UAAWK,KACjD,cAAC,IAAD,CAAOkF,KAAK,yBAAyBC,OAAK,EAACxF,UAAWgB,KACtD,cAAC,IAAD,CAAOuE,KAAK,oBAAoBC,OAAK,EAACxF,UAAWwB,KACjD,cAAC,IAAD,CAAO+D,KAAK,gBAAgBC,OAAK,EAACxF,UAAWyF,QAEjD,cAAC,GAAD,IACA,cAAC,GAAD,UCfVC,IAHmBC,OAAOC,sCAAwCC,KAErBC,YAAgBC,eAAK,CAAEC,OAAQ,CAAC,YAAaC,SAAU,MAAOC,KAA/EC,CAA4FC,IAChHC,CAA0BC,EAAiBC,eAAK,CAAEP,OAAQ,CAAC,eAEzEQ,IAASC,OACL,cAAC,IAAD,CAAUf,MAAOA,GAAjB,SACI,cAAC,GAAD,MAEJgB,SAASC,eAAe,U","file":"static/js/main.03c7465b.chunk.js","sourcesContent":["export const FETCH_SONGS = 'FETCH_SONGS'\r\nexport const UPDATE_WITH_ID = 'UPDATE_WITH_ID'\r\nexport const UPDATE_WITH_WRONG_ID = 'UPDATE_WITH_WRONG_ID'\r\nexport const UPDATE_WITH_TERM = 'UPDATE_WITH_TERM'\r\nexport const CANCEL_SEARCH = 'CANCEL_SEARCH'\r\nexport const FETCH_SONG = 'FETCH_SONG'\r\nexport const CREATE_SONG = 'CREATE_SONG'\r\nexport const EDIT_SONG = 'EDIT_SONG'\r\nexport const DELETE_SONG = 'DELETE_SONG'\r\n\r\nexport const NEW_ALERT = 'NEW_ALERT'\r\nexport const REMOVE_ALERT = 'REMOVE_ALERT'\r\n\r\nexport const ADD_TO_PLAYLIST = 'ADD_TO_PLAYLIST'\r\nexport const REMOVE_FROM_PLAYLIST = 'REMOVE_FROM_PLAYLIST'\r\nexport const PLAYLIST_NEXT = 'PLAYLIST_NEXT'\r\nexport const START_PLAYLIST = 'START_PLAYLIST'\r\nexport const STOP_PLAYLIST = 'STOP_PLAYLIST'\r\nexport const CLEAR_PLAYLIST = 'CLEAR_PLAYLIST'\r\nexport const TOGGLE_VISIBILITY = 'TOGGLE_VISIBILITY'\r\nexport const MOVE_IN_PLAYLIST = 'MOVE_IN_PLAYLIST'\r\n\r\nexport const LOGIN = 'LOGIN'\r\nexport const LOGOUT = 'LOGOUT'","import { ADD_TO_PLAYLIST,\r\n    REMOVE_FROM_PLAYLIST,\r\n    PLAYLIST_NEXT,\r\n    START_PLAYLIST,\r\n    STOP_PLAYLIST,\r\n    CLEAR_PLAYLIST,\r\n    TOGGLE_VISIBILITY,\r\n    MOVE_IN_PLAYLIST } from \"../actions/types\"\r\n\r\nconst defaultState = {\r\n    list: [],\r\n    currentIndex: 0,\r\n    active: false,\r\n    visible: false,\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = defaultState, action) => {\r\n    switch(action.type) {\r\n        case ADD_TO_PLAYLIST:\r\n            return {...state, list: [...state.list, action.payload]}\r\n        case REMOVE_FROM_PLAYLIST:\r\n            const remIdx = state.list.indexOf(action.payload)\r\n            if (remIdx === -1) {\r\n                return state\r\n            }\r\n            let curIdx = state.currentIndex\r\n            if (remIdx < curIdx || remIdx === state.list.length - 1) {\r\n                curIdx -= 1\r\n            }\r\n            const clonedState = [...state.list]\r\n            clonedState.splice(remIdx, 1)\r\n            return { ...state, list: clonedState, currentIndex: curIdx }\r\n        case PLAYLIST_NEXT:\r\n            return { ...state, currentIndex: action.payload }\r\n        case START_PLAYLIST:\r\n            return { ...state, active: true}\r\n        case STOP_PLAYLIST:\r\n            return { ...state, active: false}\r\n        case CLEAR_PLAYLIST:\r\n            return { ...state, list: [], currentIndex: 0, active: false }\r\n        case TOGGLE_VISIBILITY:\r\n            return { ...state, visible: !state.visible}\r\n        case MOVE_IN_PLAYLIST:\r\n            if ((action.payload.index === 0 && action.payload.up) || (action.payload.index === state.list.length - 1 && !action.payload.up)) {\r\n                return state\r\n            }\r\n            const otherIndex = action.payload.up ? action.payload.index - 1 : action.payload.index + 1\r\n            const anotherClonedState = {...state}\r\n            const temp = anotherClonedState.list[otherIndex]\r\n            anotherClonedState.list[otherIndex] = anotherClonedState.list[action.payload.index]\r\n            anotherClonedState.list[action.payload.index] = temp\r\n            let diff = 0\r\n            if (state.currentIndex === action.payload.index) {\r\n                diff = action.payload.up ? -1 : 1\r\n            } else if (state.currentIndex === otherIndex) {\r\n                diff = action.payload.up ? 1 : -1\r\n            }\r\n            anotherClonedState.currentIndex += diff\r\n            return anotherClonedState\r\n        default:\r\n            return state\r\n    }\r\n}","import _ from 'lodash'\r\n\r\nimport { UPDATE_WITH_ID, UPDATE_WITH_WRONG_ID, UPDATE_WITH_TERM, CANCEL_SEARCH } from \"../actions/types\"\r\n\r\nconst defaultState = {\r\n    list: [],\r\n    validSearch: false\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = defaultState, action) => {\r\n    switch(action.type) {\r\n        case UPDATE_WITH_ID:\r\n            return { list: [action.payload.id], validSearch: true }\r\n        case UPDATE_WITH_WRONG_ID:\r\n            return { list: [], validSearch: true }\r\n        case UPDATE_WITH_TERM:\r\n            return { list: _.uniq(action.payload.map(song => song.id)), validSearch: true}\r\n        case CANCEL_SEARCH:\r\n            return defaultState\r\n        default:\r\n            return state\r\n    }\r\n}","import { LOGIN, LOGOUT } from \"../actions/types\"\r\n\r\nconst defaultState = {\r\n    signedIn: false,\r\n    token: null,\r\n}\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = defaultState, action) => {\r\n    switch(action.type) {\r\n        case LOGIN:\r\n            return { signedIn: true, token: action.payload}\r\n        case LOGOUT:\r\n            return defaultState\r\n        default:\r\n            return state\r\n    }\r\n}","import { combineReducers } from 'redux'\r\nimport { reducer as formReducer } from \"redux-form\"\r\n\r\nimport songsReducer from './songsReducer'\r\nimport alertReducer from './alertReducer'\r\nimport playlistReducer from './playlistReducer'\r\nimport searchListReducer from './searchListReducer'\r\nimport authReducer from './authReducer'\r\n\r\nexport default combineReducers({\r\n    songs: songsReducer,\r\n    searchList: searchListReducer,\r\n    alert: alertReducer,\r\n    form: formReducer,\r\n    playlist: playlistReducer,\r\n    auth: authReducer,\r\n})","import _ from 'lodash'\r\nimport { FETCH_SONGS, FETCH_SONG, CREATE_SONG, EDIT_SONG, DELETE_SONG } from \"../actions/types\"\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = {}, action) => {\r\n    switch (action.type) {\r\n        case FETCH_SONGS:\r\n            return {..._.mapKeys(action.payload, 'id')}\r\n        case FETCH_SONG:\r\n            return {...state, [action.payload.id]: action.payload}\r\n        case CREATE_SONG:\r\n            return {...state, [action.payload.id]: action.payload}\r\n        case EDIT_SONG:\r\n            return {...state, [action.payload.id]: action.payload}\r\n        case DELETE_SONG:\r\n            return _.omit(state, action.payload)\r\n        default:\r\n            return state\r\n    }\r\n}","import { NEW_ALERT, REMOVE_ALERT } from \"../actions/types\"\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = {}, action) => {\r\n    switch(action.type) {\r\n        case NEW_ALERT:\r\n            return action.payload\r\n        case REMOVE_ALERT:\r\n            return {}\r\n        default:\r\n            return state\r\n    }\r\n}","import { NEW_ALERT, REMOVE_ALERT } from './actions/types'\r\n\r\n\r\nconst setTimeoutToRemoveAlert = (dispatch) => {\r\n    setTimeout(() => dispatch({type: REMOVE_ALERT}), 5000)\r\n}\r\n\r\nexport const handleError = (err, dispatch) => {\r\n    if (!err.response) {\r\n        dispatch({type: NEW_ALERT, payload: {msg: 'Valami baj van', type: 'error'}})\r\n        console.error(err)\r\n    } else if (err.response.status === 401 || err.response.status === 403) {\r\n        dispatch({type: NEW_ALERT, payload: {msg: 'Nem vagy bejelentkezve', type: 'error'}})\r\n    } else if (err.response.status === 400) {\r\n        dispatch({type: NEW_ALERT, payload: {msg: 'Hibás felhasználónév vagy jelszó', type: 'error'}})\r\n    } else {\r\n        dispatch({type: NEW_ALERT, payload: {msg: `${err.response.status}: ${err.response.statusText}`, type: 'error'}})\r\n        console.error(err.response)\r\n    }\r\n    setTimeoutToRemoveAlert(dispatch)\r\n}\r\n\r\nexport const sortSongs = (songs, field) => {\r\n    songs.sort((fEl, sEl) => {\r\n        if (fEl[field] < sEl[field]) {\r\n            return -1\r\n        } else if (fEl[field] > sEl[field]) {\r\n            return 1\r\n        } return 0\r\n    })\r\n}\r\n\r\nexport const onlyUnique = (value, index, self) => {\r\n    return self.indexOf(value) === index && value\r\n}","import ReactTooltip from 'react-tooltip'\r\nimport { isMobile } from 'react-device-detect'\r\n\r\nconst MyTooltip = () => {\r\n    if (isMobile) {\r\n        return null\r\n    }\r\n    return <ReactTooltip effect=\"solid\" />\r\n}\r\n\r\nexport default MyTooltip\r\n","import React from 'react'\r\nimport Loader from \"react-loader-spinner\"\r\n\r\nimport '../styles.css'\r\n\r\nconst MyLoader = () => {\r\n    return (\r\n        <div className=\"loader-container\">\r\n            <Loader\r\n                type=\"Oval\"\r\n                color=\"#999897\"\r\n                visible\r\n            />\r\n            <p className=\"big-text\">Betöltés...</p>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MyLoader","import React from 'react'\r\n\r\nconst ColorSelector = props => {\r\n\r\n    const renderOptions = colors => {\r\n        if (!colors) {\r\n            return\r\n        }\r\n        return (\r\n            colors.map(color => (\r\n                <option key={color} value={'#' + color} style={{backgroundColor: '#' + color}}>\r\n                    {'#' + color}\r\n                </option>\r\n            ))\r\n        )\r\n    }\r\n    return (\r\n        <select className=\"ui dropdown\" name=\"color\" value={'#' + props.val} onChange={(e) => props.setter(e.target.value.slice(1))} style={{backgroundColor: props.val ? '#' + props.val : 'white'}}>\r\n            <option disabled={props.firstDisabled} value=\"#\" style={{backgroundColor: 'white'}}>{props.defaultText}</option>\r\n            {renderOptions(props.colors)}\r\n        </select>\r\n    )\r\n}\r\n\r\nexport default ColorSelector","import React, { useState, useEffect } from 'react'\r\n\r\nimport ColorSelector from './ColorSelector'\r\n\r\nconst SearchBar = props => {\r\n    const [value, setValue] = useState('')\r\n    const [debouncedValue, setDebouncedValue] = useState('')\r\n    const [lyricsToo, setLyricsToo] = useState(false)\r\n    const [chosenColor, setChosenColor] = useState('')\r\n\r\n    useEffect(() => {\r\n        const timeOut = setTimeout(() => {\r\n            setDebouncedValue(value)\r\n        }, 350)\r\n        return () => {\r\n            clearTimeout(timeOut)\r\n        }\r\n    }, [value])\r\n\r\n    useEffect(() => {\r\n        if (debouncedValue) {\r\n            if (isNaN(debouncedValue)) {\r\n                props.term(debouncedValue, lyricsToo, chosenColor)\r\n            } else {\r\n                props.id(debouncedValue)\r\n            }\r\n        } else {\r\n            if (chosenColor) {\r\n                props.term(debouncedValue, lyricsToo, chosenColor)\r\n            } else {\r\n                props.cancel()\r\n            }\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [debouncedValue])\r\n\r\n    useEffect(() => {\r\n        if (value) {\r\n            if (isNaN(value)) {\r\n                props.term(value, lyricsToo, chosenColor)\r\n            }\r\n        }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [lyricsToo])\r\n\r\n    useEffect(() => {\r\n        props.term(value, lyricsToo, chosenColor)\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [chosenColor])\r\n\r\n    const cancelSearch = () => {\r\n        setValue('')\r\n        setLyricsToo(false)\r\n        setChosenColor('')\r\n        props.cancel()\r\n    }\r\n\r\n    return (\r\n        <div className=\"ui form\">\r\n            <div className=\"inline fields centered-container\">\r\n                <div className=\"ten wide field\">\r\n                    <label>Keresés</label>\r\n                    <input value={value} onChange={(e) => setValue(e.target.value)} placeholder=\"Írd be egy ének sorszámát vagy címének, szövegének egy részletét!\"/>\r\n                </div>\r\n                <div className=\"three wide field\">\r\n                    <div className=\"ui checkbox my-check\">\r\n                        <input id=\"lyricsCheckbox\" type=\"checkbox\" tabIndex=\"0\" checked={lyricsToo} onChange={() => setLyricsToo(!lyricsToo)} />\r\n                        <label htmlFor=\"lyricsCheckbox\">dalszövegben is</label>\r\n                    </div>\r\n                </div>\r\n                <div className=\"three wide field\">\r\n                    <ColorSelector val={chosenColor} setter={setChosenColor} defaultText=\"Minden dal\" colors={props.colors} firstDisabled={false} />\r\n                    <i data-tip=\"Keresés elvetése\" className=\"icon bigger-icon times circle gray pointer\" onClick={cancelSearch}></i>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SearchBar","import React from 'react'\r\n\r\nconst MyButton = props => {\r\n\r\n    const icons = props.icons.map((icon, idx) => <i key={idx} className={`icon ${icon}`}></i>)\r\n    return (\r\n        <button data-tip={props.tip} aria-label={props.tip} className={`ui button my-button icon ${props.color}`} onClick={props.onClick} disabled={props.disabled} >{icons}{props.text}</button>\r\n    )\r\n}\r\n\r\nexport default MyButton","import axios from 'axios'\r\n\r\nexport const db = axios.create({\r\n    baseURL: 'https://zenesz-api.herokuapp.com/'\r\n})","import { createBrowserHistory } from 'history'\r\n\r\nexport default createBrowserHistory()","import {\r\n    FETCH_SONGS,\r\n    FETCH_SONG,\r\n    CREATE_SONG,\r\n    EDIT_SONG,\r\n    DELETE_SONG,\r\n    REMOVE_FROM_PLAYLIST,\r\n    UPDATE_WITH_ID,\r\n    UPDATE_WITH_WRONG_ID,\r\n    UPDATE_WITH_TERM,\r\n    CANCEL_SEARCH } from './types'\r\nimport { db } from '../api'\r\nimport history from '../history'\r\nimport { handleError } from '../util'\r\n\r\nexport const fetchSongs = () => async dispatch => {\r\n    try {\r\n        const response = await db.get('/songs/?format=json')\r\n        dispatch({type: FETCH_SONGS, payload: response.data})\r\n    } catch (err) {\r\n        handleError(err, dispatch)\r\n    }\r\n}\r\n\r\nexport const fetchSong = id => async dispatch => {\r\n    try {\r\n        const response = await db.get(`/songs/${id}/?format=json`)\r\n        dispatch({type: FETCH_SONG, payload: response.data})\r\n    } catch (err) {\r\n        handleError(err, dispatch)\r\n    }\r\n}\r\n\r\nexport const findId = (id) => async dispatch => {\r\n    try {\r\n        const response = await db.get(`/songs/${id}/?format=json`)\r\n        dispatch({type: UPDATE_WITH_ID, payload: response.data})\r\n    } catch (err) {\r\n        if (err.response) {\r\n            if (err.response.status === 404) {\r\n                dispatch({type: UPDATE_WITH_WRONG_ID})\r\n            } else {\r\n                handleError(err, dispatch)\r\n            }\r\n        } else {\r\n            handleError(err, dispatch)\r\n        }\r\n    }\r\n}\r\n\r\nexport const searchSongs = (term, lyricsToo, color) => async dispatch => {\r\n    try {\r\n        if (term === '' && color === '') {\r\n            dispatch({type: CANCEL_SEARCH})\r\n        } else {\r\n            if (term === '') {\r\n                term = '---noval---'\r\n            }\r\n            const colorSearch = color ? color + '/' : ''\r\n            const inTitle = await db.get(`/search-title/${term}/${colorSearch}`)\r\n            if (lyricsToo) {\r\n                const inLyrics = await db.get(`/search-lyrics/${term}/${colorSearch}`)\r\n                dispatch({type: UPDATE_WITH_TERM, payload: [...inTitle.data, ...inLyrics.data]})\r\n            } else {\r\n                dispatch({type: UPDATE_WITH_TERM, payload: inTitle.data})\r\n            }\r\n        }\r\n\r\n    } catch (err) {\r\n        handleError(err, dispatch)\r\n    }\r\n}\r\n\r\nexport const cancelSearch = () => {\r\n    return { type: CANCEL_SEARCH}\r\n}\r\n\r\nexport const createSong = formData => async (dispatch, getState) => {\r\n    try {\r\n        const color = formData.color ? formData.color.slice(1) : ''\r\n        const response = await db.post('/songs/', {\r\n            id: parseInt(formData.id),\r\n            title: formData.title,\r\n            lyrics: formData.lyrics.split('\\n\\n').join('###'),\r\n            desc: formData.desc || '',\r\n            color: color,\r\n        }, { headers: {'Authorization': `Token ${getState().auth.token}` }})\r\n        dispatch({type: CREATE_SONG, payload: response.data})\r\n        history.push(`/zenesz/songs/${formData.id}`)\r\n    } catch (err) {\r\n        console.log(err.response)\r\n        handleError(err, dispatch)\r\n    }\r\n\r\n}\r\n\r\nexport const editSong = (id, formData) => async (dispatch, getState) => {\r\n    try {\r\n        const response = await db.patch(`/songs/${id}/`, {\r\n            title: formData.title,\r\n            lyrics: formData.lyrics.split('\\n\\n').join('###'),\r\n            desc: formData.desc || '',\r\n            color: formData.color.slice(1)\r\n        }, { headers: {'Authorization': `Token ${getState().auth.token}` }})\r\n        dispatch({type: EDIT_SONG, payload: response.data})\r\n        history.push(`/zenesz/songs/${id}`)\r\n    } catch (err) {\r\n        handleError(err, dispatch)\r\n    }\r\n}\r\n\r\nexport const deleteSong = (id) => async (dispatch, getState) => {\r\n    try {\r\n        await db.delete(`/songs/${id}/`,\r\n            { headers: {'Authorization': `Token ${getState().auth.token}` }})\r\n        if (getState().playlist.list.includes(parseInt(id))) {\r\n            dispatch({ type: REMOVE_FROM_PLAYLIST, payload: parseInt(id) })\r\n        }\r\n        dispatch({type: DELETE_SONG, payload: id})\r\n        history.push('/zenesz/')\r\n    } catch(err) {\r\n        handleError(err, dispatch)\r\n    }\r\n}","import { ADD_TO_PLAYLIST,\r\n    REMOVE_FROM_PLAYLIST,\r\n    PLAYLIST_NEXT,\r\n    START_PLAYLIST,\r\n    STOP_PLAYLIST,\r\n     CLEAR_PLAYLIST,\r\n     TOGGLE_VISIBILITY,\r\n     MOVE_IN_PLAYLIST } from './types'\r\nimport history from '../history'\r\n\r\nexport const addToPlaylist = id => {\r\n    return { type: ADD_TO_PLAYLIST, payload: id }\r\n}\r\n\r\nexport const removeFromPlaylist = id => {\r\n    return { type: REMOVE_FROM_PLAYLIST, payload: id }\r\n}\r\n\r\nexport const playlistNext = (next, state) => {\r\n    if (!state.active) {\r\n        return\r\n    }\r\n    if (next) {\r\n        if (state.currentIndex === state.list.length - 1) {\r\n            history.push(`/zenesz/songs/${state.list[0]}`)\r\n            return { type: PLAYLIST_NEXT, payload: 0 }\r\n        } else {\r\n            history.push(`/zenesz/songs/${state.list[state.currentIndex + 1]}`)\r\n            return { type: PLAYLIST_NEXT, payload: state.currentIndex + 1 }\r\n        }\r\n    } else {\r\n        if (state.currentIndex < 1) {\r\n            history.push(`/zenesz/songs/${state.list[state.list.length - 1]}`)\r\n            return { type: PLAYLIST_NEXT, payload: state.list.length - 1 }\r\n        } else {\r\n            history.push(`/zenesz/songs/${state.list[state.currentIndex - 1]}`)\r\n            return { type: PLAYLIST_NEXT, payload: state.currentIndex - 1 }\r\n        }\r\n    }\r\n}\r\n\r\nexport const startPlaylist = (state) => {\r\n    history.push(`/zenesz/songs/${state.list[state.currentIndex]}`)\r\n    return {type: START_PLAYLIST}\r\n}\r\nexport const stopPlaylist = () => {\r\n    return {type: STOP_PLAYLIST}\r\n}\r\n\r\nexport const clearPlaylist = () => {\r\n    return {type: CLEAR_PLAYLIST}\r\n}\r\n\r\nexport const toggleVisibility = () => {\r\n    return { type: TOGGLE_VISIBILITY }\r\n}\r\n\r\nexport const moveInPlaylist = (index, up) => {\r\n    return { type: MOVE_IN_PLAYLIST, payload: {index, up}}\r\n}","import { NEW_ALERT, REMOVE_ALERT } from './types'\r\n\r\nexport const newAlert = (msg, type) => {\r\n    return {type: NEW_ALERT, payload: {msg, type}}\r\n}\r\n\r\nexport const removeAlert = () => {\r\n    return {type: REMOVE_ALERT}\r\n}\r\n","import React from 'react'\r\nimport { connect }  from 'react-redux'\r\nimport _ from 'lodash'\r\nimport { isMobileOnly } from 'react-device-detect'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport '../../styles.css'\r\nimport { sortSongs, onlyUnique } from '../../util'\r\n\r\nimport MyTooltip from '../MyTooltip'\r\nimport MyLoader from '../MyLoader'\r\nimport SearchBar from '../SearchBar'\r\nimport MyButton from '../MyButton'\r\n\r\nimport { fetchSongs,  searchSongs, findId, cancelSearch } from '../../actions/songActions'\r\nimport { addToPlaylist, removeFromPlaylist, playlistNext, stopPlaylist, toggleVisibility } from '../../actions/playlistActions'\r\nimport { removeAlert } from '../../actions/alertActions'\r\n\r\nclass SongList extends React.Component {\r\n    state = {\r\n        loaded: false,\r\n        sortById: true,\r\n        colors: [],\r\n    }\r\n    componentDidMount() {\r\n        this.props.removeAlert()\r\n        this.props.fetchSongs()\r\n        this.props.stopPlaylist()\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (!this.state.loaded && !_.isEmpty(this.props.songs)) {\r\n            this.setState({ colors: this.props.songs.map(song => song.color).filter(onlyUnique), loaded: true})\r\n        }\r\n    }\r\n\r\n    addToPlaylist = (event, id) => {\r\n        this.props.addToPlaylist(id)\r\n        event.stopPropagation()\r\n    }\r\n    removeFromPlaylist = (event, id) => {\r\n        this.props.removeFromPlaylist(id)\r\n        event.stopPropagation()\r\n    }\r\n\r\n    renderSmallButtons = song => {\r\n        if (this.props.plVisible || isMobileOnly) {\r\n            return (\r\n                <div className=\"right-left\">\r\n                    <i \r\n                        data-tip=\"Hozzáadás a lejátszási listához\" \r\n                        className=\"icon bigger-icon plus circle green\" \r\n                        onClick={(e) => {e.preventDefault();this.addToPlaylist(e, song.id)}}>\r\n                    </i>&nbsp;&nbsp;\r\n                    <i \r\n                        data-tip=\"Eltávolítás a lejátszási listáról\" \r\n                        className=\"icon bigger-icon minus circle red\" \r\n                        onClick={(e) => {e.preventDefault();this.removeFromPlaylist(e, song.id)}}>\r\n                    </i>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    renderSong = (song, idx) => (\r\n        <div style={{ backgroundColor: '#' + song.color }} className={`column pointer hover-grey my-bottom-border ${idx % 3 !== 0 && !isMobileOnly ? 'left-border' : ''}`} key={song.id} >\r\n            <Link to={`/zenesz/songs/${song.id}`} className=\"notLinkStyle\">\r\n                <div className=\"content right-left\">\r\n                    <div className='next-to'>\r\n                        <h3 className=\"header my-header-text\">{song.id}. {song.title}</h3>\r\n                    </div>\r\n                    {this.renderSmallButtons(song)}\r\n                </div>\r\n            </Link>\r\n        </div>\r\n    )\r\n\r\n    render() {\r\n        if (_.isEmpty(this.props.songs) && !this.state.loaded) {\r\n            return (\r\n                <MyLoader />\r\n            )\r\n        }\r\n\r\n        if (!this.state.sortById) {\r\n            sortSongs(this.props.songs, 'title')\r\n        } else {\r\n            sortSongs(this.props.songs, 'id')\r\n        }\r\n\r\n        const { searchList } = this.props\r\n        let songs = []\r\n        if (searchList.validSearch) {\r\n            songs = searchList.list.map((id, idx) => this.renderSong(this.props.songs.find(song => song.id === id), idx))\r\n        } else {\r\n            songs = this.props.songs.map((song, idx) => this.renderSong(song, idx))\r\n        }\r\n\r\n        const empty = songs.length === 0 ? <p className=\"big-text centered-text\">Nincs találat!</p> : null\r\n        return (\r\n            <div className=\"ui container\">\r\n                <MyTooltip />\r\n                <div className={`ui ${isMobileOnly ? '' : 'stackable grid'}`}>\r\n                    <div className=\"twelve wide column\">\r\n                        <SearchBar id={this.props.findId} term={this.props.searchSongs} cancel={this.props.cancelSearch} colors={this.state.colors}/>\r\n                    </div>\r\n                    <div className=\"four wide column \">\r\n                        <div className=\"centered-container\">\r\n                            <MyButton color=\"blue\" onClick={() => this.setState({ sortById: true})} icons={[\"sort numeric down\"]} tip=\"Énekek rendezése sorszám szerint\" disabled={this.state.sortById || this.props.searchList.validSearch}/>\r\n                            <MyButton color=\"blue\" onClick={() => this.setState({ sortById: false})} icons={[\"sort alphabet down\"]} tip=\"Énekek rendezése cím szerint\" disabled={!this.state.sortById || this.props.searchList.validSearch}/>\r\n                            <MyButton color=\"green\" onClick={this.props.toggleVisibility} icons={[\"play circle\"]} text=\" Lejátszási lista\"/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"ui stackable three column grid\">\r\n                    {songs}\r\n                </div>\r\n                {empty}\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        songs: Object.values(state.songs),\r\n        searchList: state.searchList,\r\n        plVisible: state.playlist.visible\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    fetchSongs,\r\n    removeAlert,\r\n    searchSongs,\r\n    findId,\r\n    addToPlaylist,\r\n    removeFromPlaylist,\r\n    playlistNext,\r\n    stopPlaylist,\r\n    cancelSearch,\r\n    toggleVisibility\r\n})(SongList)","import React, { useState } from 'react'\r\nimport Alert from '@material-ui/lab/Alert'\r\nimport { connect } from 'react-redux'\r\nimport { Button, Modal } from 'semantic-ui-react'\r\n\r\nimport '../styles.css'\r\nimport { removeAlert } from '../actions/alertActions'\r\n\r\nconst MyModal = props => {\r\n  const alert = props.alert.msg ?\r\n    <Alert onClose={() => {props.removeAlert()}} severity={props.alert.type} >\r\n        {props.alert.msg}\r\n    </Alert>\r\n    : null\r\n\r\n  const [open, setOpen] = useState(false)\r\n\r\n  return (\r\n    <Modal\r\n      onClose={() => setOpen(false)}\r\n      onOpen={() => setOpen(true)}\r\n      open={open}\r\n      trigger={props.children}\r\n    >\r\n      <Modal.Header>{props.header}</Modal.Header>\r\n      <Modal.Content>\r\n        <Modal.Description>\r\n            {props.content}\r\n        </Modal.Description>\r\n      </Modal.Content>\r\n      <Modal.Actions>\r\n        <div className=\"centered\">\r\n            {alert}\r\n        </div>\r\n        <Button  onClick={() => setOpen(false)}>\r\n          {props.closeText}\r\n        </Button>\r\n        <Button\r\n          content={props.approveText}\r\n          onClick={() => {props.onApprove()}}\r\n          negative\r\n        />\r\n      </Modal.Actions>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        alert: state.alert\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {removeAlert})(MyModal)","import React, { useState } from 'react'\r\nimport { Field, reduxForm } from 'redux-form'\r\nimport { Link } from 'react-router-dom'\r\nimport { isMobileOnly } from 'react-device-detect'\r\n\r\nimport MyTooltip from '../MyTooltip'\r\nimport MyModal from './../MyModal'\r\nimport ColorSelector from './../ColorSelector'\r\n\r\nconst renderInput = ({ input, label, meta, type, disabled, wide, tip }) => {\r\n    return (\r\n        <div className={`${wide} field ${meta.error && meta.touched ? 'error' : ''}`}>\r\n            <label>{label}</label>\r\n            <input {...input} type={type} autoComplete=\"off\" disabled={disabled} data-tip={tip} />\r\n            {renderError(meta)}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst renderColorPicker = ({ type, disabled, val, setter, change }) => (\r\n    <input value={val} type={type} autoComplete=\"off\" disabled={disabled} id=\"colorPicker\" onChange={(e) => {setter(e.target.value); change('color', e.target.value)}} />\r\n)\r\n\r\nconst renderTextArea = ({ input, label, meta, tip, rows }) => {\r\n    return (\r\n        <div className={`field ${meta.error && meta.touched ? 'error' : ''}`}>\r\n            <label>{label}</label>\r\n            <textarea className=\"roboto\" {...input} autoComplete=\"off\" data-tip={tip} rows={rows}/>\r\n            {renderError(meta)}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst renderError = ({ error, touched }) => {\r\n    if (touched && error) {\r\n        return (\r\n            <div className=\"ui error message\">\r\n                <div className=\"header\">\r\n                    {error}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst SongForm = props => {\r\n    const onSubmit = formValues => {\r\n        props.onSubmit(formValues)\r\n    }\r\n\r\n    const buttons = () => {\r\n        if (!props.edit) {\r\n            return <button className=\"ui button primary\">Mentés</button>\r\n        }\r\n        return (\r\n            <div className=\"ui segment\">\r\n                <div className=\"ui two column very relaxed grid\">\r\n                    <div className=\"column\">\r\n                        <button className={`ui button primary ${isMobileOnly ? 'my-bigger-button' : ''}`}>Mentés</button>\r\n                        <Link to={`/zenesz/songs/${props.id}`} className={`ui button grey ${isMobileOnly ? 'my-bigger-button' : ''}`}>Mégse</Link>\r\n                    </div>\r\n                    <div className=\"column jobbra\">\r\n                        <MyModal\r\n                            header=\"Biztosan törlöd ezt az éneket?\"\r\n                            content={`Biztosan törlöd a(z) ${props.initialValues.title} éneket? Ezt később nem tudod visszavonni!`}\r\n                            closeText=\"Mégse\"\r\n                            approveText=\"Törlés\"\r\n                            onApprove={props.onDeleteClick}\r\n                        >\r\n                            <button type=\"button\" className={`ui button negative ${isMobileOnly ? 'my-bigger-button' : ''}`}>Ének törlése</button>\r\n                        </MyModal>\r\n                    </div>\r\n                </div>\r\n                <div className=\"ui vertical divider\">\r\n                    vagy\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n    const [colorOption, setColorOption] = useState(props.initialValues.color ? 'existing' : 'none')\r\n    const [selectedColorDropdown, setSelectedColorDropdown] = useState(props.initialValues.color ? props.initialValues.color.slice(1) : '')\r\n    const [selectedColorPicker, setSelectedColorPicker] = useState(props.initialValues.color ? props.initialValues.color : '')\r\n\r\n    const renderSecondField = () => {\r\n        switch(colorOption) {\r\n            case 'existing': return <Field name='color' component={ColorSelector} colors={props.colors} val={selectedColorDropdown} setter={(v) => {setSelectedColorDropdown(v); props.change('color', '#' + v)}} defaultText=\"Válassz egy színt\" firstDisabled={true} />\r\n            case 'new': return <Field name=\"color\" component={renderColorPicker} change={props.change} type=\"color\" val={selectedColorPicker} setter={setSelectedColorPicker} />\r\n            default: return\r\n        }\r\n    }\r\n\r\n    const changeColorOption = opt => {\r\n        switch(opt) {\r\n            case 'existing': props.change('color', '#' + selectedColorDropdown); break\r\n            case 'new': props.change('color', selectedColorPicker); break\r\n            default: props.change('color', '')\r\n        }\r\n        setColorOption(opt)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <form className=\"ui form error\" onSubmit={props.handleSubmit(onSubmit)}>\r\n                <MyTooltip />\r\n                <div className=\"fields\">\r\n                    <Field wide=\"three wide\" tip=\"Az ének sorszáma. Egyedi, később nem változtatható\" name=\"id\" component={renderInput} label=\"Sorszám\" type=\"number\" props={{ disabled: props.edit}}/>\r\n                    <Field wide=\"thirteen wide\" name=\"title\" component={renderInput} label=\"Cím\" type=\"text\"/>\r\n                </div>\r\n                <label>Szín</label>\r\n                <div className='fields'>\r\n                    <div className='three wide field'>\r\n                        <div className=\"ui form\">\r\n                            <div className=\"grouped fields\">\r\n                                <div className=\"field\">\r\n                                    <div className=\"ui radio checkbox\" >\r\n                                        <input type=\"radio\" name=\"color\" checked={colorOption === 'none'} id=\"none\" onChange={() => changeColorOption('none')} />\r\n                                        <label className='pointer' htmlFor=\"none\">Nincs szín</label>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"field\">\r\n                                    <div className=\"ui radio checkbox\">\r\n                                        <input type=\"radio\" name=\"color\" checked={colorOption === 'existing'} id=\"existing\" onChange={() => changeColorOption('existing')} />\r\n                                        <label className='pointer' htmlFor=\"existing\">Létező szín</label>\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"field\">\r\n                                    <div className=\"ui radio checkbox\">\r\n                                        <input type=\"radio\" name=\"color\" checked={colorOption === 'new'} id=\"new\" onChange={() => changeColorOption('new')} />\r\n                                        <label className='pointer' htmlFor=\"new\">Új szín</label>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div className='thirteen wide field'>\r\n                        {renderSecondField()}\r\n                    </div>\r\n                </div>\r\n                <Field tip=\"Az alkalmazás dupla sorközöknél bontja versszakokra a szöveget.\" rows={10} name=\"lyrics\" component={renderTextArea} label=\"Dalszöveg\"/>\r\n                <Field name=\"desc\" component={renderTextArea} label=\"Megjegyzés (opcionális)\" rows={2}/>\r\n                {buttons()}\r\n            </form>\r\n            {props.children}\r\n        </>\r\n    )\r\n}\r\n\r\nconst validate = formValues => {\r\n    const errors = {}\r\n    if (!formValues.id) {\r\n        errors.id = 'Add meg az ének sorszámát!'\r\n    }\r\n    if (!formValues.title) {\r\n        errors.title = 'Add meg az ének címét!'\r\n    }\r\n    if (!formValues.lyrics) {\r\n        errors.lyrics = 'Add meg a dalszöveget!'\r\n    }\r\n    return errors\r\n}\r\n\r\nexport default reduxForm({\r\n    form: 'songForm',\r\n    validate\r\n})(SongForm)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport _ from 'lodash'\r\n\r\nimport SongForm from './SongForm'\r\nimport MyLoader from '../MyLoader'\r\n\r\nimport { createSong, fetchSongs } from '../../actions/songActions'\r\nimport { stopPlaylist, toggleVisibility,  } from '../../actions/playlistActions'\r\nimport { onlyUnique } from '../../util'\r\n\r\nclass SongCreate extends React.Component {\r\n    state = {\r\n        loaded: false,\r\n        colors: [],\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.fetchSongs()\r\n        this.props.stopPlaylist()\r\n        if (this.props.plVisible) {\r\n            this.props.toggleVisibility()\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (!this.state.loaded && !_.isEmpty(this.props.songs)) {\r\n            this.setState({ loaded: true, colors: this.props.songs.map(song => song.color).filter(onlyUnique)})\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.props.biggestID > 0) {\r\n            return (\r\n                <div className=\"ui container\">\r\n                    <h2 className=\"ui header\">\r\n                        Új ének felvétele\r\n                    </h2>\r\n                    <SongForm onSubmit={this.props.createSong} initialValues={{ id: this.props.biggestID + 1}} colors={this.state.colors}/>\r\n                </div>\r\n            )\r\n        } else {\r\n            return <MyLoader />\r\n        }\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        plVisible: state.playlist.visible,\r\n        biggestID: Math.max(...Object.values(state.songs).map(song => song.id)),\r\n        songs: Object.values(state.songs),\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { createSong, stopPlaylist, toggleVisibility, fetchSongs })(SongCreate)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\n\r\nimport SongForm from './SongForm'\r\n\r\nimport { editSong, fetchSongs, fetchSong, deleteSong } from '../../actions/songActions'\r\nimport { stopPlaylist, toggleVisibility } from '../../actions/playlistActions'\r\nimport MyLoader from '../MyLoader'\r\nimport { onlyUnique } from '../../util'\r\n\r\n\r\nclass SongEdit extends React.Component {\r\n    state = {\r\n        loaded: false,\r\n        colors: [],\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.fetchSong(this.props.match.params.id)\r\n        this.props.fetchSongs()\r\n        this.props.stopPlaylist()\r\n        if (this.props.plVisible) {\r\n            this.props.toggleVisibility()\r\n        }\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        if (!this.state.loaded && this.props.songs.length > 1) {\r\n            this.setState({ loaded: true, colors: this.props.songs.map(song => song.color).filter(onlyUnique)})\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (!this.props.song) {\r\n            return <MyLoader />\r\n        }\r\n        const song = this.props.song\r\n        return (\r\n            <div className=\"ui container\">\r\n                <h2 className=\"ui header\">\r\n                    Ének szerkesztése\r\n                </h2>\r\n                <SongForm\r\n                    onSubmit={(formValues) => this.props.editSong(this.props.match.params.id, formValues)}\r\n                    initialValues={{id: song.id, title: song.title, lyrics: song.verses.join('\\n\\n'), desc: song.desc, color: song.color ? '#' + song.color : ''}}\r\n                    edit id={song.id} onDeleteClick={() => this.props.deleteSong(this.props.match.params.id)} colors={this.state.colors}\r\n                />\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n        song: state.songs[ownProps.match.params.id],\r\n        songs: Object.values(state.songs),\r\n        plVisible: state.playlist.visible,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { editSong, fetchSongs, fetchSong, stopPlaylist, toggleVisibility, deleteSong })(SongEdit)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { isMobileOnly } from 'react-device-detect'\r\n\r\nimport '../../styles.css'\r\n\r\nimport { fetchSong, deleteSong } from '../../actions/songActions'\r\nimport { addToPlaylist, toggleVisibility } from '../../actions/playlistActions'\r\nimport { removeAlert } from '../../actions/alertActions'\r\n\r\nimport MyLoader from '../MyLoader'\r\nimport MyButton from '../MyButton'\r\nimport MyTooltip from '../MyTooltip'\r\n\r\nconst SMALL_FONT_SIZE = 18\r\nconst BIG_FONT_SIZE = 60\r\n\r\nclass SongShow extends React.Component {\r\n    state = {\r\n        fontSize: SMALL_FONT_SIZE,\r\n        deleteModalActive: false,\r\n        deletePassword: '',\r\n        oneVerseModeActive: false,\r\n        currentVerse: 0,\r\n        showButtons: !isMobileOnly,\r\n        twoColumnMode: false,\r\n        showDesc: false,\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.removeAlert()\r\n        this.props.fetchSong(this.props.match.params.id)\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n        if (prevProps.song) {\r\n            if (prevProps.song.id !== this.props.song.id) {\r\n                this.setState({ currentVerse: 0})\r\n            }\r\n        }\r\n    }\r\n\r\n    handleKeyDown = (e) => {\r\n        switch(e.code) {\r\n            case 'ArrowRight':\r\n                this.handleVerseChange(true)\r\n                break\r\n            case 'ArrowLeft':\r\n                this.handleVerseChange(false)\r\n                break\r\n            default:\r\n        }\r\n    }\r\n\r\n    onSizeChange = (increase) => {\r\n        if (increase && this.state.fontSize < 70) {\r\n            this.setState({fontSize: this.state.fontSize + 3})\r\n        } else if (!increase && this.state.fontSize > 8) {\r\n            this.setState({fontSize: this.state.fontSize - 3})\r\n        }\r\n    }\r\n\r\n    onDescChange = () => {\r\n        this.setState({ showDesc: !this.state.showDesc})\r\n    }\r\n\r\n    handleModeSwitch = () => {\r\n        if (this.state.oneVerseModeActive) {\r\n            this.setState({oneVerseModeActive: false, fontSize: SMALL_FONT_SIZE})\r\n        } else {\r\n            this.setState({oneVerseModeActive: true, fontSize: BIG_FONT_SIZE})\r\n        }\r\n    }\r\n\r\n    handleVerseChange = forward => {\r\n        if (forward) {\r\n            this.setState({currentVerse: (this.state.currentVerse + 1) % this.props.song.verses.length})\r\n        } else {\r\n            if (this.state.currentVerse === 0) {\r\n                this.setState({currentVerse: (this.props.song.verses.length - 1)})\r\n            } else {\r\n                this.setState({currentVerse: (this.state.currentVerse - 1) % this.props.song.verses.length})\r\n            }\r\n        }\r\n    }\r\n\r\n    handleFontSizeReset = () => {\r\n        if (this.state.oneVerseModeActive) {\r\n            this.setState({ fontSize: BIG_FONT_SIZE })\r\n        } else {\r\n            this.setState({ fontSize: SMALL_FONT_SIZE })\r\n        }\r\n    }\r\n\r\n    onPlaylistAdd = () => {\r\n        this.props.addToPlaylist(parseInt(this.props.match.params.id))\r\n        if (!this.props.plVisible) {\r\n            this.props.toggleVisibility()\r\n        }\r\n    }\r\n\r\n    renderLine = (line, idx) => {\r\n        const numberOfSpaces = (line.match(/ {3}/g) || []).length\r\n        return <span className={`${numberOfSpaces > 0 ? 'blue' : ''}`} key={idx}>{line}<br/></span>\r\n    }\r\n\r\n    renderVerse = (verse, idx) => {\r\n        const lines = verse.split('\\n').map((line, idx) => this.renderLine(line, idx))\r\n        return (\r\n            <p style={{fontSize: `${this.state.fontSize}px`}} className=\"my-p\" key={idx}>\r\n                {lines}\r\n            </p>\r\n        )\r\n    }\r\n\r\n    renderVerses = () => {\r\n        if (!this.state.oneVerseModeActive) {\r\n            if (this.state.twoColumnMode) {\r\n                const firstColumn = this.props.song.verses.map((verse, idx) => {\r\n                    if (idx + 1 <= Math.ceil(this.props.song.verses.length / 2)) {\r\n                        return this.renderVerse(verse, idx)\r\n                    } else {\r\n                        return null\r\n                    }\r\n                })\r\n                const secondColumn = this.props.song.verses.map((verse, idx) => {\r\n                    if (idx + 1 > Math.ceil(this.props.song.verses.length / 2)) {\r\n                        return this.renderVerse(verse, idx)\r\n                    } else {\r\n                        return null\r\n                    }\r\n                })\r\n                return (\r\n                    <div className=\"ui container grid nowrap roboto\">\r\n                        <div className=\"eight wide column\">\r\n                            {firstColumn}\r\n                        </div>\r\n                        <div className=\"eight wide column nowrap roboto\">\r\n                            {secondColumn}\r\n                        </div>\r\n                    </div>\r\n                )\r\n            } else {\r\n                return <div className=\"ui container nowrap roboto\"> {this.props.song.verses.map((verse, idx) => {\r\n                    return this.renderVerse(verse, idx)\r\n                })}</div>\r\n            }\r\n        }\r\n        if (!this.props.song.verses[this.state.currentVerse]) {\r\n            return <MyLoader />\r\n        }\r\n        const lines = this.props.song.verses[this.state.currentVerse].split('\\n').map((line, idx) => this.renderLine(line, idx))\r\n        return (\r\n            <div>\r\n                <p style={{fontSize: `${this.state.fontSize}px`}}>\r\n                    {lines}\r\n                </p>\r\n            </div>\r\n        )\r\n\r\n    }\r\n\r\n    renderButtons = () => {\r\n        const editButton = this.props.signedIn ? <Link data-tip=\"Ének szerkeztése vagy törlése\" className=\"ui button my-button icon yellow\" to={`/zenesz/songs/edit/${this.props.match.params.id}`}><i className=\"icon edit\"></i></Link> : null\r\n        const descButton = this.props.song.desc ? <MyButton tip=\"Megjegyzés megjelenítése\" color=\"olive\" onClick={() => this.onDescChange()} icons={[\"sticky note outline\" ]} /> : null\r\n        const desktopButton = !isMobileOnly && this.state.showButtons ? /*(\r\n            <>\r\n                <MyButton tip=\"Előző versszak\" disabled={!this.state.oneVerseModeActive} color=\"teal\" onClick={() => this.handleVerseChange(false)} icons={[\" step backward icon\" ]} />\r\n                <MyButton tip=\"Egyversszak mód be- és kikapcsolása\" color=\"green\" onClick={this.handleModeSwitch} icons={[\"play\" ]} />\r\n                <MyButton tip=\"Következő vesszak\" disabled={!this.state.oneVerseModeActive} color=\"teal\" onClick={() => this.handleVerseChange(true)} icons={[\" step forward icon\" ]} />\r\n            </>\r\n        )*/null : null\r\n        const optionalButtons = this.state.showButtons ? (\r\n            <>\r\n                <Link data-tip=\"Vissza a kereséshez\" className=\"ui button my-button icon grey\" to=\"/zenesz/\"><i className=\"icon search\"></i></Link>\r\n                {editButton}\r\n                <MyButton tip={`${this.state.twoColumnMode ? \"Egy\" : \"Két\"} hasáb`} color=\"primary\" onClick={() => this.setState({twoColumnMode: !this.state.twoColumnMode})} disabled={this.state.oneVerseModeActive} icons={[`${this.state.twoColumnMode ? 'align justify' : 'columns'}`]} />\r\n                {descButton}\r\n                <MyButton tip=\"Betűméret csökkentése\" color=\"primary\" onClick={() => this.onSizeChange(false)} icons={[\"font\", \"arrow down\" ]} />\r\n                <MyButton tip=\"Betűméret növelése\" color=\"primary\" onClick={() => this.onSizeChange(true)} icons={[\"font\", \"arrow up \" ]} />\r\n                <MyButton tip=\"Betűméret visszaállítása\" color=\"primary\" onClick={this.handleFontSizeReset} icons={[\"font\", \"undo\" ]} />\r\n                <MyButton tip=\"Hozzáadás a lejátszási listához\" color=\"green\" onClick={this.onPlaylistAdd } icons={[\"plus\" ]} />\r\n                <MyButton color=\"green\" onClick={this.props.toggleVisibility} icons={[\"play circle\"]} text=\" Lejátszási lista\"/>\r\n            </>\r\n        ) : null\r\n        return (\r\n            <>\r\n                {optionalButtons}\r\n                {desktopButton}\r\n            </>\r\n        )\r\n    }\r\n\r\n    renderTitle = () => {\r\n        if (isMobileOnly) {\r\n            return (\r\n                <>\r\n                    {this.renderButtons()}\r\n                    <div className=\"right-left\">\r\n                        <div>\r\n                            <h2 className=\"vert-centered\">{this.props.song.id}. {this.props.song.title} </h2>\r\n                            <div style={{marginLeft:'10px', height: '30px', width: '30px', borderRadius: '100%', backgroundColor: '#' + this.props.song.color}}></div>\r\n                        </div>\r\n                        <MyButton color=\"gray\" onClick={()=>this.setState({showButtons: !this.state.showButtons})} icons={[\"bars\"]} tip=\"Gombok elrejtése/előhozása\"/>\r\n                    </div>\r\n                    <div className=\"ui divider\"></div>\r\n                </>\r\n            )\r\n        }\r\n        return (\r\n            <>\r\n                <div className=\"right-left m-top\">\r\n                <div className='next-to'>\r\n                            <h2 className=\"vert-centered\">{this.props.song.id}. {this.props.song.title} </h2>\r\n                            <div style={{marginLeft:'10px', height: '30px', width: '30px', borderRadius: '100%', backgroundColor: '#' + this.props.song.color}}></div>\r\n                        </div>\r\n                    <h2 className=\"vert-centered\">{this.state.oneVerseModeActive ? `${this.state.currentVerse + 1}/${this.props.song.verses.length}` : ''}</h2>\r\n                    <div>\r\n                        <MyButton color=\"gray\" onClick={()=>this.setState({showButtons: !this.state.showButtons})} icons={[\"bars\"]} tip=\"Gombok elrejtése/előhozása\"/>\r\n                        {this.renderButtons()}\r\n                    </div>\r\n                </div>\r\n                <div className=\"ui divider\"></div>\r\n            </>\r\n\r\n        )\r\n    }\r\n\r\n\r\n    renderDesc = () => {\r\n        const lines = this.props.song.desc.split('\\n').map((line, idx) => <span key={idx}>{line}<br/></span>)\r\n        return this.state.showDesc ? (\r\n                <div className=\"comment\">\r\n                    <div className=\"right-left\">\r\n                        <h3>Megjegyzések</h3>\r\n                        <i className=\"red icon close pointer\" onClick={() => this.setState({showDesc: false})}></i>\r\n                    </div>\r\n                    <p>{lines}</p>\r\n                </div>\r\n            ) : null\r\n    }\r\n\r\n    render() {\r\n        if (this.props.song) {\r\n            return (\r\n                <>\r\n                    <MyTooltip />\r\n                    <div className=\"ui container\" onKeyDown={this.handleKeyDown}>\r\n                            {this.renderTitle()}\r\n                            {this.renderVerses()}\r\n                            {this.renderDesc()}\r\n                    </div>\r\n                </>\r\n            )\r\n        }\r\n        return <MyLoader />\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n    return {\r\n        song: state.songs[ownProps.match.params.id],\r\n        plVisible: state.playlist.visible,\r\n        signedIn: state.auth.signedIn\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchSong, deleteSong, removeAlert, addToPlaylist, toggleVisibility })(SongShow)","import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Field, reduxForm } from 'redux-form'\r\n\r\nimport { login } from '../../actions/authActions'\r\n\r\nconst renderInput = ({ input, label, meta, type }) => {\r\n    return (\r\n        <div className={`field ${meta.error && meta.touched ? 'error' : ''}`}>\r\n            <label>{label}</label>\r\n            <input {...input} type={type} autoComplete=\"off\" />\r\n            {renderError(meta)}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst renderError = ({ error, touched }) => {\r\n    if (touched && error) {\r\n        return (\r\n            <div className=\"ui error message\">\r\n                <div className=\"header\">\r\n                    {error}\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst Login = (props) => {\r\n\r\n    const onSubmit = (formValues) => {\r\n        props.login(formValues)\r\n    }\r\n\r\n    return (\r\n        <div className=\"ui container\">\r\n            <form className=\"ui form error\" onSubmit={props.handleSubmit(onSubmit)}>\r\n                <Field name=\"username\" component={renderInput} label=\"Felhasználónév\" type=\"text\" />\r\n                <Field name=\"password\" component={renderInput} label=\"Jelszó\" type=\"password\"/>\r\n                <button className=\"ui button primary\">Bejelentkezés</button>\r\n            </form>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nconst validate = formValues => {\r\n    const errors = {}\r\n    if (!formValues.username) {\r\n        errors.username = 'Add meg a felhasználónevet!'\r\n    }\r\n    if (!formValues.password) {\r\n        errors.password = 'Add meg a jelszót!'\r\n    }\r\n    return errors\r\n}\r\n\r\nexport default reduxForm({\r\n    form: 'authForm',\r\n    validate\r\n})(connect(null, { login })(Login))","import { db } from '../api'\r\nimport history from '../history'\r\nimport { handleError } from '../util'\r\nimport { LOGIN, LOGOUT } from './types'\r\n\r\nexport const login = ({ username, password }) => async dispatch => {\r\n    try {\r\n        const response = await db.post('/api-token-auth/', { username, password })\r\n        dispatch({ type: LOGIN, payload: response.data.token })\r\n        history.goBack()\r\n    } catch (err) {\r\n        handleError(err, dispatch)\r\n    }\r\n}\r\n\r\nexport const logout = () => {\r\n    return { type: LOGOUT }\r\n}","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\n\r\nimport '../styles.css'\r\nimport { logout } from '../actions/authActions'\r\n\r\nconst Footer = (props) => {\r\n\r\n    const authLink = props.signedIn\r\n    ? <Link className=\"header-link\" onClick={() => props.logout()}>Kijelentkezés</Link>\r\n    : <Link to=\"/zenesz/login\" className=\"header-link centered-text\">Admin bejelentkezés</Link>\r\n\r\n    return (\r\n        <div className=\"footer-container centered-container two-column small-text\">\r\n            <p className=\"centered-text\">Készítette: Fekete Sámuel&nbsp;\r\n            <a target=\"_blank\" rel=\"noreferrer\" href=\"https://github.com/Tschonti/zenesz-frontend\"><i aria-label=\"Forráskód a Github-on\" className=\"icon github\"></i></a><br/>&nbsp;az&nbsp;\r\n            <a target=\"_blank\" rel=\"noreferrer\" href=\"https://okgy.hu/\">Örömhír Keresztény Gyülekezet</a> számára</p>\r\n            {authLink}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return { signedIn: state.auth.signedIn }\r\n}\r\n\r\nexport default connect(mapStateToProps, { logout })(Footer)","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport Alert from '@material-ui/lab/Alert'\r\nimport { connect } from 'react-redux'\r\nimport { isMobileOnly } from 'react-device-detect'\r\n\r\nimport '../styles.css'\r\nimport { removeAlert } from '../actions/alertActions'\r\n\r\n\r\nconst Header = (props) => {\r\n    const alert = props.alert.msg ?\r\n        <Alert onClose={() => {props.removeAlert()}} severity={props.alert.type} >\r\n            {props.alert.msg}\r\n        </Alert>\r\n        : null\r\n    const title = isMobileOnly ? <div className=\"big-text-nom\">ÖKGY akkordos dicsik</div> : <h2>ÖKGY akkordos dicsik</h2>\r\n\r\n    const newSong = props.signedIn ? <Link to=\"/zenesz/songs/new\" className=\"item header-link\">Új ének</Link> : null\r\n    return (\r\n        <div className=\"ui secondary pointing menu my-header\">\r\n            <Link to=\"/zenesz\" className=\"item \">{title}</Link>\r\n            <Link to=\"/zenesz\" className=\"item header-link\">Énekek listája</Link>\r\n            {newSong}\r\n            <div className=\"centered\">\r\n                {alert}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        alert: state.alert,\r\n        signedIn: state.auth.signedIn\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, { removeAlert })(Header)","import React from 'react'\r\nimport { connect }  from 'react-redux'\r\nimport _ from 'lodash'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport { fetchSongs } from '../actions/songActions'\r\nimport { playlistNext,\r\n    startPlaylist,\r\n    clearPlaylist,\r\n    removeFromPlaylist,\r\n    toggleVisibility,\r\n    moveInPlaylist } from '../actions/playlistActions'\r\n\r\nimport MyButton from './MyButton'\r\nimport MyTooltip from './MyTooltip'\r\nimport MyModal from './MyModal'\r\n\r\n\r\nclass Playlist extends React.Component {\r\n    state = {\r\n        open: true,\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.props.fetchSongs()\r\n    }\r\n\r\n    renderSong = (song, idx) => {\r\n        const upDisabled = idx === 0\r\n        const downDisabled = idx === this.props.playlist.list.length - 1\r\n        return (\r\n            <div className={`item my-item ${this.props.playlist.currentIndex === idx ? 'active' : ''}`} key={idx}>\r\n                <h5 className=\"header\">\r\n                    <i className={`${upDisabled ? 'grey' : 'pointer'} icon caret up bigger-icon`} onClick={() => this.props.moveInPlaylist(idx, true)}></i>\r\n                    <i className={`${downDisabled ? 'grey' : 'pointer'} icon caret down bigger-icon`} onClick={() => this.props.moveInPlaylist(idx, false)}></i>\r\n                    <Link to={`/zenesz/songs/${song.id}`} className=\"notLinkStyle pointer\">{song.id}. {song.title}</Link>\r\n\r\n                    <div className=\"right floated\">\r\n                        <i className=\"icon minus circle red pointer\" onClick={() => this.props.removeFromPlaylist(song.id)}></i>\r\n                    </div>\r\n                </h5>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    renderSongList = () => {\r\n        if (_.isEmpty(this.props.songs) || !this.state.open) {\r\n            return null\r\n        }\r\n        const list = this.props.playlist.list.map((songId, idx) => {\r\n            const song = this.props.songs.find(el => el.id === songId)\r\n            return song ? this.renderSong(song, idx) : null\r\n        })\r\n\r\n        const empty = list.length > 0 ? '' : (<p className=\"centered-text\">A lejátszási lista üres</p>)\r\n        return (\r\n            <>\r\n                <div className=\"ui relaxed divided ordered list\">\r\n                    {list}\r\n                </div>\r\n                {empty}\r\n            </>\r\n\r\n        )\r\n\r\n    }\r\n    onClear = () => {\r\n        this.props.clearPlaylist()\r\n        this.props.toggleVisibility()\r\n    }\r\n\r\n    onClose = (e) => {\r\n        this.props.toggleVisibility()\r\n        e.stopPropagation()\r\n    }\r\n\r\n    render() {\r\n        //TODO dupla tool-tip\r\n        if (!this.props.playlist.visible) {\r\n            return null\r\n        }\r\n\r\n        const currentIndex = this.props.playlist.list.length === 0 ? 0 : this.props.playlist.currentIndex + 1\r\n        const extraButtons = this.state.open ? (\r\n            <div className=\"right-left pointer\" onClick={() => this.setState({open: !this.state.open})}>\r\n                <i className={`icon ${this.state.open ? 'minus' : 'plus'}`}></i>\r\n                <i className=\"red icon close\" onClick={this.onClose}></i>\r\n            </div>\r\n        ) : null\r\n        return (\r\n            <>\r\n                <div className=\"playlist-container\">\r\n                    <MyTooltip />\r\n                    <div className=\"right-left pointer\" onClick={() => this.setState({open: !this.state.open})}>\r\n                        <h3>Lejátszási lista {`${currentIndex}/${this.props.playlist.list.length}`}</h3>\r\n                        <div>\r\n                            <i className={`icon ${this.state.open ? 'minus' : 'plus'}`}></i>&nbsp;&nbsp;\r\n                            <i className=\"red icon close\" onClick={this.onClose}></i>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"centered-container\">\r\n                        <MyModal\r\n                            header=\"Biztosan törlöd a lejátszási listát?\"\r\n                            content={'Biztosan törlöd a lejátszási listát? Ezt később nem tudod visszavonni!'}\r\n                            closeText={'Mégse'}\r\n                            approveText={'Törlés'}\r\n                            onApprove={this.onClear}\r\n                        >\r\n                            <MyButton disabled={this.props.playlist.list.length === 0} tip=\"Lejátszási lista törlése\" color=\"negative\" icons={[\"trash alternate\"]} />\r\n                        </MyModal>\r\n                        <MyButton disabled={!this.props.playlist.active} tip=\"Előző ének\" color=\"blue\" onClick={() => this.props.playlistNext(false, this.props.playlist)} icons={[\"backward\"]} />\r\n                        <MyButton disabled={this.props.playlist.active || this.props.playlist.list.length === 0} tip=\"Lejátszási lista indítása\" color=\"green\" onClick={() => this.props.startPlaylist(this.props.playlist)} icons={[\"play\"]} />\r\n                        <MyButton disabled={!this.props.playlist.active} tip=\"Következő ének\" color=\"blue\" onClick={() => this.props.playlistNext(true, this.props.playlist)} icons={[\"forward\"]} />\r\n                    </div>\r\n                    {this.renderSongList()}\r\n                    {extraButtons}\r\n                </div>\r\n            </>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        songs: Object.values(state.songs),\r\n        playlist: state.playlist\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    fetchSongs,\r\n    playlistNext,\r\n    startPlaylist,\r\n    clearPlaylist,\r\n    removeFromPlaylist,\r\n    toggleVisibility,\r\n    moveInPlaylist\r\n})(Playlist)","import React from 'react'\r\nimport { Router, Route, Switch } from 'react-router-dom'\r\n\r\nimport SongList from './screens/SongList'\r\nimport SongCreate from './screens/SongCreate'\r\nimport SongEdit from './screens/SongEdit'\r\nimport SongShow from './screens/SongShow'\r\nimport Login from './screens/Login'\r\n\r\nimport Footer from './Footer'\r\nimport Header from './Header'\r\nimport Playlist from './Playlist'\r\n\r\nimport history from '../history'\r\n\r\n\r\nconst App = () => {\r\n    return (\r\n        <div>\r\n            <Router history={history}>\r\n                <Header />\r\n                <Switch>\r\n                    <Route path=\"/zenesz/\" exact component={SongList} />\r\n                    <Route path=\"/zenesz/songs/new\" exact component={SongCreate} />\r\n                    <Route path=\"/zenesz/songs/edit/:id\" exact component={SongEdit} />\r\n                    <Route path=\"/zenesz/songs/:id\" exact component={SongShow} />\r\n                    <Route path=\"/zenesz/login\" exact component={Login} />\r\n                </Switch>\r\n                <Footer />\r\n                <Playlist />\r\n            </Router>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { Provider } from 'react-redux'\r\nimport { createStore, applyMiddleware, compose } from 'redux'\r\nimport reduxThunk from 'redux-thunk'\r\nimport { save, load } from \"redux-localstorage-simple\"\r\nimport 'semantic-ui-css/semantic.min.css'\r\n\r\nimport combinedReducer from './reducers'\r\nimport App from './components/App'\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst createStoreWithMiddleware  =composeEnhancers(applyMiddleware(save({ states: [\"playlist\"], debounce: 500}), reduxThunk))(createStore)\r\nconst store = createStoreWithMiddleware(combinedReducer, load({ states: [\"playlist\"]}))\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById('root'))"],"sourceRoot":""}