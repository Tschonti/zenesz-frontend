{"version":3,"sources":["actions/types.js","util.js","reducers/playlistReducer.js","reducers/searchListReducer.js","reducers/authReducer.js","reducers/modalReducer.js","reducers/index.js","reducers/songsReducer.js","reducers/alertReducer.js","reducers/playlistListReducer.js","reducers/transposeReducer.js","components/MyTooltip.js","components/Page.js","components/MyLoader.js","components/ColorSelector.js","components/SearchBar.js","components/MyButton.js","api.js","history.js","actions/songActions.js","actions/playlistActions.js","actions/alertActions.js","components/screens/SongList.js","components/MyModal.js","actions/modalActions.js","components/screens/SongForm.js","components/screens/SongCreate.js","components/screens/SongEdit.js","components/screens/SongShow.js","actions/transposeActions.js","actions/authActions.js","components/screens/Login.js","components/PlaylistItem.js","components/screens/PlaylistList.js","components/Footer.js","components/Header.js","components/PlaylistForm.js","components/Playlist.js","components/App.js","index.js"],"names":["FETCH_SONGS","UPDATE_WITH_ID","UPDATE_WITH_WRONG_ID","UPDATE_WITH_TERM","CANCEL_SEARCH","FETCH_SONG","CREATE_SONG","EDIT_SONG","DELETE_SONG","NEW_ALERT","REMOVE_ALERT","ADD_TO_PLAYLIST","REMOVE_FROM_PLAYLIST","PLAYLIST_NEXT","PLAYLIST_STEP","START_PLAYLIST","STOP_PLAYLIST","CLEAR_PLAYLIST","TOGGLE_VISIBILITY","MOVE_IN_PLAYLIST","SAVE_PLAYLIST","FETCH_PLAYLISTS","LOAD_PLAYLIST","UNLOAD_PLAYLIST","DELETE_PLAYLIST","REPLACE_PLAYLIST","REPLACE_PLAYLIST_IN_LIST","OPEN_MODAL","CLOSE_MODAL","LOGIN","LOGOUT","RECOVER_STATE","TRANSPOSE_SONG","handleError","err","dispatch","response","status","type","payload","msg","statusText","console","error","setTimeout","setTimeoutToRemoveAlert","sortSongs","songs","field","sort","fEl","sEl","onlyUnique","value","index","self","indexOf","addToPlaylistReducer","playlist","newSongId","removeFromPlaylistReducer","idToRemove","remIdx","curIdx","currentIndex","length","clonedState","splice","removeFromPlaylistReducerNoIndex","filter","songId","moveInPlaylistReducer","up","otherIndex","temp","diff","moveInPlaylistReducerNoIndex","addPlacesToPlaylist","map","song","idx","place","removePlacesFromPlaylist","a","b","BASE_URL","DICSI_FULL_URL","mod","n","m","defaultState","active","visible","loaded","undefined","loadedName","list","validSearch","signedIn","dicsiToken","zeneszToken","open","id","combineReducers","state","action","_","mapKeys","omit","searchList","uniq","alert","form","formReducer","name","modifiable","modal","auth","dicsi","zenesz","playlistList","listOfIds","pl","transpose","offset","MyTooltip","isMobile","effect","Page","props","useEffect","window","scrollTo","path","children","MyLoader","className","color","ColorSelector","val","onChange","e","setter","target","slice","style","backgroundColor","disabled","firstDisabled","defaultText","colors","renderOptions","SearchBar","useState","setValue","debouncedValue","setDebouncedValue","lyricsToo","setLyricsToo","chosenColor","setChosenColor","timeOut","clearTimeout","isNaN","term","cancel","placeholder","tabIndex","checked","htmlFor","onClick","MyButton","icons","icon","tip","stopPropagation","text","db","axios","create","baseURL","dicsiDb","createBrowserHistory","fetchSongs","get","data","fetchSong","patchPlaylist","getState","localResult","playlistId","patch","headers","res","addToPlaylist","includes","removeFromPlaylist","playlistToRemoveFrom","find","playlistNext","next","history","push","stopPlaylist","clearPlaylist","delete","toggleVisibility","moveInPlaylist","playlistToMoveIn","loadPlaylist","newAlert","removeAlert","SongList","sortById","event","preventDefault","renderSmallButtons","isMobileOnly","renderSong","to","title","this","isEmpty","setState","empty","location","pathname","findId","searchSongs","cancelSearch","React","Component","connect","Object","values","colorSearch","inTitle","inLyrics","openModal","closeModal","Alert","onClose","severity","Modal","onOpen","trigger","generateTrigger","Header","header","Content","Description","Actions","Button","closeText","content","approveText","onApprove","negative","primary","renderInput","input","label","meta","wide","touched","autoComplete","renderError","renderColorPicker","change","renderTextArea","rows","reduxForm","validate","formValues","errors","lyrics","initialValues","colorOption","setColorOption","selectedColorDropdown","setSelectedColorDropdown","selectedColorPicker","setSelectedColorPicker","changeColorOption","opt","onSubmit","handleSubmit","Field","component","edit","v","renderSecondField","onDeleteClick","SongCreate","plVisible","biggestID","createSong","Math","max","formData","post","parseInt","split","join","desc","log","SongEdit","match","params","editSong","verses","deleteSong","ownProps","SMALL_FONT_SIZE","NOTES","SongShow","fontSize","deleteModalActive","deletePassword","oneVerseModeActive","currentVerse","showButtons","twoColumnMode","showDesc","handleKeyDown","code","handleVerseChange","onSizeChange","increase","onTune","transposeSong","transposeOffset","resetTune","onDescChange","handleModeSwitch","forward","handleFontSizeReset","onPlaylistAdd","renderLine","line","newLine","i","skipSpace","test","note","newNote","renderVerse","verse","lines","renderTransposeButtons","renderVerses","firstColumn","ceil","secondColumn","renderButtons","editButton","descButton","desktopButton","optionalButtons","renderTitle","marginLeft","height","width","borderRadius","renderDesc","prevProps","onKeyDown","cookieOptions","maxAge","logout","cookieManager","Cookies","remove","username","password","login","zeneszResponse","dicsiResponse","token","set","goBack","playlistStep","upDisabled","downDisabled","unmodifiable","PlaylistList","activePlaylist","fetchPlaylists","navigator","clipboard","writeText","date","Date","parse","toLocaleDateString","Accordion","fluid","styled","Title","handleClick","Icon","generateDateAdded","created_at","copyLink","authLink","rel","href","menuOpen","setMenuOpen","newSong","Playlist","renderSongList","el","extraButtons","savePlaylist","unloadPlaylist","startPlaylist","App","c","dicsiCookie","zeneszCookie","loginFromCookie","recoverState","exact","Login","render","store","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","save","states","debounce","reduxThunk","composeEnhancers","createStore","createStoreWithMiddleware","combinedReducer","load","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.fb9a31c1.chunk.js","sourcesContent":["export const FETCH_SONGS = 'FETCH_SONGS'\nexport const UPDATE_WITH_ID = 'UPDATE_WITH_ID'\nexport const UPDATE_WITH_WRONG_ID = 'UPDATE_WITH_WRONG_ID'\nexport const UPDATE_WITH_TERM = 'UPDATE_WITH_TERM'\nexport const CANCEL_SEARCH = 'CANCEL_SEARCH'\nexport const FETCH_SONG = 'FETCH_SONG'\nexport const CREATE_SONG = 'CREATE_SONG'\nexport const EDIT_SONG = 'EDIT_SONG'\nexport const DELETE_SONG = 'DELETE_SONG'\n\nexport const NEW_ALERT = 'NEW_ALERT'\nexport const REMOVE_ALERT = 'REMOVE_ALERT'\n\nexport const ADD_TO_PLAYLIST = 'ADD_TO_PLAYLIST'\nexport const REMOVE_FROM_PLAYLIST = 'REMOVE_FROM_PLAYLIST'\nexport const PLAYLIST_NEXT = 'PLAYLIST_NEXT'\nexport const PLAYLIST_STEP = 'PLAYLIST_STEP'\nexport const START_PLAYLIST = 'START_PLAYLIST'\nexport const STOP_PLAYLIST = 'STOP_PLAYLIST'\nexport const CLEAR_PLAYLIST = 'CLEAR_PLAYLIST'\nexport const TOGGLE_VISIBILITY = 'TOGGLE_VISIBILITY'\nexport const MOVE_IN_PLAYLIST = 'MOVE_IN_PLAYLIST'\nexport const SAVE_PLAYLIST = 'SAVE_PLAYLIST'\nexport const FETCH_PLAYLISTS = 'FETCH_PLAYLISTS'\nexport const LOAD_PLAYLIST = 'LOAD_PLAYLIST'\nexport const UNLOAD_PLAYLIST = 'UNLOAD_PLAYLIST'\nexport const DELETE_PLAYLIST = 'DELETE_PLAYLIST'\nexport const REPLACE_PLAYLIST = 'REPLACE_PLAYLIST'\nexport const REPLACE_PLAYLIST_IN_LIST = 'REPLACE_PLAYLIST_IN_LIST'\n\nexport const OPEN_MODAL = 'OPEN_MODAL'\nexport const CLOSE_MODAL = 'CLOSE_MODAL'\n\nexport const LOGIN = 'LOGIN'\nexport const LOGOUT = 'LOGOUT'\n\nexport const RECOVER_STATE = 'RECOVER_STATE'\n\nexport const TRANSPOSE_SONG = 'TRANSPOSE_SONG'\n","import { NEW_ALERT, REMOVE_ALERT } from './actions/types'\n\n\nconst setTimeoutToRemoveAlert = (dispatch) => {\n    setTimeout(() => dispatch({type: REMOVE_ALERT}), 5000)\n}\n\nexport const handleError = (err, dispatch) => {\n    if (!err.response) {\n        dispatch({type: NEW_ALERT, payload: {msg: 'Valami baj van', type: 'error'}})\n        console.error(err)\n    } else if (err.response.status === 401 || err.response.status === 403) {\n        dispatch({type: NEW_ALERT, payload: {msg: 'Nem vagy bejelentkezve', type: 'error'}})\n    } else if (err.response.status === 400) {\n        dispatch({type: NEW_ALERT, payload: {msg: 'Hibás felhasználónév vagy jelszó', type: 'error'}})\n    } else {\n        dispatch({type: NEW_ALERT, payload: {msg: `${err.response.status}: ${err.response.statusText}`, type: 'error'}})\n        console.error(err.response)\n    }\n    setTimeoutToRemoveAlert(dispatch)\n}\n\nexport const sortSongs = (songs, field) => {\n    songs.sort((fEl, sEl) => {\n        if (fEl[field] < sEl[field]) {\n            return -1\n        } else if (fEl[field] > sEl[field]) {\n            return 1\n        } return 0\n    })\n}\n\nexport const onlyUnique = (value, index, self) => {\n    return self.indexOf(value) === index && value\n}\n\nexport const addToPlaylistReducer = (playlist, newSongId) => {\n    return { ...playlist, songs: [ ...playlist.songs, newSongId]}\n}\n\nexport const removeFromPlaylistReducer = (playlist, idToRemove) => {\n    const remIdx = playlist.songs.indexOf(idToRemove)\n    if (remIdx === -1) {\n        return playlist\n    }\n    let curIdx = playlist.currentIndex\n    if ((remIdx < curIdx || remIdx === playlist.songs.length - 1) && curIdx > 0) {\n        curIdx -= 1\n    }\n    const clonedState = [...playlist.songs]\n    clonedState.splice(remIdx, 1)\n    return { ...playlist, songs: clonedState, currentIndex: curIdx }\n}\n\nexport const removeFromPlaylistReducerNoIndex = (playlist, idToRemove) => {\n    return { ...playlist, songs: playlist.songs.filter(songId => songId !== idToRemove)}\n}\n\nexport const moveInPlaylistReducer = (playlist, up, index) => {\n    if ((index === 0 && up) || (index === playlist.songs.length - 1 && !up)) {\n        return playlist\n    }\n    const otherIndex = up ? index - 1 : index + 1\n    const clonedState = {...playlist}\n    const temp = clonedState.songs[otherIndex]\n    clonedState.songs[otherIndex] = clonedState.songs[index]\n    clonedState.songs[index] = temp\n    let diff = 0\n    if (playlist.currentIndex === index) {\n        diff = up ? -1 : 1\n    } else if (playlist.currentIndex === otherIndex) {\n        diff = up ? 1 : -1\n    }\n    clonedState.currentIndex += diff\n    return clonedState\n}\n\nexport const moveInPlaylistReducerNoIndex = (playlist, up, index) => {\n    if ((index === 0 && up) || (index === playlist.songs.length - 1 && !up)) {\n        return playlist\n    }\n    const otherIndex = up ? index - 1 : index + 1\n    const clonedState = {...playlist}\n    const temp = clonedState.songs[otherIndex]\n    clonedState.songs[otherIndex] = clonedState.songs[index]\n    clonedState.songs[index] = temp\n    return clonedState\n}\n\nexport const addPlacesToPlaylist = (playlist) => {\n    return playlist.map((song, idx) => ({song: song, place: idx}))\n}\n\nexport const removePlacesFromPlaylist = (playlist) => {\n    return playlist.sort((a, b) => a.place - b.place).map(song => song.song)\n}\n\nexport const BASE_URL = \"\"\nexport const FULL_URL = \"https://zenesz.okgy.hu\"\nexport const DICSI_FULL_URL = \"https://dicsi.okgy.hu\"\n\nexport const mod = (n, m) => (((n % m) + m) % m)","import { \n    ADD_TO_PLAYLIST,\n    REMOVE_FROM_PLAYLIST,\n    PLAYLIST_NEXT,\n    START_PLAYLIST,\n    STOP_PLAYLIST,\n    CLEAR_PLAYLIST,\n    TOGGLE_VISIBILITY,\n    MOVE_IN_PLAYLIST,\n    SAVE_PLAYLIST,\n    LOAD_PLAYLIST,\n    UNLOAD_PLAYLIST,\n    REPLACE_PLAYLIST,\n    PLAYLIST_STEP,\n    RECOVER_STATE,\n} from \"../actions/types\"\nimport {\n    addToPlaylistReducer,\n    removeFromPlaylistReducer,\n    moveInPlaylistReducer\n} from \"../util\"\n\nconst defaultState = {\n    songs: [],\n    currentIndex: 0,\n    active: false,\n    visible: false,\n    loaded: undefined,\n    loadedName: '',\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default (state = defaultState, action) => {\n    switch(action.type) {\n        case ADD_TO_PLAYLIST:\n            return addToPlaylistReducer(state, action.payload)\n        case REMOVE_FROM_PLAYLIST:\n            return removeFromPlaylistReducer(state, action.payload)\n        case PLAYLIST_NEXT:\n            return { ...state, currentIndex: action.payload }\n        case START_PLAYLIST:\n            return { ...state, active: true}\n        case STOP_PLAYLIST:\n            return { ...state, active: false}\n        case CLEAR_PLAYLIST:\n            return { ...defaultState, visible: state.visible }\n        case TOGGLE_VISIBILITY:\n            return { ...state, visible: !state.visible}\n        case MOVE_IN_PLAYLIST:\n            return moveInPlaylistReducer(state, action.payload.up, action.payload.index)\n        case SAVE_PLAYLIST:\n            return {...state, songs: action.payload.songs, loaded: action.payload.id, loadedName: action.payload.name}\n        case LOAD_PLAYLIST:\n            return {\n                songs: action.payload.list.songs,\n                currentIndex: 0,\n                active: false,\n                visible: true,\n                loaded: action.payload.modifiable ? action.payload.list.id : undefined,\n                loadedName: action.payload.modifiable ? action.payload.list.name : '',\n            }\n        case UNLOAD_PLAYLIST:\n            return { ...defaultState, visible: true }\n        case REPLACE_PLAYLIST:\n            return action.payload\n        case PLAYLIST_STEP:\n            return { ...state, currentIndex: action.payload }\n        case RECOVER_STATE:\n            if (state.list && !state.songs) {\n                return {...state, songs: state.list}\n            }\n            return state\n        default:\n            return state\n    }\n}","import _ from 'lodash'\n\nimport { UPDATE_WITH_ID, UPDATE_WITH_WRONG_ID, UPDATE_WITH_TERM, CANCEL_SEARCH } from \"../actions/types\"\n\nconst defaultState = {\n    list: [],\n    validSearch: false\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default (state = defaultState, action) => {\n    switch(action.type) {\n        case UPDATE_WITH_ID:\n            return { list: [action.payload.id], validSearch: true }\n        case UPDATE_WITH_WRONG_ID:\n            return { list: [], validSearch: true }\n        case UPDATE_WITH_TERM:\n            return { list: _.uniq(action.payload.map(song => song.id)), validSearch: true}\n        case CANCEL_SEARCH:\n            return defaultState\n        default:\n            return state\n    }\n}","import { LOGIN, LOGOUT } from \"../actions/types\"\n\nconst defaultState = {\n    signedIn: false,\n    dicsiToken: null,\n    zeneszToken: null,\n}\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default (state = defaultState, action) => {\n    switch(action.type) {\n        case LOGIN:\n            return { signedIn: true, dicsiToken: action.payload.dicsi, zeneszToken: action.payload.zenesz }\n        case LOGOUT:\n            return defaultState\n        default:\n            return state\n    }\n}","import { CLOSE_MODAL, OPEN_MODAL } from \"../actions/types\";\n\nconst defaultState = { open: false, id: undefined }\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default (state = defaultState, action) => {\n    switch(action.type) {\n        case OPEN_MODAL:\n            return { open: true, id: action.payload }\n        case CLOSE_MODAL:\n            return defaultState\n        default:\n            return state\n    }\n}","import { combineReducers } from 'redux'\nimport { reducer as formReducer } from \"redux-form\"\n\nimport songsReducer from './songsReducer'\nimport alertReducer from './alertReducer'\nimport playlistReducer from './playlistReducer'\nimport playlistListReducer from './playlistListReducer'\nimport searchListReducer from './searchListReducer'\nimport authReducer from './authReducer'\nimport modalReducer from './modalReducer'\nimport transposeReducer from './transposeReducer'\n\nexport default combineReducers({\n    songs: songsReducer,\n    searchList: searchListReducer,\n    alert: alertReducer,\n    form: formReducer,\n    playlist: playlistReducer,\n    modal: modalReducer,\n    auth: authReducer,\n    playlistList: playlistListReducer,\n    transpose: transposeReducer\n})","import _ from 'lodash'\nimport { FETCH_SONGS, FETCH_SONG, CREATE_SONG, EDIT_SONG, DELETE_SONG } from \"../actions/types\"\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default (state = {}, action) => {\n    switch (action.type) {\n        case FETCH_SONGS:\n            return {..._.mapKeys(action.payload, 'id')}\n        case FETCH_SONG:\n            return {...state, [action.payload.id]: action.payload}\n        case CREATE_SONG:\n            return {...state, [action.payload.id]: action.payload}\n        case EDIT_SONG:\n            return {...state, [action.payload.id]: action.payload}\n        case DELETE_SONG:\n            return _.omit(state, action.payload)\n        default:\n            return state\n    }\n}","import { NEW_ALERT, REMOVE_ALERT } from \"../actions/types\"\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default (state = {}, action) => {\n    switch(action.type) {\n        case NEW_ALERT:\n            return action.payload\n        case REMOVE_ALERT:\n            return {}\n        default:\n            return state\n    }\n}","import { FETCH_PLAYLISTS, REPLACE_PLAYLIST, REPLACE_PLAYLIST_IN_LIST, DELETE_PLAYLIST, DELETE_SONG, SAVE_PLAYLIST } from \"../actions/types\"\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default (state = {list: [], loaded: false }, action) => {\n    switch(action.type) {\n        case FETCH_PLAYLISTS:\n            return { list: action.payload, loaded: true }\n        case REPLACE_PLAYLIST:\n        case REPLACE_PLAYLIST_IN_LIST:\n            const listOfIds = state.list.map(pl => pl.id)\n            const idx = listOfIds.indexOf(action.payload.loaded)\n            if (idx === -1) {\n                return state\n            }\n            const clonedState = {...state}\n            clonedState.list[idx].songs = action.payload.songs\n            return clonedState\n        case DELETE_PLAYLIST:\n            return { ...state, list: state.list.filter(pl => pl.id !== action.payload) }\n        case DELETE_SONG:\n            return { ...state, list: state.list.map(pl => ({...pl, songs: pl.songs.filter(songId => songId !== action.payload)}))}\n        case SAVE_PLAYLIST:\n            return { ...state, list: [...state.list, action.payload]}\n        default:\n            return state\n    }\n}","import { TRANSPOSE_SONG } from \"../actions/types\";\r\n\r\n// eslint-disable-next-line import/no-anonymous-default-export\r\nexport default (state = {}, action) => {\r\n    switch(action.type) {\r\n        case TRANSPOSE_SONG:\r\n            return { ...state, [action.payload.songId]: action.payload.offset }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n","import ReactTooltip from 'react-tooltip'\nimport { isMobile } from 'react-device-detect'\n\nconst MyTooltip = () => {\n    if (isMobile) {\n        return null\n    }\n    return <ReactTooltip effect=\"solid\" />\n}\n\nexport default MyTooltip\n","import { useEffect } from 'react'\n\nconst Page = props => {\n    useEffect(() => {\n        window.scrollTo(0, 0)\n    }, [props.path])\n    return props.children\n}\n\nexport default Page","import React from 'react'\nimport Loader from \"react-loader-spinner\"\n\nimport '../styles.css'\n\nconst MyLoader = () => {\n    return (\n        <div className=\"loader-container\">\n            <Loader\n                type=\"Oval\"\n                color=\"#999897\"\n                visible\n            />\n            <p className=\"big-text\">Betöltés...</p>\n        </div>\n    )\n}\n\nexport default MyLoader","import React from 'react'\n\nconst ColorSelector = props => {\n\n    const renderOptions = colors => {\n        if (!colors) {\n            return\n        }\n        return (\n            colors.map(color => (\n                <option key={color} value={'#' + color} style={{backgroundColor: '#' + color}}>\n                    {'#' + color}\n                </option>\n            ))\n        )\n    }\n    return (\n        <select className=\"ui dropdown\" name=\"color\" value={'#' + props.val} onChange={(e) => props.setter(e.target.value.slice(1))} style={{backgroundColor: props.val ? '#' + props.val : 'white'}}>\n            <option disabled={props.firstDisabled} value=\"#\" style={{backgroundColor: 'white'}}>{props.defaultText}</option>\n            {renderOptions(props.colors)}\n        </select>\n    )\n}\n\nexport default ColorSelector","import React, { useState, useEffect } from 'react'\n\nimport ColorSelector from './ColorSelector'\n\nconst SearchBar = props => {\n    const [value, setValue] = useState('')\n    const [debouncedValue, setDebouncedValue] = useState('')\n    const [lyricsToo, setLyricsToo] = useState(false)\n    const [chosenColor, setChosenColor] = useState('')\n\n    useEffect(() => {\n        const timeOut = setTimeout(() => {\n            setDebouncedValue(value)\n        }, 350)\n        return () => {\n            clearTimeout(timeOut)\n        }\n    }, [value])\n\n    useEffect(() => {\n        if (debouncedValue) {\n            if (isNaN(debouncedValue)) {\n                props.term(debouncedValue, lyricsToo, chosenColor)\n            } else {\n                props.id(debouncedValue)\n            }\n        } else {\n            if (chosenColor) {\n                props.term(debouncedValue, lyricsToo, chosenColor)\n            } else {\n                props.cancel()\n            }\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [debouncedValue])\n\n    useEffect(() => {\n        if (value) {\n            if (isNaN(value)) {\n                props.term(value, lyricsToo, chosenColor)\n            }\n        }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [lyricsToo])\n\n    useEffect(() => {\n        props.term(value, lyricsToo, chosenColor)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [chosenColor])\n\n    const cancelSearch = () => {\n        setValue('')\n        setLyricsToo(false)\n        setChosenColor('')\n        props.cancel()\n    }\n\n    return (\n        <div className=\"ui form\">\n            <div className=\"inline fields centered-container\">\n                <div className=\"ten wide field\">\n                    <label>Keresés</label>\n                    <input value={value} onChange={(e) => setValue(e.target.value)} placeholder=\"Sorszámot vagy teljes szavakat írj\"/>\n                </div>\n                <div className=\"three wide field\">\n                    <div className=\"ui checkbox my-check\">\n                        <input id=\"lyricsCheckbox\" type=\"checkbox\" tabIndex=\"0\" checked={lyricsToo} onChange={() => setLyricsToo(!lyricsToo)} />\n                        <label htmlFor=\"lyricsCheckbox\">dalszövegben is</label>\n                    </div>\n                </div>\n                <div className=\"three wide field\">\n                    <ColorSelector val={chosenColor} setter={setChosenColor} defaultText=\"Minden dal\" colors={props.colors} firstDisabled={false} />\n                    <i data-tip=\"Keresés elvetése\" className=\"icon bigger-icon times circle gray pointer\" onClick={cancelSearch}></i>\n                </div>\n\n            </div>\n        </div>\n    )\n}\n\nexport default SearchBar","import React from 'react'\n\nconst MyButton = props => {\n    const handleClick = (e) => {\n        e.stopPropagation()\n        props.onClick()\n    }\n\n    const icons = props.icons.map((icon, idx) => <i key={idx} className={`icon ${icon}`}></i>)\n    return (\n        <button data-tip={props.tip} aria-label={props.tip} className={`ui button my-button icon ${props.color}`} onClick={handleClick} disabled={props.disabled} >{icons}{props.text}</button>\n    )\n}\n\nexport default MyButton","import axios from 'axios'\n\nexport const db = axios.create({\n    baseURL: 'https://api.zenesz.okgy.hu/'\n})\n\nexport const dicsiDb = axios.create({\n    baseURL: 'https://api.dicsi.okgy.hu/'\n})","import { createBrowserHistory } from 'history'\n\nexport default createBrowserHistory()","import {\n    FETCH_SONGS,\n    FETCH_SONG,\n    CREATE_SONG,\n    EDIT_SONG,\n    DELETE_SONG,\n    REMOVE_FROM_PLAYLIST,\n    UPDATE_WITH_ID,\n    UPDATE_WITH_WRONG_ID,\n    UPDATE_WITH_TERM,\n    CANCEL_SEARCH,\n    CLOSE_MODAL} from './types'\nimport { db } from '../api'\nimport history from '../history'\nimport { BASE_URL, handleError } from '../util'\n\nexport const fetchSongs = () => async dispatch => {\n    try {\n        const response = await db.get('/songs/?format=json')\n        dispatch({type: FETCH_SONGS, payload: response.data})\n    } catch (err) {\n        handleError(err, dispatch)\n    }\n}\n\nexport const fetchSong = id => async dispatch => {\n    try {\n        const response = await db.get(`/songs/${id}/?format=json`)\n        dispatch({type: FETCH_SONG, payload: response.data})\n    } catch (err) {\n        handleError(err, dispatch)\n    }\n}\n\nexport const findId = (id) => async dispatch => {\n    try {\n        const response = await db.get(`/songs/${id}/?format=json`)\n        dispatch({type: UPDATE_WITH_ID, payload: response.data})\n    } catch (err) {\n        if (err.response) {\n            if (err.response.status === 404) {\n                dispatch({type: UPDATE_WITH_WRONG_ID})\n            } else {\n                handleError(err, dispatch)\n            }\n        } else {\n            handleError(err, dispatch)\n        }\n    }\n}\n\nexport const searchSongs = (term, lyricsToo, color) => async dispatch => {\n    try {\n        if (term === '' && color === '') {\n            dispatch({type: CANCEL_SEARCH})\n        } else {\n            if (term === '') {\n                term = '---noval---'\n            }\n            const colorSearch = color ? color + '/' : ''\n            const inTitle = await db.get(`/search-title/${term}/${colorSearch}`)\n            if (lyricsToo) {\n                const inLyrics = await db.get(`/search-lyrics/${term}/${colorSearch}`)\n                dispatch({type: UPDATE_WITH_TERM, payload: [...inTitle.data, ...inLyrics.data]})\n            } else {\n                dispatch({type: UPDATE_WITH_TERM, payload: inTitle.data})\n            }\n        }\n\n    } catch (err) {\n        handleError(err, dispatch)\n    }\n}\n\nexport const cancelSearch = () => {\n    return { type: CANCEL_SEARCH}\n}\n\nexport const createSong = formData => async (dispatch, getState) => {\n    try {\n        const color = formData.color ? formData.color.slice(1) : ''\n        const response = await db.post('/songs/', {\n            id: parseInt(formData.id),\n            title: formData.title,\n            lyrics: formData.lyrics.split('\\n\\n').join('###'),\n            desc: formData.desc || '',\n            color: color,\n        }, { headers: {'Authorization': `Token ${getState().auth.zeneszToken}` }})\n        dispatch({type: CREATE_SONG, payload: response.data})\n        history.push(`${BASE_URL}/songs/${formData.id}`)\n    } catch (err) {\n        console.log(err.response)\n        handleError(err, dispatch)\n    }\n\n}\n\nexport const editSong = (id, formData) => async (dispatch, getState) => {\n    try {\n        const response = await db.patch(`/songs/${id}/`, {\n            title: formData.title,\n            lyrics: formData.lyrics.split('\\n\\n').join('###'),\n            desc: formData.desc || '',\n            color: formData.color.slice(1)\n        }, { headers: {'Authorization': `Token ${getState().auth.zeneszToken}` }})\n        dispatch({type: EDIT_SONG, payload: response.data})\n        history.push(`${BASE_URL}/songs/${id}`)\n    } catch (err) {\n        handleError(err, dispatch)\n    }\n}\n\nexport const deleteSong = (id) => async (dispatch, getState) => {\n    try {\n        await db.delete(`/songs/${id}/`,\n            { headers: {'Authorization': `Token ${getState().auth.zeneszToken}` }})\n        if (getState().playlist.songs.includes(id)) {\n            dispatch({ type: REMOVE_FROM_PLAYLIST, payload: id })\n        }\n        dispatch({type: DELETE_SONG, payload: id})\n        dispatch({type: CLOSE_MODAL})\n        history.push(BASE_URL)\n    } catch(err) {\n        handleError(err, dispatch)\n    }\n}","import {\n    ADD_TO_PLAYLIST,\n    REMOVE_FROM_PLAYLIST,\n    PLAYLIST_NEXT,\n    START_PLAYLIST,\n    STOP_PLAYLIST,\n    CLEAR_PLAYLIST,\n    TOGGLE_VISIBILITY,\n    MOVE_IN_PLAYLIST,\n    SAVE_PLAYLIST,\n    FETCH_PLAYLISTS,\n    LOAD_PLAYLIST,\n    UNLOAD_PLAYLIST,\n    REPLACE_PLAYLIST,\n    REPLACE_PLAYLIST_IN_LIST,\n    NEW_ALERT,\n    DELETE_PLAYLIST,\n    CLOSE_MODAL,\n    PLAYLIST_STEP,\n    RECOVER_STATE\n} from './types'\nimport {\n    addToPlaylistReducer,\n    removeFromPlaylistReducer,\n    removeFromPlaylistReducerNoIndex,\n    moveInPlaylistReducer,\n    moveInPlaylistReducerNoIndex,\n    removePlacesFromPlaylist,\n    addPlacesToPlaylist,\n    BASE_URL\n} from \"../util\"\nimport { dicsiDb } from '../api'\nimport { handleError } from '../util'\nimport history from '../history'\n\nconst patchPlaylist = async (dispatch, getState, localResult, playlistId) => {\n    try {\n        const res = await dicsiDb.patch(`/playlists/${playlistId}/`, {\n            songs: addPlacesToPlaylist(localResult.songs)\n        }, { headers: {'Authorization': `Token ${getState().auth.dicsiToken}` }})\n        if (getState().playlist.loaded === playlistId) {\n            dispatch({ type: REPLACE_PLAYLIST, payload: { ...localResult, songs: removePlacesFromPlaylist(res.data.songs) }})\n        } else {\n            dispatch({ type: REPLACE_PLAYLIST_IN_LIST, payload: {loaded: playlistId, songs: removePlacesFromPlaylist(res.data.songs) }})\n        }\n    } catch (err) {\n        handleError(err, dispatch)\n    }\n}\n\nexport const addToPlaylist = id => async (dispatch, getState) => {\n    if (getState().playlist.songs.includes(id)) {\n        dispatch({ type: NEW_ALERT, payload: {msg: 'Ez a dal már fent van a lejátszási listán', type: 'error'}})\n    } else {\n        if (!getState().playlist.loaded) {\n            dispatch({ type: ADD_TO_PLAYLIST, payload: id })\n        } else {\n            const localResult = addToPlaylistReducer(getState().playlist, id)\n            await patchPlaylist(dispatch, getState, localResult, getState().playlist.loaded)\n        }\n    }\n}\n\nexport const removeFromPlaylist = (songId, playlistId) => async (dispatch, getState) => {\n    if (!getState().playlist.loaded && !playlistId) {\n        dispatch({ type: REMOVE_FROM_PLAYLIST, payload: songId })\n    } else {\n        let localResult = ''\n        if (getState().playlist.loaded === playlistId) {\n            localResult = removeFromPlaylistReducer(getState().playlist, songId)\n        } else {\n            const playlistToRemoveFrom = getState().playlistList.list.find(pl => pl.id === playlistId)\n            localResult = removeFromPlaylistReducerNoIndex(playlistToRemoveFrom, songId)\n        }\n        await patchPlaylist(dispatch, getState, localResult, playlistId)\n    }\n}\n\nexport const playlistNext = (next, state) => {\n    if (!state.active) {\n        return\n    }\n    if (next) {\n        if (state.currentIndex === state.songs.length - 1) {\n            history.push(`${BASE_URL}/songs/${state.songs[0]}`)\n            return { type: PLAYLIST_NEXT, payload: 0 }\n        } else {\n            history.push(`${BASE_URL}/songs/${state.songs[state.currentIndex + 1]}`)\n            return { type: PLAYLIST_NEXT, payload: state.currentIndex + 1 }\n        }\n    } else {\n        if (state.currentIndex < 1) {\n            history.push(`${BASE_URL}/songs/${state.songs[state.songs.length - 1]}`)\n            return { type: PLAYLIST_NEXT, payload: state.songs.length - 1 }\n        } else {\n            history.push(`${BASE_URL}/songs/${state.songs[state.currentIndex - 1]}`)\n            return { type: PLAYLIST_NEXT, payload: state.currentIndex - 1 }\n        }\n    }\n}\n\nexport const playlistStep = (idx) => {\n    return { type: PLAYLIST_STEP, payload: idx }\n}\n\nexport const startPlaylist = (state) => {\n    history.push(`${BASE_URL}/songs/${state.songs[state.currentIndex]}`)\n    return {type: START_PLAYLIST}\n}\nexport const stopPlaylist = () => {\n    return {type: STOP_PLAYLIST}\n}\n\nexport const clearPlaylist = (id) => async (dispatch, getState) => {\n    if (!getState().playlist.loaded && !id) {\n        dispatch({type: CLEAR_PLAYLIST})\n        dispatch({type: CLOSE_MODAL})\n    } else {\n        try {\n            await dicsiDb.delete(`/playlists/${id}/`,\n                { headers: {'Authorization': `Token ${getState().auth.dicsiToken}` }})\n            if (id === getState().playlist.loaded) {\n                dispatch({type: CLEAR_PLAYLIST})\n            }\n            dispatch({type: DELETE_PLAYLIST, payload: id})\n            dispatch({type: CLOSE_MODAL})\n        } catch(err)  {\n            handleError(err, dispatch)\n        }\n    }\n}\n\nexport const toggleVisibility = () => {\n    return { type: TOGGLE_VISIBILITY }\n}\n\nexport const moveInPlaylist = (index, up, playlistId) => async (dispatch, getState) => {\n    if (!getState().playlist.loaded && !playlistId) {\n        dispatch({ type: MOVE_IN_PLAYLIST, payload: {index, up} })\n    } else {\n        let localResult = ''\n        if (getState().playlist.loaded === playlistId) {\n            localResult = moveInPlaylistReducer(getState().playlist, up, index)\n        } else {\n            const playlistToMoveIn = getState().playlistList.list.find(pl => pl.id === playlistId)\n            localResult = moveInPlaylistReducerNoIndex(playlistToMoveIn, up, index)\n        }\n        await patchPlaylist(dispatch, getState, localResult, playlistId)\n    }\n}\n\nexport const savePlaylist = formData => async (dispatch, getState) => {\n    try {\n        const response = await dicsiDb.post('/playlists/', {\n            name: formData.name,\n            songs: addPlacesToPlaylist(getState().playlist.songs)\n        }, { headers: {'Authorization': `Token ${getState().auth.dicsiToken}` }})\n            dispatch({type: CLOSE_MODAL})\n            dispatch({type: SAVE_PLAYLIST, payload: {...response.data, songs: removePlacesFromPlaylist(response.data.songs)}})\n    } catch (err) {\n        handleError(err, dispatch)\n    }\n}\n\nexport const fetchPlaylists = () => async dispatch => {\n    try {\n        const response = await dicsiDb.get('/playlists/?format=json')\n        dispatch({type: FETCH_PLAYLISTS, payload: response.data.map(pl => ({...pl, songs: removePlacesFromPlaylist(pl.songs)}))})\n    } catch (err) {\n        handleError(err, dispatch)\n    }\n}\n\nexport const loadPlaylist = (id, modifiable) => async dispatch => {\n    try {\n        const response = await dicsiDb.get(`/playlists/${id}?format=json`)\n        dispatch({type: LOAD_PLAYLIST, payload: {list: {...response.data, songs: removePlacesFromPlaylist(response.data.songs)}, modifiable}})\n    } catch (err) {\n        handleError(err, dispatch)\n    }\n}\n\nexport const unloadPlaylist = () => {\n    return {type: UNLOAD_PLAYLIST}\n}\n\nexport const recoverState = () => {\n    return { type: RECOVER_STATE }\n}\n","import { NEW_ALERT, REMOVE_ALERT } from './types'\n\nexport const newAlert = (msg, type) => {\n    return {type: NEW_ALERT, payload: {msg, type}}\n}\n\nexport const removeAlert = () => {\n    return {type: REMOVE_ALERT}\n}\n","import React from 'react'\nimport { connect }  from 'react-redux'\nimport _ from 'lodash'\nimport { isMobileOnly } from 'react-device-detect'\nimport { Link } from 'react-router-dom'\n\nimport '../../styles.css'\nimport { sortSongs, onlyUnique, BASE_URL } from '../../util'\n\nimport MyTooltip from '../MyTooltip'\nimport Page from '../Page'\nimport MyLoader from '../MyLoader'\nimport SearchBar from '../SearchBar'\nimport MyButton from '../MyButton'\n\nimport { fetchSongs,  searchSongs, findId, cancelSearch } from '../../actions/songActions'\nimport { addToPlaylist, removeFromPlaylist, playlistNext, stopPlaylist, toggleVisibility } from '../../actions/playlistActions'\nimport { removeAlert } from '../../actions/alertActions'\n\nclass SongList extends React.Component {\n    state = {\n        loaded: false,\n        sortById: true,\n        colors: [],\n    }\n    componentDidMount() {\n        this.props.removeAlert()\n        this.props.fetchSongs()\n        this.props.stopPlaylist()\n    }\n\n    componentDidUpdate() {\n        if (!this.state.loaded && !_.isEmpty(this.props.songs)) {\n            this.setState({ colors: this.props.songs.map(song => song.color).filter(onlyUnique), loaded: true})\n        }\n    }\n\n    addToPlaylist = (event, id) => {\n        event.preventDefault()\n        this.props.addToPlaylist(id)\n        event.stopPropagation()\n    }\n    removeFromPlaylist = (event, id) => {\n        event.preventDefault()\n        this.props.removeFromPlaylist(id)\n        event.stopPropagation()\n    }\n\n    renderSmallButtons = song => {\n        const modifiable = !this.props.playlist.loaded || this.props.signedIn\n        if ((this.props.playlist.visible || isMobileOnly) && modifiable) {\n            return this.props.playlist.songs.includes(song.id) ? (\n                <i\n                    data-tip=\"Eltávolítás a lejátszási listáról\"\n                    className=\"icon bigger-icon minus circle red\"\n                    onClick={(e) => this.removeFromPlaylist(e, song.id)}>\n                </i>\n            ) : (\n                <i\n                    data-tip=\"Hozzáadás a lejátszási listához\"\n                    className=\"icon bigger-icon plus circle green\"\n                    onClick={(e) => this.addToPlaylist(e, song.id)}>\n                </i>\n            )\n        }\n    }\n\n    renderSong = (song, idx) => (\n        <div style={{ backgroundColor: '#' + song.color }} className={`column pointer hover-grey my-bottom-border ${idx % 3 !== 0 && !isMobileOnly ? 'left-border' : ''}`} key={song.id} >\n            <Link to={`${BASE_URL}/songs/${song.id}`} className=\"notLinkStyle\">\n                <div className=\"content right-left\">\n                    <div className='next-to'>\n                        <h3 className=\"force-open-sans header my-header-text\">{song.id}. {song.title}</h3>\n                    </div>\n                    {this.renderSmallButtons(song)}\n                </div>\n            </Link>\n        </div>\n    )\n\n    render() {\n        if (_.isEmpty(this.props.songs) && !this.state.loaded) {\n            return (\n                <MyLoader />\n            )\n        }\n\n        if (!this.state.sortById) {\n            sortSongs(this.props.songs, 'title')\n        } else {\n            sortSongs(this.props.songs, 'id')\n        }\n\n        const { searchList } = this.props\n        let songs = []\n        if (searchList.validSearch) {\n            songs = searchList.list.map((id, idx) => this.renderSong(this.props.songs.find(song => song.id === id), idx))\n        } else {\n            songs = this.props.songs.map((song, idx) => this.renderSong(song, idx))\n        }\n\n        const empty = songs.length === 0 ? <p className=\"big-text centered-text\">Nincs találat!</p> : null\n        return (\n            <Page path={this.props.location.pathname}>\n                <div className=\"ui container\">\n                    <MyTooltip />\n                    <div className={`ui ${isMobileOnly ? '' : 'stackable grid'}`}>\n                        <div className=\"twelve wide column\">\n                            <SearchBar id={this.props.findId} term={this.props.searchSongs} cancel={this.props.cancelSearch} colors={this.state.colors}/>\n                        </div>\n                        <div className=\"four wide column \">\n                            <div className=\"centered-container\">\n                                <MyButton color=\"blue\" onClick={() => this.setState({ sortById: true})} icons={[\"sort numeric down\"]} tip=\"Énekek rendezése sorszám szerint\" disabled={this.state.sortById || this.props.searchList.validSearch}/>\n                                <MyButton color=\"blue\" onClick={() => this.setState({ sortById: false})} icons={[\"sort alphabet down\"]} tip=\"Énekek rendezése cím szerint\" disabled={!this.state.sortById || this.props.searchList.validSearch}/>\n                                <MyButton color=\"green\" onClick={this.props.toggleVisibility} icons={[\"play circle\"]} text=\" Lejátszási lista\"/>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"ui stackable three column grid\">\n                        {songs}\n                    </div>\n                    {empty}\n                </div>\n            </Page>\n        )\n    }\n\n}\n\nconst mapStateToProps = state => {\n    return {\n        songs: Object.values(state.songs),\n        searchList: state.searchList,\n        playlist: state.playlist,\n        signedIn: state.auth.signedIn\n    }\n}\n\nexport default connect(mapStateToProps, {\n    fetchSongs,\n    removeAlert,\n    searchSongs,\n    findId,\n    addToPlaylist,\n    removeFromPlaylist,\n    playlistNext,\n    stopPlaylist,\n    cancelSearch,\n    toggleVisibility\n})(SongList)","import React from 'react'\nimport Alert from '@material-ui/lab/Alert'\nimport { connect } from 'react-redux'\nimport { Button, Modal } from 'semantic-ui-react'\n\nimport '../styles.css'\nimport { removeAlert } from '../actions/alertActions'\nimport { openModal, closeModal } from '../actions/modalActions'\n\nconst MyModal = props => {\n  const alert = props.alert.msg ?\n    <Alert onClose={() => {props.removeAlert()}} severity={props.alert.type} >\n        {props.alert.msg}\n    </Alert>\n    : null\n\n  return (\n    <Modal\n      onClose={props.closeModal}\n      onOpen={() => props.openModal(props.id)}\n      open={props.modal.open && props.modal.id === props.id}\n      trigger={props.generateTrigger()}\n    >\n      <Modal.Header>{props.header}</Modal.Header>\n      <Modal.Content>\n        <Modal.Description>\n            {props.children}\n        </Modal.Description>\n      </Modal.Content>\n      <Modal.Actions>\n        <div className=\"centered\">\n            {alert}\n        </div>\n        <Button onClick={props.closeModal}>\n          {props.closeText}\n        </Button>\n        <Button\n          content={props.approveText}\n          onClick={() => {props.onApprove()}}\n          negative={props.negative}\n          primary={props.primary}\n        />\n      </Modal.Actions>\n    </Modal>\n  )\n}\n\nconst mapStateToProps = state => {\n  return {\n      alert: state.alert,\n      modal: state.modal\n  }\n}\n\nexport default connect(mapStateToProps, {removeAlert, openModal, closeModal})(MyModal)","import { CLOSE_MODAL, OPEN_MODAL } from \"./types\"\n\nexport const openModal = (id) => {\n    return { type: OPEN_MODAL, payload: id }\n}\n\nexport const closeModal = () => {\n    return { type: CLOSE_MODAL }\n}","import React, { useState } from 'react'\nimport { Field, reduxForm } from 'redux-form'\nimport { Link } from 'react-router-dom'\nimport { isMobileOnly } from 'react-device-detect'\n\nimport MyTooltip from '../MyTooltip'\nimport MyModal from './../MyModal'\nimport ColorSelector from './../ColorSelector'\nimport { BASE_URL } from '../../util'\n\nconst renderInput = ({ input, label, meta, type, disabled, wide, tip }) => {\n    return (\n        <div className={`${wide} field ${meta.error && meta.touched ? 'error' : ''}`}>\n            <label>{label}</label>\n            <input {...input} type={type} autoComplete=\"off\" disabled={disabled} data-tip={tip} />\n            {renderError(meta)}\n        </div>\n    )\n}\n\nconst renderColorPicker = ({ type, disabled, val, setter, change }) => (\n    <input value={val} type={type} autoComplete=\"off\" disabled={disabled} id=\"colorPicker\" onChange={(e) => {setter(e.target.value); change('color', e.target.value)}} />\n)\n\nconst renderTextArea = ({ input, label, meta, tip, rows }) => {\n    return (\n        <div className={`field ${meta.error && meta.touched ? 'error' : ''}`}>\n            <label>{label}</label>\n            <textarea className=\"roboto\" {...input} autoComplete=\"off\" data-tip={tip} rows={rows}/>\n            {renderError(meta)}\n        </div>\n    )\n}\n\nconst renderError = ({ error, touched }) => {\n    if (touched && error) {\n        return (\n            <div className=\"ui error message\">\n                <div className=\"header\">\n                    {error}\n                </div>\n            </div>\n        )\n    }\n}\n\nconst SongForm = props => {\n    const onSubmit = formValues => {\n        props.onSubmit(formValues)\n    }\n\n    const buttons = () => {\n        if (!props.edit) {\n            return <button className=\"ui button primary\">Mentés</button>\n        }\n        return (\n            <div className=\"ui segment\">\n                <div className=\"ui two column very relaxed grid\">\n                    <div className=\"column\">\n                        <button className={`ui button primary ${isMobileOnly ? 'my-bigger-button' : ''}`}>Mentés</button>\n                        <Link to={`${BASE_URL}/songs/${props.id}`} className={`ui button grey ${isMobileOnly ? 'my-bigger-button' : ''}`}>Mégse</Link>\n                    </div>\n                    <div className=\"column jobbra\">\n                        <MyModal\n                            header=\"Biztosan törlöd ezt az éneket?\"\n                            generateTrigger={() => <button type=\"button\" className={`ui button negative ${isMobileOnly ? 'my-bigger-button' : ''}`}>Ének törlése</button>}\n                            closeText=\"Mégse\"\n                            approveText=\"Törlés\"\n                            onApprove={props.onDeleteClick}\n                            negative\n                            id={3}\n                        >\n                            {`Biztosan törlöd a(z) ${props.initialValues.title} éneket? Ezt később nem tudod visszavonni!`}\n                        </MyModal>\n                    </div>\n                </div>\n                <div className=\"ui vertical divider\">\n                    vagy\n                </div>\n            </div>\n        )\n    }\n    const [colorOption, setColorOption] = useState(props.initialValues.color ? 'existing' : 'none')\n    const [selectedColorDropdown, setSelectedColorDropdown] = useState(props.initialValues.color ? props.initialValues.color.slice(1) : '')\n    const [selectedColorPicker, setSelectedColorPicker] = useState(props.initialValues.color ? props.initialValues.color : '')\n\n    const renderSecondField = () => {\n        switch(colorOption) {\n            case 'existing': return <Field name='color' component={ColorSelector} colors={props.colors} val={selectedColorDropdown} setter={(v) => {setSelectedColorDropdown(v); props.change('color', '#' + v)}} defaultText=\"Válassz egy színt\" firstDisabled={true} />\n            case 'new': return <Field name=\"color\" component={renderColorPicker} change={props.change} type=\"color\" val={selectedColorPicker} setter={setSelectedColorPicker} />\n            default: return\n        }\n    }\n\n    const changeColorOption = opt => {\n        switch(opt) {\n            case 'existing': props.change('color', '#' + selectedColorDropdown); break\n            case 'new': props.change('color', selectedColorPicker); break\n            default: props.change('color', '')\n        }\n        setColorOption(opt)\n    }\n\n    return (\n        <>\n            <form className=\"ui form error\" onSubmit={props.handleSubmit(onSubmit)}>\n                <MyTooltip />\n                <div className=\"fields\">\n                    <Field wide=\"three wide\" tip=\"Az ének sorszáma. Egyedi, később nem változtatható\" name=\"id\" component={renderInput} label=\"Sorszám\" type=\"number\" props={{ disabled: props.edit}}/>\n                    <Field wide=\"thirteen wide\" name=\"title\" component={renderInput} label=\"Cím\" type=\"text\"/>\n                </div>\n                <label>Szín</label>\n                <div className='fields'>\n                    <div className='three wide field'>\n                        <div className=\"ui form\">\n                            <div className=\"grouped fields\">\n                                <div className=\"field\">\n                                    <div className=\"ui radio checkbox\" >\n                                        <input type=\"radio\" name=\"color\" checked={colorOption === 'none'} id=\"none\" onChange={() => changeColorOption('none')} />\n                                        <label className='pointer' htmlFor=\"none\">Nincs szín</label>\n                                    </div>\n                                </div>\n                                <div className=\"field\">\n                                    <div className=\"ui radio checkbox\">\n                                        <input type=\"radio\" name=\"color\" checked={colorOption === 'existing'} id=\"existing\" onChange={() => changeColorOption('existing')} />\n                                        <label className='pointer' htmlFor=\"existing\">Létező szín</label>\n                                    </div>\n                                </div>\n                                <div className=\"field\">\n                                    <div className=\"ui radio checkbox\">\n                                        <input type=\"radio\" name=\"color\" checked={colorOption === 'new'} id=\"new\" onChange={() => changeColorOption('new')} />\n                                        <label className='pointer' htmlFor=\"new\">Új szín</label>\n                                    </div>\n                                </div>\n\n                            </div>\n                        </div>\n\n                    </div>\n                    <div className='thirteen wide field'>\n                        {renderSecondField()}\n                    </div>\n                </div>\n                <Field tip=\"Az alkalmazás dupla sorközöknél bontja versszakokra a szöveget.\" rows={10} name=\"lyrics\" component={renderTextArea} label=\"Dalszöveg\"/>\n                <Field name=\"desc\" component={renderTextArea} label=\"Megjegyzés (opcionális)\" rows={2}/>\n                {buttons()}\n            </form>\n            {props.children}\n        </>\n    )\n}\n\nconst validate = formValues => {\n    const errors = {}\n    if (!formValues.id) {\n        errors.id = 'Add meg az ének sorszámát!'\n    }\n    if (!formValues.title) {\n        errors.title = 'Add meg az ének címét!'\n    }\n    if (!formValues.lyrics) {\n        errors.lyrics = 'Add meg a dalszöveget!'\n    }\n    return errors\n}\n\nexport default reduxForm({\n    form: 'songForm',\n    validate\n})(SongForm)","import React from 'react'\nimport { connect } from 'react-redux'\nimport _ from 'lodash'\n\nimport SongForm from './SongForm'\nimport MyLoader from '../MyLoader'\n\nimport { createSong, fetchSongs } from '../../actions/songActions'\nimport { stopPlaylist, toggleVisibility,  } from '../../actions/playlistActions'\nimport { onlyUnique } from '../../util'\n\nclass SongCreate extends React.Component {\n    state = {\n        loaded: false,\n        colors: [],\n    }\n\n    componentDidMount() {\n        this.props.fetchSongs()\n        this.props.stopPlaylist()\n        if (this.props.plVisible) {\n            this.props.toggleVisibility()\n        }\n    }\n\n    componentDidUpdate() {\n        if (!this.state.loaded && !_.isEmpty(this.props.songs)) {\n            this.setState({ loaded: true, colors: this.props.songs.map(song => song.color).filter(onlyUnique)})\n        }\n    }\n\n    render() {\n        if (this.props.biggestID > 0) {\n            return (\n                <div className=\"ui container\">\n                    <h2 className=\"ui header\">\n                        Új ének felvétele\n                    </h2>\n                    <SongForm onSubmit={this.props.createSong} initialValues={{ id: this.props.biggestID + 1}} colors={this.state.colors}/>\n                </div>\n            )\n        } else {\n            return <MyLoader />\n        }\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        plVisible: state.playlist.visible,\n        biggestID: Math.max(...Object.values(state.songs).map(song => song.id)),\n        songs: Object.values(state.songs),\n    }\n}\n\nexport default connect(mapStateToProps, { createSong, stopPlaylist, toggleVisibility, fetchSongs })(SongCreate)","import React from 'react'\nimport { connect } from 'react-redux'\n\nimport SongForm from './SongForm'\n\nimport { editSong, fetchSongs, fetchSong, deleteSong } from '../../actions/songActions'\nimport { stopPlaylist, toggleVisibility } from '../../actions/playlistActions'\nimport MyLoader from '../MyLoader'\nimport { onlyUnique } from '../../util'\n\n\nclass SongEdit extends React.Component {\n    state = {\n        loaded: false,\n        colors: [],\n    }\n\n    componentDidMount() {\n        this.props.fetchSong(this.props.match.params.id)\n        this.props.fetchSongs()\n        this.props.stopPlaylist()\n        if (this.props.plVisible) {\n            this.props.toggleVisibility()\n        }\n    }\n\n    componentDidUpdate() {\n        if (!this.state.loaded && this.props.songs.length > 1) {\n            this.setState({ loaded: true, colors: this.props.songs.map(song => song.color).filter(onlyUnique)})\n        }\n    }\n\n    render() {\n        if (!this.props.song) {\n            return <MyLoader />\n        }\n        const song = this.props.song\n        return (\n            <div className=\"ui container\">\n                <h2 className=\"ui header\">\n                    Ének szerkesztése\n                </h2>\n                <SongForm\n                    onSubmit={(formValues) => this.props.editSong(this.props.match.params.id, formValues)}\n                    initialValues={{id: song.id, title: song.title, lyrics: song.verses.join('\\n\\n'), desc: song.desc, color: song.color ? '#' + song.color : ''}}\n                    edit id={song.id} onDeleteClick={() => this.props.deleteSong(parseInt(this.props.match.params.id))} colors={this.state.colors}\n                />\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        song: state.songs[ownProps.match.params.id],\n        songs: Object.values(state.songs),\n        plVisible: state.playlist.visible,\n    }\n}\n\nexport default connect(mapStateToProps, { editSong, fetchSongs, fetchSong, stopPlaylist, toggleVisibility, deleteSong })(SongEdit)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\nimport { isMobileOnly } from 'react-device-detect'\n\nimport '../../styles.css'\n\nimport { fetchSong } from '../../actions/songActions'\nimport { addToPlaylist, toggleVisibility } from '../../actions/playlistActions'\nimport { removeAlert } from '../../actions/alertActions'\nimport { transposeSong } from '../../actions/transposeActions'\n\nimport MyLoader from '../MyLoader'\nimport MyButton from '../MyButton'\nimport Page from '../Page'\nimport MyTooltip from '../MyTooltip'\nimport { BASE_URL, mod } from '../../util'\n\nconst SMALL_FONT_SIZE = 18\nconst BIG_FONT_SIZE = 60\nconst NOTES = ['C', 'C#', 'D', 'Eb', 'E', 'F', 'F#', 'G', 'G#', 'A', 'Bb', 'H']\n\nclass SongShow extends React.Component {\n    state = {\n        fontSize: SMALL_FONT_SIZE,\n        deleteModalActive: false,\n        deletePassword: '',\n        oneVerseModeActive: false,\n        currentVerse: 0,\n        showButtons: !isMobileOnly,\n        twoColumnMode: false,\n        showDesc: false,\n    }\n\n    componentDidMount() {\n        this.props.removeAlert()\n        this.props.fetchSong(this.props.match.params.id)\n    }\n\n    componentDidUpdate(prevProps) {\n        if (prevProps.song && this.props.song) {\n            if (prevProps.song.id !== this.props.song.id) {\n                this.setState({ currentVerse: 0})\n            }\n        }\n    }\n\n    handleKeyDown = (e) => {\n        switch(e.code) {\n            case 'ArrowRight':\n                this.handleVerseChange(true)\n                break\n            case 'ArrowLeft':\n                this.handleVerseChange(false)\n                break\n            default:\n        }\n    }\n\n    onSizeChange = (increase) => {\n        if (increase && this.state.fontSize < 70) {\n            this.setState({fontSize: this.state.fontSize + 3})\n        } else if (!increase && this.state.fontSize > 8) {\n            this.setState({fontSize: this.state.fontSize - 3})\n        }\n    }\n\n    onTune = (offset) => {\n        this.props.transposeSong(this.props.song.id, mod((this.props.transposeOffset + offset), NOTES.length))\n    }\n\n    resetTune = () => {\n        this.props.transposeSong(this.props.song.id, 0)\n    }\n\n    onDescChange = () => {\n        this.setState({ showDesc: !this.state.showDesc})\n    }\n\n    handleModeSwitch = () => {\n        if (this.state.oneVerseModeActive) {\n            this.setState({oneVerseModeActive: false, fontSize: SMALL_FONT_SIZE})\n        } else {\n            this.setState({oneVerseModeActive: true, fontSize: BIG_FONT_SIZE})\n        }\n    }\n\n    handleVerseChange = forward => {\n        if (forward) {\n            this.setState({currentVerse: (this.state.currentVerse + 1) % this.props.song.verses.length})\n        } else {\n            if (this.state.currentVerse === 0) {\n                this.setState({currentVerse: (this.props.song.verses.length - 1)})\n            } else {\n                this.setState({currentVerse: (this.state.currentVerse - 1) % this.props.song.verses.length})\n            }\n        }\n    }\n\n    handleFontSizeReset = () => {\n        if (this.state.oneVerseModeActive) {\n            this.setState({ fontSize: BIG_FONT_SIZE })\n        } else {\n            this.setState({ fontSize: SMALL_FONT_SIZE })\n        }\n    }\n\n    onPlaylistAdd = () => {\n        this.props.addToPlaylist(parseInt(this.props.match.params.id))\n        if (!this.props.plVisible) {\n            this.props.toggleVisibility()\n        }\n    }\n\n    renderLine = (line, idx) => {\n        const numberOfSpaces = (line.match(/ {3}/g) || []).length\n        if (numberOfSpaces === 0) {\n            return <span key={idx}>{line}<br/></span>\n        }\n        if (this.props.transposeOffset === 0) {\n            return <span className=\"blue\" key={idx}>{line}<br/></span>\n        }\n        let newLine = ''\n        let i = 0\n        let skipSpace = false\n        while (i < line.length) {\n            if (/^[A-Z]$/.test(line[i])) {\n                let note = line[i]\n                if (line[i + 1] === '#' || line[i + 1] === 'b') {\n                    note = line[i] + line[i + 1]\n                    i++\n                }\n                const newNote = NOTES[mod((NOTES.indexOf(note) + this.props.transposeOffset), NOTES.length)]\n                if (newNote.length > 1) {\n                    skipSpace = true\n                } else {\n                    skipSpace = false\n                }\n                newLine = newLine + newNote\n                i++\n            } else {\n                if (line[i] === ' ' && skipSpace){\n                    skipSpace = false\n                } else {\n                    newLine = newLine + line[i]\n                }\n                i++\n            }\n        }\n        return <span className=\"blue\" key={idx}>{newLine}<br/></span>\n    }\n\n    renderVerse = (verse, idx) => {\n        const lines = verse.split('\\n').map((line, idx) => this.renderLine(line, idx))\n        return (\n            <p style={{fontSize: `${this.state.fontSize}px`}} className=\"my-p\" key={idx}>\n                {lines}\n            </p>\n        )\n    }\n\n    renderTransposeButtons = () => (\n    <>\n        <div className=\"next-to\">\n            <MyButton tip=\"Transzponálás -\" color=\"orange\" onClick={() => this.onTune(-1)} icons={[\"music note\", \"arrow down\" ]} />\n            <MyButton tip=\"Transzponálás +\" color=\"orange\" onClick={() => this.onTune(1)} icons={[\"music note\", \"arrow up\" ]} />\n            <MyButton tip=\"Transzponálás visszaállítása\" color=\"orange\" onClick={() => this.resetTune()} icons={[\"music note\", \"undo\" ]} />\n        </div>\n        {this.props.transposeOffset !== 0 && <p>Transzponálás: {this.props.transposeOffset > NOTES.length / 2 ? -(NOTES.length - this.props.transposeOffset) : this.props.transposeOffset}</p>}\n    </>\n    )\n\n    renderVerses = () => {\n        if (!this.state.oneVerseModeActive) {\n            if (this.state.twoColumnMode) {\n                const firstColumn = this.props.song.verses.map((verse, idx) => {\n                    if (idx + 1 <= Math.ceil(this.props.song.verses.length / 2)) {\n                        return this.renderVerse(verse, idx)\n                    } else {\n                        return null\n                    }\n                })\n                const secondColumn = this.props.song.verses.map((verse, idx) => {\n                    if (idx + 1 > Math.ceil(this.props.song.verses.length / 2)) {\n                        return this.renderVerse(verse, idx)\n                    } else {\n                        return null\n                    }\n                })\n                return (\n                    <>\n                        <div className=\"ui container grid nowrap roboto\">\n                            <div className=\"eight wide column\">\n                                {firstColumn}\n                            </div>\n                            <div className=\"eight wide column nowrap roboto\">\n                                {secondColumn}\n                            </div>\n                        </div>\n                        {this.renderTransposeButtons()}\n                    </>\n\n                )\n            } else {\n                return (\n                    <>\n                        <div className=\"ui container nowrap roboto\"> {this.props.song.verses.map((verse, idx) => {\n                            return this.renderVerse(verse, idx)\n                        })}\n                        </div>\n                        {this.renderTransposeButtons()}\n                    </>\n\n                )\n            }\n        }\n        if (!this.props.song.verses[this.state.currentVerse]) {\n            return <MyLoader />\n        }\n        const lines = this.props.song.verses[this.state.currentVerse].split('\\n').map((line, idx) => this.renderLine(line, idx))\n        return (\n            <div>\n                <p style={{fontSize: `${this.state.fontSize}px`}}>\n                    {lines}\n                </p>\n            </div>\n        )\n\n    }\n\n    renderButtons = () => {\n        const editButton = this.props.signedIn ? <Link data-tip=\"Ének szerkeztése vagy törlése\" className=\"ui button my-button icon yellow\" to={`${BASE_URL}/songs/edit/${this.props.match.params.id}`}><i className=\"icon edit\"></i></Link> : null\n        const descButton = this.props.song.desc ? <MyButton tip=\"Megjegyzés megjelenítése\" color=\"olive\" onClick={() => this.onDescChange()} icons={[\"sticky note outline\" ]} /> : null\n        const desktopButton = !isMobileOnly && this.state.showButtons ? /*(\n            <>\n                <MyButton tip=\"Előző versszak\" disabled={!this.state.oneVerseModeActive} color=\"teal\" onClick={() => this.handleVerseChange(false)} icons={[\" step backward icon\" ]} />\n                <MyButton tip=\"Egyversszak mód be- és kikapcsolása\" color=\"green\" onClick={this.handleModeSwitch} icons={[\"play\" ]} />\n                <MyButton tip=\"Következő vesszak\" disabled={!this.state.oneVerseModeActive} color=\"teal\" onClick={() => this.handleVerseChange(true)} icons={[\" step forward icon\" ]} />\n                <MyButton tip=\"Betűméret visszaállítása\" color=\"primary\" onClick={this.handleFontSizeReset} icons={[\"font\", \"undo\" ]} />\n            </>\n        )*/null : null\n        const optionalButtons = this.state.showButtons ? (\n            <>\n                <Link data-tip=\"Vissza a kereséshez\" className=\"ui button my-button icon grey\" to={BASE_URL}><i className=\"icon search\"></i></Link>\n                {editButton}\n                <MyButton tip={`${this.state.twoColumnMode ? \"Egy\" : \"Két\"} hasáb`} color=\"primary\" onClick={() => this.setState({twoColumnMode: !this.state.twoColumnMode})} disabled={this.state.oneVerseModeActive} icons={[`${this.state.twoColumnMode ? 'align justify' : 'columns'}`]} />\n                {descButton}\n                <MyButton tip=\"Betűméret csökkentése\" color=\"primary\" onClick={() => this.onSizeChange(false)} icons={[\"font\", \"arrow down\" ]} />\n                <MyButton tip=\"Betűméret növelése\" color=\"primary\" onClick={() => this.onSizeChange(true)} icons={[\"font\", \"arrow up \" ]} />\n                <MyButton tip=\"Hozzáadás a lejátszási listához\" color=\"green\" onClick={this.onPlaylistAdd } icons={[\"plus\" ]} />\n                <MyButton color=\"green\" onClick={this.props.toggleVisibility} icons={[\"play circle\"]} text=\" Lejátszási lista\"/>\n            </>\n        ) : null\n        return (\n            <>\n                {optionalButtons}\n                {desktopButton}\n            </>\n        )\n    }\n\n    renderTitle = () => {\n        if (isMobileOnly) {\n            return (\n                <>\n                    {this.renderButtons()}\n                    <div className=\"right-left\">\n                        <div>\n                            <h2 className=\"force-open-sans vert-centered\">{this.props.song.id}. {this.props.song.title} </h2>\n                            <div style={{marginLeft:'10px', height: '30px', width: '30px', borderRadius: '100%', backgroundColor: '#' + this.props.song.color}}></div>\n                        </div>\n                        <MyButton color=\"gray\" onClick={()=>this.setState({showButtons: !this.state.showButtons})} icons={[\"bars\"]} tip=\"Gombok elrejtése/előhozása\"/>\n                    </div>\n                    <div className=\"ui divider\"></div>\n                </>\n            )\n        }\n        return (\n            <>\n                <div className=\"right-left m-top\">\n                <div className='next-to'>\n                            <h2 className=\"force-open-sans vert-centered\">{this.props.song.id}. {this.props.song.title} </h2>\n                            <div style={{marginLeft:'10px', height: '30px', width: '30px', borderRadius: '100%', backgroundColor: '#' + this.props.song.color}}></div>\n                        </div>\n                    <h2 className=\"force-open-sans vert-centered\">{this.state.oneVerseModeActive ? `${this.state.currentVerse + 1}/${this.props.song.verses.length}` : ''}</h2>\n                    <div>\n                        <MyButton color=\"gray\" onClick={()=>this.setState({showButtons: !this.state.showButtons})} icons={[\"bars\"]} tip=\"Gombok elrejtése/előhozása\"/>\n                        {this.renderButtons()}\n                    </div>\n                </div>\n                <div className=\"ui divider\"></div>\n            </>\n\n        )\n    }\n\n\n    renderDesc = () => {\n        const lines = this.props.song.desc.split('\\n').map((line, idx) => <span key={idx}>{line}<br/></span>)\n        return this.state.showDesc ? (\n                <div className=\"comment\">\n                    <div className=\"right-left\">\n                        <h3>Megjegyzések</h3>\n                        <i className=\"red icon close pointer\" onClick={() => this.setState({showDesc: false})}></i>\n                    </div>\n                    <p>{lines}</p>\n                </div>\n            ) : null\n    }\n\n    render() {\n        if (this.props.song) {\n            return (\n                <Page path={this.props.location.pathname}>\n                    <MyTooltip />\n                    <div className=\"ui container\" onKeyDown={this.handleKeyDown}>\n                            {this.renderTitle()}\n                            {this.renderVerses()}\n                            {this.renderDesc()}\n                    </div>\n                </Page>\n            )\n        }\n        return <MyLoader />\n    }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n    return {\n        song: state.songs[ownProps.match.params.id],\n        plVisible: state.playlist.visible,\n        signedIn: state.auth.signedIn,\n        transposeOffset: state.transpose[ownProps.match.params.id] || 0\n    }\n}\n\nexport default connect(mapStateToProps, { fetchSong, removeAlert, addToPlaylist, toggleVisibility, transposeSong })(SongShow)","import { TRANSPOSE_SONG } from \"./types\"\r\n\r\nexport const transposeSong = (songId, offset) => {\r\n    return { type: TRANSPOSE_SONG, payload: {songId, offset} }\r\n}\r\n","import { db, dicsiDb } from '../api'\nimport history from '../history'\nimport { BASE_URL, handleError } from '../util'\nimport { LOGIN, LOGOUT } from './types'\nimport { Cookies } from 'react-cookie'\n\nconst cookieOptions = {\n    path: BASE_URL,\n    maxAge: 12*31*24*60*60\n}\n\nexport const login = ({ username, password }) => async dispatch => {\n    try {\n        const zeneszResponse = await db.post('/api-token-auth/', { username, password })\n        const dicsiResponse = await dicsiDb.post('/api-token-auth/', { username, password })\n        dispatch({ type: LOGIN, payload: {dicsi: dicsiResponse.data.token, zenesz: zeneszResponse.data.token }})\n        const cookieManager = new Cookies()\n        cookieManager.set('dicsiToken', dicsiResponse.data.token, cookieOptions)\n        cookieManager.set('zeneszToken', zeneszResponse.data.token, cookieOptions)\n        history.goBack()\n    } catch (err) {\n        handleError(err, dispatch)\n    }\n}\n\nexport const loginFromCookie = (dicsiToken, zeneszToken) => {\n    return { type: LOGIN, payload: {dicsi: dicsiToken, zenesz: zeneszToken } }\n}\n\nexport const logout = () => {\n    const cookieManager = new Cookies()\n    cookieManager.remove('dicsiToken', cookieOptions)\n    cookieManager.remove('zeneszToken', cookieOptions)\n    return { type: LOGOUT }\n}","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Field, reduxForm } from 'redux-form'\n\nimport { login } from '../../actions/authActions'\n\nconst renderInput = ({ input, label, meta, type }) => {\n    return (\n        <div className={`field ${meta.error && meta.touched ? 'error' : ''}`}>\n            <label>{label}</label>\n            <input {...input} type={type} autoComplete=\"off\" />\n            {renderError(meta)}\n        </div>\n    )\n}\n\nconst renderError = ({ error, touched }) => {\n    if (touched && error) {\n        return (\n            <div className=\"ui error message\">\n                <div className=\"header\">\n                    {error}\n                </div>\n            </div>\n        )\n    }\n}\n\nconst Login = (props) => {\n\n    const onSubmit = (formValues) => {\n        props.login(formValues)\n    }\n\n    return (\n        <div className=\"ui container\">\n            <form className=\"ui form error\" onSubmit={props.handleSubmit(onSubmit)}>\n                <Field name=\"username\" component={renderInput} label=\"Felhasználónév\" type=\"text\" />\n                <Field name=\"password\" component={renderInput} label=\"Jelszó\" type=\"password\"/>\n                <button className=\"ui button primary\">Bejelentkezés</button>\n            </form>\n        </div>\n\n    )\n}\n\nconst validate = formValues => {\n    const errors = {}\n    if (!formValues.username) {\n        errors.username = 'Add meg a felhasználónevet!'\n    }\n    if (!formValues.password) {\n        errors.password = 'Add meg a jelszót!'\n    }\n    return errors\n}\n\nexport default reduxForm({\n    form: 'authForm',\n    validate\n})(connect(null, { login })(Login))","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Link } from 'react-router-dom'\n\nimport { moveInPlaylist, removeFromPlaylist, playlistStep } from '../actions/playlistActions'\nimport { BASE_URL } from '../util'\n\nconst PlaylistItem = props => {\n    const upDisabled = props.idx === 0\n    const downDisabled = props.idx === props.length - 1\n    const handleClick = () => {\n        if (props.playlist) {\n            props.playlistStep(props.idx)\n        }\n    }\n\n    if (props.song) {\n        return (\n            <div className={`item my-item ${props.currentIndex === props.idx ? 'activeInPlaylist' : ''}`}>\n                <h5 className=\"header\">\n                    {!props.unmodifiable && (\n                        <>\n                            <i className={`${upDisabled ? 'grey' : 'pointer'} icon caret up bigger-icon`} onClick={() => props.moveInPlaylist(props.idx, true, props.playlistId)}></i>\n                            <i className={`${downDisabled ? 'grey' : 'pointer'} icon caret down bigger-icon`} onClick={() => props.moveInPlaylist(props.idx, false, props.playlistId)}></i>\n                        </>\n                    )}\n                    <Link to={`${BASE_URL}/songs/${props.song.id}`} onClick={handleClick} className=\"notLinkStyle pointer\">{props.song.id}. {props.song.title}</Link>\n\n                    {!props.unmodifiable && (\n                        <div className=\"right floated\">\n                            <i className=\"icon minus circle red pointer\" onClick={() => props.removeFromPlaylist(props.song.id, props.playlistId)}></i>\n                        </div>\n                    )}\n                </h5>\n            </div>\n        )\n    } else {\n        return (\n            <div className={'item my-item redBackground'}>\n                Ez a dal a zenészben nem található!\n            </div>\n        )\n    }\n\n\n}\n\nexport default connect(null, {moveInPlaylist, removeFromPlaylist, playlistStep})(PlaylistItem)","import React from 'react'\nimport { connect } from 'react-redux'\nimport { Accordion, Icon } from 'semantic-ui-react'\nimport _ from 'lodash'\nimport { isMobileOnly } from 'react-device-detect'\n\nimport { fetchSongs } from '../../actions/songActions'\nimport { fetchPlaylists, loadPlaylist, clearPlaylist } from '../../actions/playlistActions'\nimport MyLoader from '../MyLoader'\nimport MyTooltip from '../MyTooltip'\nimport Page from '../Page'\nimport MyModal from '../MyModal'\nimport PlaylistItem from '../PlaylistItem'\nimport MyButton from '../MyButton'\nimport { newAlert } from '../../actions/alertActions'\nimport { DICSI_FULL_URL } from '../../util'\n\nclass PlaylistList extends React.Component {\n    state = {\n        activePlaylist: -1,\n    }\n\n    componentDidMount() {\n        this.props.fetchSongs()\n        this.props.fetchPlaylists()\n    }\n\n    handleClick(idx) {\n        this.setState({ activePlaylist: this.state.activePlaylist === idx ? -1 : idx })\n    }\n\n    copyLink(id) {\n        navigator.clipboard.writeText(`${DICSI_FULL_URL}/playlists/${id}`)\n        this.props.newAlert('A lejátszási lista linkje a vágólapra másolva', 'success')\n    }\n\n    generateDateAdded(date) {\n        return (\n            <p>Létrehozva: {new Date(Date.parse(date)).toLocaleDateString('hu-HU')}</p>\n        )\n    }\n\n    render() {\n        if (this.props.playlistList.loaded) {\n            return (\n                <Page path={this.props.location.pathname}>\n                    <div className=\"ui container\">\n                        <MyTooltip />\n                        <h2>Lejátszási listák</h2>\n                        {(this.props.playlistList.list && this.props.playlistList.list.length > 0 && !_.isEmpty(this.props.songs)) ? (\n                        <Accordion fluid styled>\n                            {this.props.playlistList.list.map(playlist => (\n                                <div key={playlist.id}>\n                                    <Accordion.Title\n                                        active={this.state.activePlaylist === playlist.id}\n                                        onClick={() => this.handleClick(playlist.id)}\n                                    >\n                                        <div className='right-left'>\n                                            <h3>\n                                                <Icon name='dropdown' />\n                                                {playlist.name}\n                                            </h3>\n                                            { !isMobileOnly && this.generateDateAdded(playlist.created_at) }\n                                        </div>\n                                    </Accordion.Title>\n                                    <Accordion.Content active={this.state.activePlaylist === playlist.id}>\n                                        { isMobileOnly && this.generateDateAdded(playlist.created_at) }\n                                        <MyButton tip=\"Betöltés\" color=\"green\" onClick={() => this.props.loadPlaylist(playlist.id, true)} icons={[\"play circle\"]} />\n                                        <MyButton tip=\"Megosztás\" color=\"purple\" onClick={() => this.copyLink(playlist.id)} icons={[\"share alternate\"]} />\n                                        <MyButton tip=\"Duplikálás\" color=\"blue\" onClick={() => this.props.loadPlaylist(playlist.id, false)} icons={[\"copy\"]} />\n                                        {this.props.signedIn && (\n                                            <MyModal\n                                                header=\"Biztosan törlöd a lejátszási listát?\"\n                                                generateTrigger={() => <MyButton tip=\"Törlés\" color=\"red\" icons={[\"trash alternate\"]} />}\n                                                closeText=\"Mégse\"\n                                                approveText=\"Törlés\"\n                                                onApprove={() => this.props.clearPlaylist(playlist.id)}\n                                                negative\n                                                id={playlist.id}\n                                            >\n                                                Biztosan törlöd a lejátszási listát az adatbázisból? Ezt később nem tudod visszavonni!\n                                            </MyModal>\n                                        )}\n                                        <div className=\"ui relaxed divided ordered list\">\n                                            {playlist.songs.length > 0 ? playlist.songs.map((songId, idx) => (\n                                                <PlaylistItem key={idx} song={this.props.songs[songId]} idx={idx} length={playlist.songs.length} unmodifiable={!this.props.signedIn} playlistId={playlist.id} />\n                                            )) : <p className=\"centered-text\">A lejátszási lista üres</p>}\n                                        </div>\n                                    </Accordion.Content>\n                                </div>\n                            ))}\n                        </Accordion>\n                        ) : (\n                            <p className=\"big-text centered-text\">Nincs találat!</p>\n                        )}\n                    </div>\n                </Page>\n            )\n        }\n        return <MyLoader />\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        songs: state.songs,\n        playlistList: state.playlistList,\n        signedIn: state.auth.signedIn,\n    }\n}\n\nexport default connect(mapStateToProps, {fetchPlaylists, fetchSongs, loadPlaylist, newAlert, clearPlaylist})(PlaylistList)","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { connect } from 'react-redux'\n\nimport '../styles.css'\nimport { logout } from '../actions/authActions'\nimport { BASE_URL } from '../util'\n\nconst Footer = (props) => {\n\n    const authLink = props.signedIn\n    // eslint-disable-next-line\n    ? <a className=\"header-link pointer\" onClick={() => props.logout()}>Kijelentkezés</a>\n    : <Link to={`${BASE_URL}/login`} className=\"header-link centered-text\">Admin bejelentkezés</Link>\n\n    return (\n        <div className=\"footer-container centered-container two-column small-text\">\n            <p className=\"centered-text\">Készítette: Fekete Sámuel&nbsp;\n            <a target=\"_blank\" rel=\"noreferrer\" href=\"https://github.com/Tschonti/zenesz-frontend\"><i aria-label=\"Forráskód a Github-on\" className=\"icon github\"></i></a><br/>&nbsp;az&nbsp;\n            <a target=\"_blank\" rel=\"noreferrer\" href=\"https://okgy.hu/\">Örömhír Keresztény Gyülekezet</a> számára</p>\n            {authLink}\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return { signedIn: state.auth.signedIn }\n}\n\nexport default connect(mapStateToProps, { logout })(Footer)","import React, { useState } from 'react'\nimport { Link } from 'react-router-dom'\nimport Alert from '@material-ui/lab/Alert'\nimport { connect } from 'react-redux'\nimport { isMobileOnly } from 'react-device-detect'\n\nimport '../styles.css'\nimport { removeAlert } from '../actions/alertActions'\nimport { logout } from '../actions/authActions'\nimport { BASE_URL } from '../util'\n\n\nconst Header = (props) => {\n    const [menuOpen, setMenuOpen] = useState(false)\n    const alert = props.alert.msg ?\n        <Alert onClose={() => {props.removeAlert()}} severity={props.alert.type} >\n            {props.alert.msg}\n        </Alert>\n        : null\n        const authLink = props.signedIn\n        ? <p className=\"item header-link\" onClick={() => {props.logout();setMenuOpen(!menuOpen)}}>Kijelentkezés</p>\n        : <Link to={`${BASE_URL}/login`} className=\"item header-link\" onClick={() => setMenuOpen(!menuOpen)}>Admin bejelentkezés</Link>\n\n    const newSong = props.signedIn ? <Link to={`${BASE_URL}/songs/new`} className=\"item header-link\" onClick={() => setMenuOpen(false)}>Új ének</Link> : null\n\n    if (isMobileOnly) {\n        return (\n            <div className=\"ui secondary vertical menu my-mobile-header\">\n                <div className=\"right-left\">\n                    <Link to={`${BASE_URL}`} className=\"item\" onClick={() => setMenuOpen(false)}>\n                        <h2 className=\"force-open-sans\">ÖKGY akkordos dicsik</h2>\n                    </Link>\n                    <div className='vert-centered'>\n                        <i className=\"icon bars\" onClick={() => setMenuOpen(!menuOpen)}></i>\n                    </div>\n                </div>\n                {menuOpen && (\n                    <div >\n                        <Link to={`${BASE_URL}`} className=\"item header-link\" onClick={() => setMenuOpen(false)}>Énekek listája</Link>\n                        {newSong}\n                        <Link to={`${BASE_URL}/playlists`} className=\"item header-link\" onClick={() => setMenuOpen(false)}>Lejátszási listák</Link>\n                        {authLink}\n                    </div>\n                )}\n                <div className=\"centered\">\n                    {alert}\n                </div>\n            </div>\n        )\n    }\n    return (\n        <div className=\"ui secondary pointing menu my-header\">\n            <Link to={`${BASE_URL}`} className=\"item \">\n                <h2 className=\"force-open-sans\">ÖKGY akkordos dicsik</h2>\n            </Link>\n            <Link to={`${BASE_URL}`} className=\"item header-link\">Énekek listája</Link>\n            {newSong}\n            <Link to={`${BASE_URL}/playlists`} className=\"item header-link\">Lejátszási listák</Link>\n            <div className=\"centered\">\n                {alert}\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        alert: state.alert,\n        signedIn: state.auth.signedIn\n    }\n}\n\nexport default connect(mapStateToProps, { removeAlert, logout })(Header)","import React from 'react'\nimport { Field, reduxForm } from 'redux-form'\n\nimport MyButton from './MyButton'\nimport MyModal from './MyModal'\n\nconst renderInput = ({ input, label, meta, type }) => {\n    return (\n        <div className={`${meta.error && meta.touched ? 'error' : ''}`}>\n            <label>{label}</label>\n            <input {...input} type={type} autoComplete=\"off\" />\n            {renderError(meta)}\n        </div>\n    )\n}\n\nconst renderError = ({ error, touched }) => {\n    if (touched && error) {\n        return (\n            <div className=\"ui error message\">\n                <div className=\"header\">\n                    {error}\n                </div>\n            </div>\n        )\n    }\n}\n\nconst PlaylistForm = props => {\n    const onSubmit = formValues => {\n        props.onSubmit(formValues)\n    }\n\n    return (\n        <MyModal\n            header=\"Lejátszási lista mentése\"\n            generateTrigger={() => <MyButton disabled={props.disabled} tip=\"Lejátszási lista mentése\" color=\"purple\" icons={[\"save\"]} />}\n            closeText={'Mégse'}\n            approveText={'Mentés'}\n            onApprove={props.handleSubmit(onSubmit)}\n            primary\n            id={2}\n        >\n            <form className=\"ui form error\" onSubmit={props.handleSubmit(onSubmit)}>\n                <Field label=\"Lejátszási lista neve\" name=\"name\" type=\"text\" component={renderInput} />\n            </form>\n        </MyModal>\n    )\n\n}\n\nconst validate = formValues => {\n    const errors = {}\n    if (!formValues.name) {\n        errors.name = 'Add meg a lejátszási lista nevét!'\n    }\n    return errors\n}\n\nexport default reduxForm({\n    form: 'playlistForm',\n    validate\n})(PlaylistForm)","import React from 'react'\nimport { connect }  from 'react-redux'\nimport _ from 'lodash'\n\nimport { fetchSongs } from '../actions/songActions'\nimport {\n    playlistNext,\n    startPlaylist,\n    clearPlaylist,\n    removeFromPlaylist,\n    toggleVisibility,\n    moveInPlaylist,\n    savePlaylist,\n    unloadPlaylist,\n} from '../actions/playlistActions'\nimport { newAlert } from '../actions/alertActions'\n\nimport MyButton from './MyButton'\nimport MyTooltip from './MyTooltip'\nimport MyModal from './MyModal'\nimport PlaylistItem from './PlaylistItem'\nimport PlaylistForm from './PlaylistForm'\nimport { DICSI_FULL_URL } from '../util'\n\nclass Playlist extends React.Component {\n    state = {\n        open: true,\n    }\n\n    componentDidMount() {\n        this.props.fetchSongs()\n    }\n\n    renderSongList = (modifiable) => {\n        if (_.isEmpty(this.props.songs) || !this.state.open || !this.props.playlist.songs) {\n            return null\n        }\n        const list = this.props.playlist.songs.map((songId, idx) => {\n            const song = this.props.songs.find(el => el.id === songId)\n            return <PlaylistItem key={idx} song={song} idx={idx} length={this.props.playlist.songs.length} currentIndex={this.props.playlist.currentIndex} unmodifiable={!modifiable} playlist playlistId={this.props.playlist.loaded} />\n        })\n\n        const empty = list.length > 0 ? '' : (<p className=\"centered-text\">A lejátszási lista üres</p>)\n        return (\n            <>\n                <div className=\"ui relaxed divided ordered list\">\n                    {list}\n                </div>\n                {empty}\n            </>\n        )\n    }\n\n    onClose = (e) => {\n        this.props.toggleVisibility()\n        e.stopPropagation()\n    }\n\n    copyLink(id) {\n        navigator.clipboard.writeText(`${DICSI_FULL_URL}/playlists/${id}`)\n        this.props.newAlert('A lejátszási lista linkje a vágólapra másolva', 'success')\n    }\n\n    render() {\n        //TODO dupla tool-tip\n        if (!this.props.playlist.visible || !this.props.playlist.songs) {\n            return null\n        }\n\n        const currentIndex = this.props.playlist.songs.length === 0 ? 0 : this.props.playlist.currentIndex + 1\n        const extraButtons = this.state.open ? (\n            <div className=\"right-left pointer\" onClick={() => this.setState({open: !this.state.open})}>\n                <i className={`icon ${this.state.open ? 'minus' : 'plus'}`}></i>\n                <i className=\"red icon close\" onClick={this.onClose}></i>\n            </div>\n        ) : null\n        const modifiable = !this.props.playlist.loaded || this.props.signedIn\n        return (\n            <>\n                <div className=\"playlist-container\">\n                    <MyTooltip />\n                    <div className=\"right-left pointer\" onClick={() => this.setState({open: !this.state.open})}>\n                        <h3>{this.props.playlist.loaded ? this.props.playlist.loadedName : 'Lejátszási lista'} {`${currentIndex}/${this.props.playlist.songs.length}`}</h3>\n                        <div>\n                            <i className={`icon ${this.state.open ? 'minus' : 'plus'}`}></i>&nbsp;&nbsp;\n                            <i className=\"red icon close\" onClick={this.onClose}></i>\n                        </div>\n                    </div>\n                    <div className=\"centered-container\">\n                    {this.props.signedIn && !this.props.playlist.loaded && (\n                            <PlaylistForm onSubmit={(formData) => this.props.savePlaylist(formData)} disabled={this.props.playlist.songs.length === 0} />\n                        )}\n                        {this.props.playlist.loaded ? (\n                            <>\n                                <MyButton tip=\"Üres listára váltás\" color=\"orange\" onClick={this.props.unloadPlaylist} icons={[\"file outline\"]} />\n                                <MyButton tip=\"Megosztás\" color=\"purple\" onClick={() => this.copyLink(this.props.playlist.loaded )} icons={[\"share alternate\"]} />\n                            </>\n\n                        ) : (\n                            <MyModal\n                                header=\"Biztosan törlöd a lejátszási listát?\"\n                                generateTrigger={() => <MyButton disabled={this.props.playlist.songs.length === 0 && !this.props.playlist.loaded} tip=\"Lejátszási lista törlése\" color=\"negative\" icons={[\"trash alternate\"]} />}\n                                closeText=\"Mégse\"\n                                approveText=\"Törlés\"\n                                onApprove={this.props.clearPlaylist}\n                                negative\n                                id={1}\n                            >\n                                Biztosan üríted a lejátszási listát? Ezt később nem tudod visszavonni!\n                            </MyModal>\n                        )}\n                        <MyButton disabled={!this.props.playlist.active} tip=\"Előző ének\" color=\"blue\" onClick={() => this.props.playlistNext(false, this.props.playlist)} icons={[\"backward\"]} />\n                        <MyButton disabled={this.props.playlist.active || this.props.playlist.songs.length === 0} tip=\"Lejátszási lista indítása\" color=\"green\" onClick={() => this.props.startPlaylist(this.props.playlist)} icons={[\"play\"]} />\n                        <MyButton disabled={!this.props.playlist.active} tip=\"Következő ének\" color=\"blue\" onClick={() => this.props.playlistNext(true, this.props.playlist)} icons={[\"forward\"]} />\n                    </div>\n                    {this.renderSongList(modifiable)}\n                    {extraButtons}\n                </div>\n            </>\n\n        )\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        songs: Object.values(state.songs),\n        playlist: state.playlist,\n        signedIn: state.auth.signedIn\n    }\n}\n\nexport default connect(mapStateToProps, {\n    fetchSongs,\n    playlistNext,\n    startPlaylist,\n    clearPlaylist,\n    removeFromPlaylist,\n    toggleVisibility,\n    moveInPlaylist,\n    savePlaylist,\n    unloadPlaylist,\n    newAlert,\n})(Playlist)","import React from 'react'\nimport { connect }  from 'react-redux'\nimport { Router, Route, Switch } from 'react-router-dom'\nimport { Cookies } from 'react-cookie'\n\nimport SongList from './screens/SongList'\nimport SongCreate from './screens/SongCreate'\nimport SongEdit from './screens/SongEdit'\nimport SongShow from './screens/SongShow'\nimport Login from './screens/Login'\nimport PlaylistList from './screens/PlaylistList'\n\nimport Footer from './Footer'\nimport Header from './Header'\nimport Playlist from './Playlist'\n\nimport history from '../history'\nimport { loadPlaylist, recoverState} from '../actions/playlistActions'\nimport { loginFromCookie } from '../actions/authActions'\nimport { BASE_URL } from '../util'\n\n\nclass App extends React.Component {\n    componentDidMount() {\n        const c = new Cookies()\n        const dicsiCookie = c.get('dicsiToken')\n        const zeneszCookie = c.get('zeneszToken')\n        if (dicsiCookie && zeneszCookie) {\n            this.props.loginFromCookie(dicsiCookie, zeneszCookie)\n        }\n        this.props.recoverState()\n    }\n\n    render() {\n        return (\n            <div>\n                <Router history={history}>\n                    <Header />\n                    <Switch>\n                        <Route path={`${BASE_URL}/`} exact component={SongList} />\n                        <Route path={`${BASE_URL}/songs/new`} exact component={SongCreate} />\n                        <Route path={`${BASE_URL}/songs/edit/:id`} exact component={SongEdit} />\n                        <Route path={`${BASE_URL}/songs/:id`} exact component={SongShow} />\n                        <Route path={`${BASE_URL}/login`} exact component={Login} />\n                        <Route path={`${BASE_URL}/playlists`} exact component={PlaylistList} />\n                        <Route path={`${BASE_URL}/playlists/:id`} exact render={({match}) => {\n                            this.props.loadPlaylist(match.params.id, true)\n                            history.push(BASE_URL)\n                        }} />\n                    </Switch>\n                    <Footer />\n                    <Playlist />\n                </Router>\n            </div>\n        )\n    }\n}\n\nexport default connect(null, { loadPlaylist, recoverState, loginFromCookie })(App)","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport { createStore, applyMiddleware, compose } from 'redux'\nimport reduxThunk from 'redux-thunk'\nimport { save, load } from \"redux-localstorage-simple\"\nimport 'semantic-ui-css/semantic.min.css'\n\nimport combinedReducer from './reducers'\nimport App from './components/App'\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst createStoreWithMiddleware  =composeEnhancers(applyMiddleware(save({ states: [\"playlist\", \"transpose\"], debounce: 500}), reduxThunk))(createStore)\nconst store = createStoreWithMiddleware(combinedReducer, load({ states: [\"playlist\", \"transpose\"]}))\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById('root'))"],"sourceRoot":""}